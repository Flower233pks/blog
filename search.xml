<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[éšæƒ³Â·ç›®æ¬¡è¡¨]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2050%2F12%2F31%2F%E9%9A%8F%E6%83%B3%C2%B7%E7%9B%AE%E6%AC%A1%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[ç»ˆäºåˆå¼€å§‹äº†ã€‚ æ¢äº†æ–°çš„åšå®¢ï¼ŒæŠŠä¹‹å‰åšå®¢å›­é‡Œçš„ä¸‰ç¯‡æ¬äº†ä¸‹æ¥ã€‚ æ¯æ¬¡åªè¦æˆ‘å†™ï¼Œä¸€å®šæ˜¯æœ‰ä»€ä¹ˆå¥‡å¦™/ç‰¹æ®Š/æ‚²ä¼¤çš„äº‹æƒ…å‘ç”Ÿï¼Œæˆ–è€…æ˜¯æˆ‘å†…å¿ƒé¢‡ä¸å®é™ã€‚å½“ç„¶ï¼Œå¾€å¾€æ˜¯åè€…èµ·å†³å®šæ€§å› ç´ ã€‚ æ—¶éš”å‡ ä¸ªæœˆï¼Œæˆ‘è¯»åˆ°ç¬¬ä¸€ç¯‡éšæƒ³æ—¶ï¼Œè™½ç„¶èƒ½æ„Ÿå—å‡ºæš®å¤æ—¶çš„æ— å¥ˆä¸æ‡µæ‡‚ï¼Œä½†æ˜¯è¿˜æ˜¯ååˆ†å¹¸ç¦çš„ã€‚ è¯»ç¬¬äºŒç¯‡ä¸˜å‰å°”æ—¶ï¼Œæˆ‘å†…å¿ƒåœ¨æ’•è£‚ã€åœ¨çº ç»“ï¼Œæ˜”æ—¥å›°é¡¿éº»æœ¨å´åˆæ•æ„Ÿçš„æˆ‘ï¼Œå†ä¸€æ¬¡å‘ˆç°åœ¨è‡ªå·±çœ¼å‰ï¼Œä»¿ä½›è‡ªå·±ç»å†äº†è¿™ä¹ˆå¤šï¼Œè¿˜æ˜¯åŸæ¥é‚£ä¸ªä¸å˜çš„å°‘å¹´ã€‚ è¯»æˆ‘$NOIP$çš„å¯ç¤ºå½•çš„æ—¶å€™ï¼Œæˆ‘èƒ½æ„Ÿå—åˆ°æˆ‘æ˜¯å¤šä¹ˆç»æœ›â€”â€”æˆ‘ä¸æ„¿æ„æåŠè¿™ä»¶äº‹ã€‚ä½†æ— è®ºå¦‚ä½•ï¼Œæˆ‘ä»é‚£é‡Œé¢è¯»å‡ºäº†æœ€è®©äººåŠ¨å®¹çš„ä¸œè¥¿â€”â€”ç»å¤„é€¢ç”Ÿçš„å¾®èŠ’å¸Œæœ›ä¸é“ºå¤©ç›–åœ°çš„ç»æœ›ï¼Œæ‡µæ‡‚çš„çˆ±ä¸åˆ‡éª¨çš„æ¨ï¼Œç¼ ç»µæ‚ é•¿ï¼Œæ—¶è‡³ä»Šæ—¥ä»ç„¶éœ‡æ‰£æˆ‘çš„çµé­‚ã€‚ æ˜¯çš„ï¼Œæˆ‘æ˜¯èŠ±ï¼Œä¸€ä¸ªä¸ç†æ™ºçš„$Oier$ã€‚æˆ‘ä¹Ÿæƒ³æ¯å¤©24å°æ—¶æ‹¼å‡º48å°æ—¶çš„æ•ˆç‡ä¸€å¿ƒåšé¢˜ï¼Œä½†æ˜¯æˆ‘åšä¸åˆ°ï¼Œæˆ‘è¡€æ¶²ä¸­å‡ç»“ç€çš„ï¼Œåœ¨å‚¬ä¿ƒæˆ‘å†™ä¸‹æ¥ï¼Œå¿…é¡»è¦å†™ä¸‹æ¥ã€‚ åœ¨è¿™äº›æ–‡ç« é‡Œï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªè¿·èŒ«çš„é’å¹´å¦‚ä½•æ»¡æ€€çƒ­è¡€ä¸ç»æœ›ï¼Œçœ¼é‡Œé—ªçƒç€æ²§æ¡‘ä¸å¸Œæœ›ï¼Œæ€€é‡Œæ£ç€åæ‰çš„ç²®é£Ÿå’Œå´­æ–°çš„è®ºæ–‡ï¼Œè„šä¸‹è¸ç€å´å²–ä¸å¹³çš„è·¯ï¼Œå‘æ˜å¤©èµ°å»ã€‚ æ˜¯çš„ï¼Œæˆ‘æ˜¯èŠ±ï¼Œæ¥è‡ªå±±ä¸œï¼Œä½ ç›´æ¥å«æˆ‘èŠ±è¿™ä¸ªIDæˆ–è®¸æˆ‘ä¼šå¾ˆé«˜å…´ï¼Œä½†æ˜¯å¦‚æœä½ è®¤è¯†æˆ‘ä¹Ÿå¯ä»¥ä¸è¿™ä¹ˆæ‹˜æŸã€‚ var ap = new APlayer({ element: document.getElementById("aplayer-lVxxptYY"), narrow: false, autoplay: false, showlrc: false, music: { title: "èŠ±", author: "Hello Nico", url: "Hello Nico-èŠ±.flac", pic: "/QWQ/2050/12/31/éšæƒ³Â·ç›®æ¬¡è¡¨/qwq.png", lrc: "" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); ä»¥ä¸‹æ˜¯ç›®å½•ï¼š é¢˜ç›® é“¾æ¥ï¼ˆç‚¹å‡»å³å¯ï¼‰ éšæƒ³ä¸€ Â· æ¨æŸ³å²¸æ™“é£æ®‹æœˆ $Link$ éšæƒ³äºŒ Â· ä¸˜å‰å°” $Link$ éšæƒ³ä¸‰ Â· æœ¬èµ›å­£æœ€åçš„éšæƒ³/å¯ç¤ºå½• $Link$ éšæƒ³å›› Â· æ•…äººä»Šå®‰å¦ï¼Ÿ å’• éšæƒ³äº” Â· æ‰‹ä¸­æ²¡æœ‰çº¢ç«ç‘° $Link$ éšæƒ³å…­ Â· éš¾ $Link$ éšæƒ³ä¸ƒ Â· è¨€å¶ä¹‹åº­ $Link$ éšæƒ³å…« Â· æèŠ±ç–å½± å’• éšæƒ³ä¹ Â· æ„ä¹‰ $Link$]]></content>
      <tags>
        <tag>éšæƒ³/ä¸‹ä¸‹ç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[biaodashishu2]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F26%2Fbiaodashishu2%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[è¡¨è¾¾å¼æ ‘å…¥é—¨]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F26%2Fbiaodashishu%2F</url>
    <content type="text"><![CDATA[ä¸¥æ ¼æ¥è®²ï¼Œæˆ‘ä»¬æ‰€è°ˆçš„è¡¨è¾¾å¼æ ‘æ˜¯å¯¹ä¸€ä¸ªè®¡ç®—å¼çš„ä¸­ç¼€è¡¨è¾¾å¼æ‰€æ„é€ çš„äºŒå‰æ ‘å½¢ç»“æ„ï¼Œåœ¨æ±‚è§£è¡¨è¾¾å¼çš„å€¼æ—¶ååˆ†çš„æ–¹ä¾¿ã€‚ å¯¹äºä¸€æ£µè¡¨è¾¾å¼æ ‘ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œç‰¹åˆ«çš„æ˜¯æ•°å€¼åªä¼šæ˜¯å¶å­èŠ‚ç‚¹ï¼Œè¿™äº›æ•°å€¼ç”±å…¶ç¥–å…ˆèŠ‚ç‚¹â€”â€”å‡æ˜¯â€œè®¡ç®—ç¬¦å·â€çš„èŠ‚ç‚¹è¿æ¥èµ·æ¥ã€‚è€Œè®¡ç®—æ–¹å¼åˆ™æ˜¯ï¼š$$\rm{S_u=calc(S_{v_1}, S_{v_2})}$$å…¶ä¸­uä¸ºå½“å‰èŠ‚ç‚¹ï¼Œcalcå‡½æ•°çš„è®¡ç®—æ–¹å¼å–å†³äºç‚¹$u$ä¸Šçš„ç¬¦å·ã€‚ ä»è€Œåªéœ€è¦é€’å½’è®¡ç®—å³å¯ã€‚ $1$ é€’å½’å»ºæ ‘1234567891011121314151617181920212223242526272829303132333435363738394041424344inline bool isop(const char &amp;x)&#123; return x == '+' || x == '-' || x == '*' || x == '/' || x == '^' ;&#125;int build(const int &amp;l, const int &amp;r)&#123; if (brac[l] == r) return build(l + 1, r - 1) ; rr int rt = 0, ls = 0, rs = 0, x = 0 ; for (rr int k = l ; k &lt;= r ; ++ k)&#123; if (In[k] == '(') k = brac[k] + 1 ; if (k &gt; r) break ; if ((In[k] == '+' || In[k] == '-') &amp;&amp; k != l &amp;&amp; !isop(In[k - 1])) &#123; rt = k ; break ; &#125;//! if (In[k] == '*' || In[k] == '/') ls = k ; if (In[k] == '^' &amp;&amp; !rs) rs = k ; &#125; if (rt) x = rt ; else if (ls) x = ls ; else x = rs ; if (!x) &#123; x = r, op[x] = '?' ; sscanf(In + l, "%d", &amp;val[x]) ; val[x] %= Mod ; return x ; &#125; op[x] = In[x] ; L[x] = build(l, x - 1), R[x] = build(x + 1, r) ; return x ; &#125;int expow(int a, int b)&#123; rr int res = 1 ; while (b)&#123; if (b &amp; 1) (res *= a) %= Mod ; (a *= a) %= Mod ; b &gt;&gt;= 1 ; &#125; return res ; &#125;int dp(const int &amp;x)&#123; if (op[x] == '?') return val[x] ; rr int l = dp(L[x]) % Mod, r = dp(R[x]) % Mod, res = 0.0 ; if (op[x] == '+') res = (l + r) % Mod ; if (op[x] == '-') res = (l - r) % Mod ; if (op[x] == '*') res = (l * r) % Mod ; if (op[x] == '/') res = l * expow(r, Mod - 2) % Mod ; if (op[x] == '^') res = expow(l ,r) ; return res ; &#125;signed main()&#123; cin &gt;&gt; In + 1, N = strlen(In + 1) ; for (rr int i = 1 ; i &lt;= N ; ++ i)&#123; if (In[i] == '(') stk[++ tp] = i ; if (In[i] == ')') brac[i] = stk[tp], brac[stk[tp]] = i, tp -- ; &#125; root = build(1, N), cout &lt;&lt; dp(root) &lt;&lt; endl ; return 0 ; &#125; å…¶å®ä¹Ÿæ²¡å•¥å¥½è¯´çš„ï¼Œè¿™é“é¢˜æ˜¯NOIP2013æ™®åŠç»„çš„è¡¨è¾¾å¼æ±‚å€¼ã€‚ç„¶åå»ºæ ‘çš„æ—¶å€™éœ€è¦æ³¨æ„ä¼˜å…ˆçº§â€¦â€¦ ä½†å…¶å®è¿™ä¸ªåœ°æ–¹æƒ³è¯´çš„ä¸æ˜¯è¿™ä¸ªä¸œè¥¿ï¼Œè€Œæ˜¯ä¸€ä¸ªå¤æ‚åº¦çš„é—®é¢˜ã€‚å–œé—»ä¹è§çš„è¿™ä¸ªç©æ„å„¿çš„å¤æ‚åº¦æ˜¯$O(n^2)$çš„ï¼Œä½†æ˜¯åœ¨æˆ‘åŠ äº† 123if ((In[k] == '+' || In[k] == '-') &amp;&amp; k != l &amp;&amp; !isop(In[k - 1])) &#123; rt = k ; break ; &#125;//! ä¸­çš„breakä¹‹åï¼Œä»–å°±å¯ä»¥åœ¨400mså†…çš„é¾Ÿé€ŸæŠŠ1e6çš„æ•°æ®ç»™è‰¹è¿‡å»äº†â€¦â€¦ä¹Ÿç®—æ˜¯å¾ˆè¿· ä½†å¬è¯´ä¼¼ä¹çœŸæ­£$O(|S|)$çš„å»ºæ ‘å…¶å®åªéœ€è¦é¢„å¤„ç†ä¸€ä¸‹æ¯ä¸ªä½ç½®ä¹‹å‰æœ€è¿‘çš„ç¬¦å·å°±å¥½â€¦â€¦ 12345678910111213141516171819202122232425262728int build(int l, int r)&#123; int rt = -1 ; if (Code[r][1] &gt;= l) rt = Code[r][1] ; else if (Code[r][2] &gt;= l) rt = Code[r][2] ; if (rt &gt; 0)&#123; op[rt] = In[rt], L[rt] = build(l, rt - 1), R[rt] = build(rt + 1, r) ; return rt ; &#125; op[r] = '?', sscanf(In + l, "%d", &amp;val[r]) ; val[r] %= Mod ; return r ;&#125;int dp(int x)&#123; if (op[x] == '?') return val[x] ; int l = dp(L[x]) % Mod, r = dp(R[x]) % Mod, res = 0.0 ; if (op[x] == '+') res = (l + r) % Mod ; if (op[x] == '*') res = (l * r) % Mod ; return res ;&#125;int main()&#123; cin &gt;&gt; (In + 1) ; N = strlen(In + 1) ; for (i = 1 ; i &lt;= N ; ++ i)&#123; if (In[i] == '+') Add = i ; else if (In[i] == '*') Mul = i ; Code[i][1] = Add, Code[i][2] = Mul ; &#125; root = build(1, N) ; cout &lt;&lt; dp(root) &lt;&lt; endl ;&#125; è¿™ä¼¼ä¹å°±æ˜¯çº¿æ€§çš„äº†ã€‚ç„¶è€Œæµ‹äº†ä¸€ä¸‹é€Ÿå‘ç°ï¼š ä¼¼ä¹å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«â€¦â€¦äºæ˜¯è¿™å°±å¾ˆä½›äº†ã€‚ã€‚ $2$ ç”¨æ ˆå»ºæ ‘è¿™å…¶å®æ˜¯åœ¨UOJç¾¤é‡Œé¢iki9æ¨èçš„æ–¹å¼ï¼Œæˆ‘çœ‹åˆ°ä¼¼ä¹å…”é˜Ÿä¹Ÿæ˜¯è¿™ä¹ˆå»ºçš„ï¼Œäºæ˜¯å°±æ‰“ç®—å­¦ä¸€å­¦ã€‚]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>è¡¨è¾¾å¼æ ‘</tag>
        <tag>æ ‘æ¨¡å‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[0-1BFS]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F24%2F01BFS%2F</url>
    <content type="text"><![CDATA[$\text{0-1BFS}$æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ï¼Œå®ƒçš„è¾¹æƒæœ‰$1$å’Œ$0$ä¸¤ç§ã€‚åŒæ—¶ä¸ºäº†ä¿æŒ$BFS$çŠ¶æ€å•è°ƒçš„ç‰¹æ€§ï¼Œä½¿ç”¨0æƒå¤´å…¥ã€1æƒå°¾å…¥çš„å…¥é˜Ÿæ–¹å¼ã€‚ $1$ SP22393 KATHTHI - KATHTHI ç»™å‡ºä¸€ä¸ª$n \times m$çš„ç½‘æ ¼ï¼Œæ¯ä¸ªä½ç½®æœ‰ä¸€ä¸ªå°å†™å­—æ¯ï¼Œåˆå§‹åœ¨$(1, 1)$ï¼Œæ¯æ¬¡å¯ä»¥å‘ä¸Šä¸‹å·¦å³èµ°ï¼Œé—®èµ°åˆ°$(n, m)$çš„æœ€å°èŠ±è´¹è®¾$(x, y)$ä¸ºå½“å‰ä½ç½®ï¼Œ$(nx, ny)$ä¸ºä¸‹ä¸€ä½ç½®ã€‚$s[x][y]$è¡¨ç¤º$(x, y)$ä½ç½®çš„å­—ç¬¦ã€‚è‹¥$s[x][y] = s[nx][ny]$ï¼Œåˆ™ç§»åŠ¨çš„èŠ±è´¹ä¸º0ï¼Œå¦åˆ™èŠ±è´¹ä¸º1 sbé¢˜ã€‚ 1234567891011121314151617181920212223242526272829303132#define MAXN 2020#define mkp make_pairint dx[4] = &#123;1, 0, -1, 0&#125; ;int dy[4] = &#123;0, 1, 0, -1&#125; ;using namespace std ; deque &lt;pair&lt;int, int&gt;&gt; q ;int T, N, M, i, j, dis[MAXN][MAXN] ; char base[MAXN][MAXN] ;inline void bfs()&#123; memset(dis, 63, sizeof(dis)) ; dis[1][1] = 0 ; q.push_front(mkp(1, 1)) ; while (!q.empty())&#123; int x = q.front().first, y = q.front().second ; q.pop_front() ; for (i = 0 ; i &lt; 4 ; ++ i) &#123; register int kx = x + dx[i], ky = y + dy[i] ; if (kx &lt; 1 || kx &gt; N || ky &lt; 1 || ky &gt; M) continue ; if (dis[kx][ky] &gt; dis[x][y] + (base[x][y] != base[kx][ky])) dis[kx][ky] = dis[x][y] + (base[x][y] != base[kx][ky]), (base[x][y] == base[kx][ky]) ? q.push_front(mkp(kx, ky)) : q.push_back(mkp(kx, ky)) ; &#125; &#125;&#125;int main()&#123; cin &gt;&gt; T ; while (T --)&#123; scanf("%d%d", &amp;N, &amp;M) ; for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt;= M ; ++ j) cin &gt;&gt; base[i][j] ; bfs() ; cout &lt;&lt; dis[N][M] &lt;&lt; endl ; &#125;&#125; $2$ CF1063B Labyrinth ä½ æ­£åœ¨ç©ä¸€æ¬¾ç”µè„‘æ¸¸æˆã€‚åœ¨å…¶ä¸­ä¸€å…³ï¼Œä½ ä½äºä¸€ä¸ª nè¡Œ m åˆ—çš„è¿·å®«ã€‚æ¯ä¸ªæ ¼å­è¦ä¹ˆæ˜¯å¯ä»¥é€šè¿‡çš„ç©ºåœ°ï¼Œè¦ä¹ˆæ˜¯éšœç¢ã€‚è¿·å®«çš„èµ·ç‚¹ä½äºç¬¬ r è¡Œç¬¬ cåˆ—ã€‚ä½ æ¯ä¸€æ­¥å¯ä»¥å‘ä¸Šã€ä¸‹ã€å·¦ã€å³ä¸­çš„ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ä¸€æ ¼ï¼Œå‰ææ˜¯é‚£ä¸€æ ¼ä¸æ˜¯éšœç¢ã€‚ä½ æ— æ³•è¶Šå‡ºè¿·å®«çš„è¾¹ç•Œ.ä¸å¹¸çš„æ˜¯ï¼Œä½ çš„é”®ç›˜å¿«åäº†ï¼Œæ‰€ä»¥ä½ åªèƒ½å‘å·¦ç§»åŠ¨ä¸è¶…è¿‡xæ ¼ï¼Œå¹¶ä¸”å‘å³ç§»åŠ¨ä¸è¶…è¿‡ yæ ¼ã€‚å› ä¸ºä¸Šä¸‹é”®æƒ…å†µè‰¯å¥½ï¼Œæ‰€ä»¥å¯¹å‘ä¸Šå’Œå‘ä¸‹çš„ç§»åŠ¨æ¬¡æ•°æ²¡æœ‰é™åˆ¶ã€‚ç°åœ¨ä½ æƒ³çŸ¥é“åœ¨æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œä»èµ·ç‚¹å‡ºå‘ï¼Œæœ‰å¤šå°‘æ ¼å­å¯ä»¥åˆ°è¾¾ï¼ˆåŒ…æ‹¬èµ·ç‚¹ï¼‰ï¼Ÿ å—¯ï¼Œä¸€é“å¾ˆå¥½çš„é¢˜ã€‚å…¶å®å°±æ˜¯è€ƒè™‘æˆ‘ä»¬å¦‚æœä»$(x,y)$å‡ºå‘ï¼Œåˆ°è¾¾$(ex,ey)$ï¼Œå‘å³æ­¥æ•°è¶Šå°‘å‘å·¦éƒ¨ç½²å°±è¶Šå°‘ï¼ˆæ“ä½œäº’ç›¸æŠµæ¶ˆï¼‰ã€‚ æ‰€ä»¥ç›´æ¥å·¦å³ç§»åŠ¨çš„è¾¹æƒè®¾ç½®ä¸º1ï¼Œä¸Šä¸‹è®¾ç½®ä¸º0ï¼Œè·‘BFSå³å¯ã€‚è§‚å¯Ÿè¿™æ ·åšçš„åˆç†æ€§ï¼šåªæœ‰å·¦å³æœ‰é™åˆ¶ï¼Œæ‰€ä»¥æœ€åå¯¹äºæ¯ä¸ªç‚¹checkä¸€ä¸‹å°±å¥½ã€‚ ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºç½‘æ ¼å›¾ï¼ŒSPFAåœ¨è¿™ç§é¢˜ä¸Šç–¯ç‹‚fstã€‚ã€‚233 123456789101112131415161718192021222324252627282930313233343536pair &lt;int, int&gt; now ;int N, M ; char In[MAXN] ;int dx[4] = &#123;0, 1, 0, -1&#125; ;int dy[4] = &#123;1, 0, -1, 0&#125; ;// deque &lt;pair&lt;int, int&gt;&gt; q ; int ans, i, j ;bool map[MAXN][MAXN] ; int dis[MAXN][MAXN], L, R, sx, sy ;inline void bfs()&#123; memset(dis, 63, sizeof(dis)) ; dis[sx][sy] = 0 ; q.push_front(mkp(sx, sy)) ; while (!q.empty())&#123; now = q.front() ; q.pop_front() ; for (i = 0 ; i &lt; 4 ; ++ i)&#123; int kx = now.first + dx[i], ky = now.second + dy[i] ; if (kx &lt; 1 || ky &lt; 1 || kx &gt; N || ky &gt; M || !map[kx][ky]) continue ; if (dis[kx][ky] &gt; dis[now.first][now.second] + (i == 2)) dis[kx][ky] = dis[now.first][now.second] + (i == 2), (i != 2) ? q.push_front(mkp(kx, ky)) : q.push_back(mkp(kx, ky)) ; &#125; &#125;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; sx &gt;&gt; sy &gt;&gt; L &gt;&gt; R ; for (i = 1 ; i &lt;= N ; ++ i)&#123; cin &gt;&gt; (In + 1) ; for (j = 1 ; j &lt;= M ; ++ j) if (In[j] == '.') map[i][j] = 1 ; &#125; bfs() ; for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt;= M ; ++ j)&#123; if (dis[i][j] &lt; 0) continue ; if (dis[i][j] &lt;= L &amp;&amp; j - sy + dis[i][j] &lt;= R) ++ ans ; &#125; cout &lt;&lt; ans &lt;&lt; endl ; return 0 ;&#125; è¯¶ï¼Œåˆæ°´ä¸€ç¯‡æ–‡ç« è¯¶qwqã€‚]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšæƒ³ä¹Â·æ„ä¹‰]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F18%2FNine%2F</url>
    <content type="text"><![CDATA[Letâ€™s say sunshine for everyone äººä»¬è¯´ç”Ÿæ´»æ€»æ˜¯å……æ»¡é˜³å…‰But as far as I can remember ä½†åœ¨æˆ‘çš„è®°å¿†ä¸­Weâ€™ve been migratory animals æˆ‘ä»¬ä¸€ç›´åªæ˜¯å¦‚é‡å…½èˆ¬æµæµªLiving under changing weather å››å­£å˜æ¢ï¼Œæˆ‘ä»¬å¦‚å¸¸Someday we will foresee obstacles æ€»æœ‰ä¸€å¤©ï¼Œæˆ‘ä»¬ä¼šçœ‹è§é‚£äº›å›°éš¾é˜»ç¢Through the blizzard through the blizzard åœ¨é‚£ç‰‡é£é›ªä¹‹ä¸­ï¼Œåœ¨é‚£ç‰‡é£é›ªä¹‹åToday we will sell our uniform å¦‚ä»Šæˆ‘ä»¬å°†æ›¾ç»çš„æ ¡æœå˜å–Live together live together ä¸€åŒç¦»å»ï¼Œä¸€åŒå¯ç¨‹ var ap = new APlayer({ element: document.getElementById("aplayer-USrlrFOu"), narrow: false, autoplay: false, showlrc: false, music: { title: "Obstacles", author: "Syd Matters", url: "Obstacles.flac", pic: "/QWQ/2019/07/18/Nine/lis.png", lrc: "" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); $1$æœ€è¿‘æš‘å‡äº†ï¼Œä¸€ç›´é¢“çš„å¾ˆã€‚å¹¶ä¸æƒ³è¯´å¤ªå¤šï¼Œæ¯å¤©æ™šä¸Šæ˜ç¡ä¹‹é™…çœ¼å‰çš„ç«è‹—ä¼šåœ¨ç¬¬äºŒå¤©æ—©ä¸Šå¤ªé˜³å‡èµ·æ—¶ç†„ç­ï¼Œä¼¼ä¹ä¹Ÿä¸å†æ˜¯ä»€ä¹ˆç¨€ç½•äº‹ã€‚ä¸è¿‡å€’æ˜¯ä¹Ÿæœ‰æ‰€æ”¶è·ã€‚å…ˆæ˜¯å»Bç«™çœ‹CèŒçš„ã€Šå¥‡å¼‚äººç”ŸäºŒÂ·å®å†µã€‹ï¼Œæ‰çŸ¥é“æœ‰ã€ŠLife is Strangeã€‹è¿™ä¹ˆä¸€æ¬¾æ¸¸æˆï¼Œäºæ˜¯ç´¢æ€§åªçœ‹äº†ã€ŠäºŒã€‹ï¼Œè‡ªå·±ä»steamä¸Šä¹°äº†ç¬¬ä¸€éƒ¨ï¼Œæ´¥æ´¥æœ‰å‘³åœ°ç©äº†èµ·æ¥ã€‚å¥ˆä½•CPUæ˜¯1.8GHzçš„ï¼Œä»…è¾¾åˆ°äº†æœ€ä½é…çš„è¦æ±‚ï¼Œæ•…ç”»é¢ä½“éªŒæœ‰äº›å·®ï¼Œä½†å€’ä¹Ÿæ— å¦¨ã€‚ä½†æˆ–è®¸æ¸¸æˆæ—¶é•¿æœ‰ç‚¹å¤šï¼Ÿåˆ«äººéƒ½è¯´â€œ15å°æ—¶é€šå…³â€ï¼Œä¼¼ä¹æˆ‘ä¹Ÿæ˜¯åœ¨æ‹½å¹³å‡åˆ†äº†ã€‚ å¥‡æ€ªçš„æ˜¯ä¸€ç›´æ²¡æœ‰å®˜æ–¹çš„çš„æ±‰åŒ–åŒ…ï¼ˆä½†æ˜¯2å’Œç»­ä½œéƒ½æœ‰æ±‰åŒ–åŒ…ï¼Œåªæœ‰1å®˜æ–¹æ²¡å‘å¸ƒï¼‰ï¼Œäºæ˜¯åªèƒ½å‡­å¾ˆæ¸£çš„è‹±è¯­é˜…è¯»èƒ½åŠ›æ¥ç©ï¼Œä¸­é—´è‡ªç„¶ä¹Ÿæ˜¯å’Œçœ‹ã€Šå“ˆåˆ©æ³¢ç‰¹ã€‹ä¸€æ ·ï¼Œæœ‰è®¸å¤šç»†èŠ‚æ˜¯çœ‹ä¸æ‡‚çš„ï¼Œä½†æ˜¯95%+è¿˜æ˜¯æ²¡æœ‰é—®é¢˜ã€‚å¯æƒœç©å®Œä¹‹åï¼Œæ¯•ç«Ÿæ˜¯12 P.M.äº†ï¼Œä¸çŸ¥æ˜¯çœŸçš„å‡ºäºå›°å€¦ï¼Œäº¦æˆ–æ˜¯åˆ«çš„åŸå› ï¼Œæˆ‘å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„æ„Ÿè§‰ï¼Œå¤§æ¦‚å°±æ˜¯â€œå•Šï¼Œç»“æŸäº†â€ä¾¿æ²¡äº†åæ–‡ã€‚ ä¹‹åçš„ä¸€å¤©åŠå…¨ç”¨æ¥çœ‹éŸ©å‰§ã€Šç§˜å¯†æ£®æ—ã€‹ï¼Œè±†ç“£ä¸Š9åˆ†+çš„æ‚¬ç–‘åŠ›ä½œï¼Œç¡®å®ä¸é”™ï¼›ä½†æ˜¯çœ‹å®Œåˆ°ç°åœ¨ä¼¼ä¹å·²ç»è¿‡äº†10ä¸ªå°æ—¶å¤šï¼Œè‡ªå·±å´ä¸€ç‚¹æ·±åˆ»çš„æ„Ÿè§‰ä¹Ÿæ²¡æœ‰ï¼Œä»…ä»…ä¹Ÿæ˜¯â€œå•Šï¼Œç»“æŸäº†â€ã€‚æˆ‘é€¼è‡ªå·±åœ¨è„‘æµ·é‡Œæ„æ€å‡ºè¿‡å‡ ä¸ªç»“è®ºï¼Œè¯¸å¦‚â€œå‰§æƒ…å¥½ï¼Œæƒ…èŠ‚ç´§å‡‘â€ã€â€œä¸»è§’ä»¬èº«ä¸Šçš„å“è´¨å€¼å¾—å­¦ä¹ â€ä¹‹ç±»çš„è€å¥—çš„ä¸œè¥¿ï¼Œæ¯•ç«Ÿè‡ªå·±ä¸å–œæ¬¢æ¥å—â€œæˆ‘æµªè´¹äº†æ—¶é—´â€è¿™ç§äº‹å®ã€‚ ä½†æ˜¯æˆ‘ä»QQéŸ³ä¹ä¸Šï¼ˆæˆ‘ä¸€ç›´ä¸ç”¨ç½‘æ˜“äº‘ï¼‰æœåˆ°äº†Life is Strangeçš„soundtrackï¼Œå¬äº†å¬æœ€åé€‰æ‹©Cloyeåçš„BGMï¼Œæˆ–è€…è¯´è°¢åœºæ›²ï¼ŒObstaclesï¼Œæ¸æ¸åœ°æœ‰äº†æ„Ÿè§‰ã€‚è¿™æ—¶æˆ‘æ‰æ„è¯†åˆ°ï¼Œæˆ–è®¸è¿™çœŸæ˜¯ä¸€æ¬¾ä¼Ÿå¤§çš„æ¸¸æˆã€‚ $2$åˆ°ç°åœ¨æˆ‘æ‰å‘ç°ï¼Œä¸€ä¸ªçœŸæ­£çš„çˆ±çš„ä¸œè¥¿ï¼Œæˆ–è®¸ä¸€å¼ ç…§ç‰‡å°±èƒ½è¡¨è¾¾ï¼Œä¸è®¸è¦å„ä¸ªè§’åº¦çš„æ‹æ‘„ã€ç‚¹ç¼€â€”â€”æ­¤æ„Ÿæ…¨å¤§æ¦‚æ˜¯æ¥æºäºæˆ‘æœ¬æ¥æƒ³æŠŠè‡ªå·±å¾ˆæœ‰æ„Ÿè§¦çš„ç‰‡æ®µå•Šã€é•œå¤´å•Šã€å°è¯å•Šéƒ½æ•´ç†å‡ºæ¥ï¼Œä¸¢åˆ°åšå®¢ä¸Šå°å­˜èµ·æ¥ã€‚ä½†ç¢äºè‡ªå·±å®åŠ›ä¸å¤Ÿåˆå¤ªæ‡’ï¼Œæœ€ç»ˆå†³å®šæ”¾å¼ƒäº†ã€‚å½“ç„¶ï¼Œæˆ–è®¸è¿™ä¸ªæ„Ÿæ…¨ä¹Ÿä»…æ˜¯ä¸€ä¸ªå¿ƒç†å®‰æ…°è€Œå·²å§ã€‚ ä¸çŸ¥æ€çš„ï¼Œæœ€è¿‘æ— è®ºåšä»€ä¹ˆäº‹éƒ½æœ‰ç§â€œå´é“å¤©å‡‰å¥½ä¸ªç§‹â€çš„æ„Ÿè§‰ã€‚çºµç„¶ååœ¨å±å¹•å‰ï¼Œå•æ›²å¾ªç¯ç€Obstaclesçš„æˆ‘å¿ƒä¸­ä¸æ–­é—ªå›æ— æ•°ä¸ªæ¸¸æˆä¸­çš„é•œå¤´ï¼Œæˆ‘ä»æ¥æ²¡æ„è¯†åˆ°çš„æ„ŸåŠ¨ã€æ»¡è¶³åœ¨å¿ƒä¸­æ¸¸åŠ¨ï¼Œæˆ‘å´åªæƒ³æ·¡æ·¡åœ°æè¿°å®ƒï¼Œä»¿ä½›çœŸçš„æœ‰ä»€ä¹ˆä¸œè¥¿ä¸€è¯´å‡ºå£ï¼Œå°±ä¼šåŒ–ä½œçƒŸäº‘é£˜é£èµ°ï¼Œå†ä¹Ÿä¸å›ã€‚ æœ€åæˆ‘é€‰æ‹©äº†Cloyeï¼Œæ¯«ä¸çŠ¹è±«åœ°ï¼Œæ¯æ‰äº†å°é•‡ã€‚å¤§æ¦‚æ˜¯å¤ªæ„Ÿæ€§äº†å§ï¼Œçœ‹ç€CèŒç©å‡ºçš„æ‹¯æ•‘å°é•‡çš„ç»“å±€æœ€åï¼Œæ£ºæä¸Šç¿©ç¿©è½ä¸‹çš„é‚£åªè“è´è¶å’Œæœ€åçš„Maxçš„ç¬‘ï¼Œæˆ‘æ„Ÿåˆ°ä¸€é˜µç›®çœ©ã€‚ç»è¿‡äº†23ä¸ªå°æ—¶çš„å¥‹æˆ˜ï¼Œæˆ‘ä»¿ä½›å·²ç»å’ŒMaxèä¸ºäº†ä¸€ä½“ï¼šæˆ‘ä¼šæ„Ÿå¹è¶…èƒ½åŠ›æ»¥ç”¨çš„å±å®³ï¼Œæˆ‘çœ‹ç€Cloyeå¼€å¿ƒçš„æ ·å­è‡ªå·±ä¹Ÿä¼šå–œä¸è‡ªèƒœï¼Œçœ‹åˆ°æ¸¸æˆä¸­å‘¨å›´çš„åœºæ™¯ä¹Ÿæ¨ä¸å¾—èµ¶ç´§æ‹ä¸€å¼ ï¼Œä¹Ÿååˆ†æƒ³æ‹¥æœ‰å’ŒMaxä¸€æ ·çš„ä¹¦ç”»æ–¹å¼ï¼Œå¥é‡Œè¯é—´è´¯ç©¿ç€å……æ»¡æµ“éƒç¾å›½è¥¿éƒ¨é£å‘³çš„ç¬‘è¯ï¼Œä½†å´æ°¸è¿œä¸å¤±ç®€çº¦å’Œå¾—ä½“ã€‚æˆ‘æ„Ÿå¹è‡ªå·±èº«ä¸ºMaxæ‰€ç»å†çš„ä¸€åˆ‡ï¼Œä¸æ–­å˜æ¢çš„ç»“å±€ï¼Œä¸æ–­è¿æ¥çš„æŒ‘æˆ˜ï¼Œç›´åˆ°æœ€åæ‰å‘ç°å¯ä»¥æ”¹å˜äº‹å®çš„è‡ªå·±æœ‰å¤šä¹ˆæ— åŠ›ï¼Œæ‰å‘ç°Cloyeæ´»ç€æ‰æ˜¯æˆ‘å”¯ä¸€æƒ³è¦çš„ã€‚æ— è®ºæœ€åCloyeæ˜¯å¦ä¸ºæ­¤ç‰ºç‰²äº†ï¼Œæˆ‘éƒ½ä¼šå¾ˆæ„Ÿæ…¨å’ŒCloyeåœ¨ä¸€èµ·å®æ··ã€æ„Ÿæ…¨æˆ‘æˆåŠŸæ•‘ä¸‹äº†Kateï¼Œæ„Ÿæ…¨è‡ªå·±æˆ¿é—´çš„å°æ¸…æ–°å’ŒCloyeæˆ¿é—´çš„ç‹¬ç‰¹ï¼Œæ„Ÿæ…¨Maxå’ŒCloyeçš„é‚£ç§çˆ±æƒ…å’Œå‹æƒ…ä¸æ–­ç›¸äº’å åŠ ï¼Œåˆ›é€ å‡ºçš„é‚£ç§è‡³ç¾è‡³çœŸçš„æƒ…æ„Ÿã€‚ æ•´ä½“ä¸Šæ¥çœ‹ï¼Œè¿™åº”è¯¥æ˜¯ä¸ªæ‚²ä¼¤çš„æ•…äº‹â€”â€”æ— è®ºé€‰å“ªç§ç»“å±€ã€‚ä½†æ˜¯æˆ–è®¸ä¹Ÿåªæœ‰æ‚²å‰§ä¼šæŠŠç”Ÿæ´»ä¸­çš„ç¾å¥½æ’•ç¢ç»™äººçœ‹ï¼Œä¹‹åäººä»¬æ‰ä¼šä»é‚£äº›ç¢ç‰‡é‡Œé¢é‡æ–°æ‹¾èµ·å‘å‰èµ°çš„åŠ¨åŠ›å§ã€‚ æˆ‘å¾ˆæƒ³å’ŒMaxå’ŒCloyeåšæœ‹å‹ã€‚é‚£ä¸€å®šæ˜¯ä¸€ä»¶å¾ˆå¹¸ç¦çš„äº‹æƒ…å§ã€‚ $3$ä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘å¼€å§‹å¾ˆæƒ§æ€•çœ‹ä¸€éƒ¨æ–°å‰§æˆ–è€…ç©ä¸€éƒ¨æ–°çš„æ¸¸æˆã€‚æˆ‘å®³æ€•æƒ…èŠ‚ä¼šå¤ªå¦™ã€äººç‰©ä¼šå¤ªç²¾è‡´å¯¼è‡´æˆ‘æ²‰æµ¸å…¶ä¸­æ— æ³•è‡ªæ‹”ï¼Œæ­£å¦‚æˆ‘çœ‹ã€Šå“ˆåˆ©æ³¢ç‰¹ã€‹ã€æˆ‘çœ‹ã€Šè¨€å¶ä¹‹åº­ã€‹ã€æˆ‘ç©ã€Šç”ŸåŒ–å±æœº7ã€‹ã€æˆ‘ç©Life is Strangeä¸€æ ·ï¼Œè¦ç¼“å¥½å‡ å¤©æ‰èƒ½ç¼“è¿‡æ¥ã€‚æˆ‘ä¼šæ³„æ°”ä¸ºä»€ä¹ˆæˆ‘çš„ç”Ÿæ´»æ²¡æœ‰é‚£ä¹ˆå¤šç¼¤çº·çš„å…ƒç´ â€”â€”æ²¡æœ‰é­”æ³•ã€æ²¡æœ‰å€¼å¾—æˆ‘å®ˆæŠ¤çš„ä¸œè¥¿ã€æ²¡æœ‰æ”¹å˜æ—¶é—´çš„è¶…èƒ½åŠ›ã€æ²¡æœ‰è·¨è¶Šé¸¿æ²Ÿçš„æè‡´çˆ±æƒ…ï¼›æˆ‘ä¼šæ„Ÿæ…¨ä¸ºä»€ä¹ˆæˆ‘æ²¡æœ‰ä¸»äººå…¬é‚£ç§è¶…å‡¡è„±ä¿—çš„å“è´¨ã€æƒŠäººçš„æ„å¿—æˆ–è€…ä¼˜ç§€çš„äººé™…å…³ç³»ã€‚ä»¿ä½›æ¯å¤šä¸€éƒ¨æ–‡å­¦ä½œå“ï¼Œå°±å¦‚åŒæˆ‘å¿ƒåº•é»‘æš—çš„å¤œç©ºå¤šäº†ä¸€é¢—æ˜Ÿç‚¹ï¼Œä½†æˆ‘å´åªèƒ½èœ·ç¼©åœ¨è¿œå¤„é»‘æš—çš„è§’è½ï¼Œç‘Ÿç‘Ÿåœ°å‘ç€æŠ–ï¼Œçœ‹ç€å¤©ç©ºä¸­çš„å…‰èŠ’æˆ‘ç«Ÿä¼šè§‰å¾—åˆºçœ¼ï¼Œè§‰å¾—é¿ä¹‹ä¸åŠã€‚ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ï¼Œæˆ‘è¿æ¬£èµç¾å¥½çš„èƒ½åŠ›éƒ½æ²¡äº†ã€‚ ç¡®å®ï¼Œè™½ç„¶ä¸Šæ–‡æåˆ°çš„Obstaclesè¿™æ”¯æ­Œç¡®å®æ˜¯Life is Strangeåœ¨æˆ‘å¿ƒä¸­æœ€å®Œç¾çš„è¯ é‡Šï¼Œä½†æ˜¯æˆ‘æ¯«ä¸ç•™æƒ…é¢åœ°æŠŠå®ƒç§»å‡ºäº†æˆ‘çš„æ›²åº“ã€‚ä¸åœ¨äºåˆ«çš„ï¼Œåªæ˜¯å› ä¸ºæˆ‘ä¸æƒ³å†ä¸€å¬æŸé¦–æ­Œå°±æœ‰æƒ³å“­çš„å†²åŠ¨ï¼Œä¸æƒ³å†å¬ä¸€é¦–æ­Œå°±æ„Ÿåˆ°è‡ªå·±æœ‰å¤šä¹ˆå­¤ç‹¬ã€‚rqyå£ä¸­çš„â€œæ—©åœ¨å¿ƒé‡Œå“­è¿‡äº†â€æˆ–è®¸å°±æ˜¯è¿™ç§æ„Ÿè§‰å§ã€‚ æˆ‘åˆèƒ½åšä»€ä¹ˆå‘¢ï¼Ÿæ— è®ºå‘¨å›´æœ‰å¤šå°‘äººè·Ÿæˆ‘æˆå¤©å¼€ç©ç¬‘å•Šã€æ–—å˜´å•Šï¼Œæˆ‘çœŸçš„æŠŠä»–ä»¬æ‰“å¿ƒåº•å½“ä½œè¿‡ç†è§£æˆ‘çš„äººå—ï¼Ÿæˆ‘æ„Ÿè§‰è‡ªå·±æ¯å¤©å°±å¦‚åŒä¸€åº§ç©ºå£³ä¸€æ ·ï¼Œè¡Œå°¸èµ°è‚‰èˆ¬åœ°æ‹…å¿ƒç€ä¸€åˆ‡ã€‚å¤§æ¦‚æˆ‘æ˜¯å¾ˆéš¾æŠŠå¿ƒæ•å¼€ç»™è°çš„æŠŠï¼Œæˆ–è€…å³ä½¿æˆ‘æ•å¼€äº†æˆ‘ä¹Ÿä¸è®¤ä¸ºè‡ªå·±æ•å¼€äº†å§ï¼›ä»¥æ­¤ä¸ºç†ç”±è¯´â€œå¤§æ¦‚æ˜¯å› ä¸ºæ²¡æœ‰å¦ä¸€åŠé€ æˆçš„â€ï¼Œä¹Ÿä¸è¿‡æ˜¯ç—…æ€¥ä¹±æŠ•åŒ»å§ã€‚æˆ‘å°±ä»¿ä½›ä¸€åªè¿·é€”çš„å°èˆ¹ï¼Œæ°¸è¿œä¸çŸ¥é“è‡ªå·±çš„ä¸‹ä¸€ç«™åœ¨å“ªé‡Œã€‚- å…¶å®è¯´åˆ°åº•ï¼Œè¿˜æ˜¯æˆ‘æ ¹æœ¬ä¸çŸ¥é“å¦‚ä½•å»ç”Ÿæ´»ã€‚ä¹‹å‰ç§¯ç´¯çš„æµ®èºè®©æˆ‘ä¸çŸ¥é“è¯¥å¦‚ä½•é¢å¯¹å¹³å¸¸äººçš„ç”Ÿæ´»ï¼Œæ¥åˆ°é«˜ä¸­ä¹‹åæˆ‘æ‰çŸ¥é“â€œå“¦ï¼ŒåŸæ¥åŠªåŠ›æ‰æ˜¯ç¡¬é“ç†â€ã€‚æˆ–è®¸æ˜¯rqyå¤ªå¼ºäº†ï¼Œå¼ºåˆ°ä»–çš„å…‰èŠ’æ´’åœ¨æˆ‘çœ¼å‰æ—¶ä¼šè®©æˆ‘æœ‰ç§æˆ‘ä¹Ÿå¯ä»¥è½»æ¾åˆ°è¾¾é‚£ä¸ªé«˜åº¦çš„é”™è§‰â€”â€”æ•´ä¸ªé«˜ä¸€ä»¿ä½›åªæœ‰æœ€åä¸€æ˜ŸæœŸä¸æ˜¯æµ®èºçš„ã€‚ æˆ–è®¸ï¼Œæˆ‘ä¸€ç›´æ˜¯ä¸ªå¾ˆå¥½çš„$\rm{Admirator}$ (ç¾¡æ…•è€…)è€Œä¸æ˜¯ä¸€ä¸ªå¥½çš„$\rm{Doer}$(å®è·µè€…)å§ã€‚ $4$æˆ‘ä¸€ç›´æƒ³çŸ¥é“è‡ªå·±ç°åœ¨åˆ°åº•ä¸ºä½•è€Œæ´»ï¼Œæ´»çš„æ„ä¹‰åˆæ˜¯ä»€ä¹ˆã€‚ æ”¾çœ¼å››å‘¨å…¨æ˜¯çƒŸé›¾å¼¥æ¼«ï¼Œæˆ‘ç•æƒ§äº†ã€‚ æˆ–è®¸åªè¦æˆ‘å¼ºä¸€äº›ï¼Œåœ¨æ–‡åŒ–è¯¾ä¸Šã€æˆ–è€…åœ¨å¥¥èµ›ä¸Šå–å¾—äº†éª„äººçš„æˆç»©æˆ‘å°±å¯ä»¥å…¨èº«å¿ƒæŠ•å…¥å…¶ä¸­ä¸€è€…äº†ã€‚ä½†å¥ˆä½•å®åŠ›ä¸è¶³ï¼Œä¸¤è€…éƒ½ä¸æ˜¯æˆ‘çš„æ‹¿æ‰‹é¡¹ã€‚æˆ‘å¼€å§‹æ…Œäº†ã€‚ä¹‹å‰çš„å²æœˆä»¿ä½›éƒ½æ˜¯è™šåº¦ï¼Œè‡ªå·±å»å¹´å¤šä¹ˆå¼±ï¼Œä»Šå¹´ä¼¼ä¹ä¹Ÿå¹¶æ²¡æœ‰ä»€ä¹ˆå®è´¨çš„å˜åŒ–ã€‚æˆ‘å¼€å§‹æ…Œäº†ã€‚ å¤§å®¶éƒ½è¯´â€œä¸èƒ½åŠŸåˆ©åœ°æOIå•Šâ€ï¼Œå‘¨å›´mcfxã€rqyçš„æˆåŠŸä¹Ÿéƒ½åå¤è®ºè¯äº†è¿™ä¸€ç‚¹ã€‚ä½†æ˜¯æˆ‘ï¼Œæˆ‘â€¦å¯¹æˆ‘è€Œè¨€ï¼Œä¼¼ä¹æ²¡æœ‰æ¯”è¿™ä¸ªæ›´é«˜çš„ç²¾ç¥åŠ¨åŠ›äº†å•Šã€‚å‘¨å›´å¼‚æ ·çš„ç›®å…‰æ¥è¸µè€Œæ¥ï¼Œå› ä¸ºæˆ‘ä¸æ˜¯å¼ºè€…ï¼Œä¸å¯èƒ½è¯´å‡ºä»€ä¹ˆâ€œèµ°è‡ªå·±çš„è·¯ï¼Œè®©åˆ«äººè¯´å»å§â€çš„è±ªè¨€å£®è¯­â€”â€”æŒ‰ç€ä¼ ç»Ÿçš„æ­¥è°ƒéƒ½ä¸èƒ½å–èƒœï¼Œè‡ªå·±çš„æ­¥è°ƒå¤§æ¦‚åªæ˜¯é£è›¾æ‰‘ç«å§ã€‚ æˆ‘ä¼¼ä¹è§‰å¾—æœ‰äº›å¥‡æ€ªï¼Œå¤§æ¦‚è‡ªå·±æœ¬æ¥å°±ä¸æ˜¯æOIçš„äººï¼Œæˆ–è®¸æ˜¯ä¸ªæ–‡å­¦å®¶æ›´åˆé€‚ï¼›ä½†æ˜¯çœ‹åˆ°æœŸæœ«è€ƒè¯•æƒ¨ä¸å¿ç¹çš„è¯­æ–‡åˆ†æ•°ï¼Œæˆ‘åˆè¿·èŒ«äº†ï¼›å¤§æ¦‚è‡ªå·±æœ¬æ¥å°±æ²¡æœ‰å¤šåŠªåŠ›ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰ä»Šå¹´çœé€‰å‰è‡ªå·±å·²ç»å¤ŸåŠªåŠ›äº†å•Šï¼Œæˆ–è®¸åªæ˜¯æ–¹å‘é”™äº†â€”â€”ä½†æ˜¯æ–¹å‘åˆåœ¨å“ªå‘¢ï¼Œæˆ‘åˆè¿·èŒ«äº†ã€‚ ä¼¼ä¹å¤©åœ°ä¹‹å¤§ï¼Œåªæœ‰æˆ‘ä¸€ä¸ªäººæ•´æ—¥æ²‰æµ¸åœ¨è¿·èŒ«ä¹‹ä¸­æ— æ³•è„±èº«ï¼šäººä¸äººçœŸæ˜¯ä¸ä¸€æ ·å•Šã€‚æœ‰äº›äººå°±æ˜¯å¯ä»¥æ— é—®è¥¿ä¸œã€æ•¢æƒ³æ•¢å¹²ï¼›æˆ‘åˆ™åªä¼šæ˜¯ä¸€ä¸ªæ‚é±¼ï¼Œç¡æ­»åœ¨æ¼«æ— è¾¹é™…çš„å†¬æ—¥ã€‚ æ¯åˆ°è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘éƒ½å¥½æƒ³é€ƒè·‘ï¼Œæˆ‘æƒ³è·‘åˆ°Maxå’ŒCloyeçš„é‚£ä¸ªå°é•‡ï¼Œå’Œä»–ä»¬ä¸€èµ·æ— å¿§æ— è™‘åœ°æ´»ç€ï¼Œæ²¡æœ‰æ–‡åŒ–è¯¾çš„å‹åŠ›ï¼Œæ²¡æœ‰å‡å­¦çš„å‹åŠ›ï¼Œæ²¡æœ‰è±ªè¨€å£®è¯­çš„å‹åŠ›ï¼Œæ²¡æœ‰OIçš„å‹åŠ›ï¼Œå°±åªæ˜¯ç®€å•åœ°æ´»ç€â€¦â€¦æœ€é‡è¦çš„ï¼Œæˆ‘å¯ä»¥ä¸æ€è€ƒæˆ‘ä¸ºä½•è€Œæ´»ã€‚ å½“ç„¶ï¼Œä»¥ä¸Šéƒ½æ˜¯ä¸€ä¸ªé«˜ä¸­ç”Ÿçš„æ— ç—…å‘»åŸè€Œå·²ã€‚è¯´åˆ°åº•ï¼Œæˆ‘è¿˜æ˜¯æ²¡æœ‰ä»»ä½•å‹‡æ°”çš„è¼èšï¼Œä¸çŸ¥é“è¯¥æ€æ ·ç›´é¢ç”Ÿæ´»çš„ç—›å‡»ï¼Œä¸çŸ¥é“å¦‚ä½•è‡ªåœ¨åœ°æ´»ï¼Œæ•æ„Ÿï¼Œè€Œé¢“åºŸã€‚ é™¤äº†å‹‡æ°”ï¼Œæˆ‘ä»€ä¹ˆéƒ½ä¸ç¼ºã€‚ Life is Strangeï¼ŒMaxï¼ŒCloyeï¼Œå¯„æ‰˜ç€çš„ï¼Œæ˜¯æˆ‘é¥ä¸å¯åŠçš„ä¸€ä¸ªæ¢¦å•Šã€‚ $5$ç»ˆäºæˆ‘è¦é‡æ–°ä¸Šè·¯äº†ï¼Œè¿‡å»çš„å¿«ä¹æˆ‘æƒ³æŠ¹å»ï¼Œè¿‡å»çš„å¿ƒé…¸æˆ‘æƒ³åŸ‹è‘¬ã€‚çœ¼æ³ªå‚é’è¿‡çš„åœŸåœ°æ˜¯ç¿»ä¸Šæ¥çš„æ–°æ³¥ï¼Œåœ¨å¿ƒé‡Œæ­»äº†å¥½å‡ æ¬¡ä¹Ÿå¿…é¡»é‡ç”Ÿã€‚ è‡³äºæ–‡å­¦ä½œå“ï¼Œæˆ‘èƒ½æƒ³åˆ°çš„æœ€å¥½çš„ç»“æŸä¾¿æ˜¯å¦‚ä¸‹ï¼š æˆ–è®¸ï¼Œæ¯ä¸€ä»½ç²¾è‡´çš„è‰ºæœ¯ä½œå“éƒ½æ˜¯ä¸€ä¸ªæœ‰æ¡ä¸ç´Šçš„ä¸–ç•Œï¼›æœ‰å…³é‚£ä¸ªä¸–ç•Œçš„å›å¿†ï¼Œä¸å¦‚æŠ˜å èµ·æ¥ï¼Œå°±ç•™åœ¨é‚£ä¸ªä¸–ç•Œå§ã€‚ æ˜¯å•Šï¼ŒMaxå’ŒCloyeçš„æ•…äº‹ï¼Œå°±ç•™ç»™é˜¿å¡è¿ªäºšæ¹¾å’Œä»–ä»¬å³å°†æŠµè¾¾çš„è¥¿é›…å›¾å§ï¼›ç§‹æœˆå­é›„å’Œé›ªé‡ç™¾é¦™é‡Œçš„æ•…äº‹å°±ç•™åœ¨é‚£ä¸ªå¤è‰²å¤é¦™çš„é›¨äº­å§ã€‚ä¸€åˆ‡çš„ä¸€åˆ‡éƒ½æ˜¯ç¢ç‰‡ï¼Œåœ¨æ—¶ç©ºé‡Œé¢ç©¿è¡Œï¼Œå€è€Œæ¶ˆå¤±ä¸è§ï¼Œå€è€Œåˆå‡ºç°åœ¨æˆ‘çœ¼å‰ã€‚é“­è®°å’Œæ²‰æ²¦æ²¡æœ‰æ„ä¹‰ï¼›è¿™ä¸ªä¸–ç•Œçš„ä¸€åˆ‡ï¼Œæ— è®ºå¤šä¹ˆæ— èŠä¸ä¸å¯æœŸå¾…ï¼Œæ˜å¤©å¤ªé˜³å‡èµ·æ—¶ï¼Œä¾¿è¿˜è¦ç»§ç»­ã€‚ æ„ä¹‰ï¼Ÿä¼¼ä¹æ„ä¹‰è¿™ä¸œè¥¿æœ¬èº«å°±æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ç†è§£ç”Ÿå‘½ã€ç†è§£ç”Ÿæ´»åè€Œæ˜¯æŸç§å±ˆä»ï¼Œè€ŒçœŸæ­£çš„è‹±é›„åˆ™æ˜¯å‘½è¿çš„æ–—å£«â€”â€”å°±å¥½åƒJO5é‡Œé¢çš„ä¸»è§’ä»¬ï¼Œåšå®šåœ°ä¸¾èµ·åæŠ—å‘½è¿çš„å¤§æ——ã€‚ æ˜æ—¥æ˜¯å¦å¦‚åŒä»Šæ—¥ä¸€æ ·æ²‰æ²¦ï¼Ÿæˆ‘ä¸çŸ¥é“ã€‚æˆ‘åªçŸ¥é“æŠŠæ¡ä½ä¸‹ä¸€ç§’å°±è¶³å¤Ÿäº†ã€‚ä¹‹å‰çš„ç”Ÿæ´»çš„æ¯ä¸€å¸§ä»¿ä½›éƒ½åƒæ˜¯é£˜åœ¨ç©ºä¸­çš„æ³¡å½±è€Œå·²ï¼Œæ´—åˆ·ç€å­˜åœ¨äºè™šå¦„ä¸­çš„è®°å¿†ï¼Œä¸€æ¬¡ä¸€æ¬¡ï¼Œå¦‚åŒæ·é”ä¸€æ ·é˜»éç€æˆ‘çš„å‰è¿›ã€‚ æ‰€ä»¥ï¼Œè¯·å›å‹¿è¨€ä»€ä¹ˆæ˜å¤©æ›´å¥½ä¹‹ç±»çš„Pè¯äº†ï¼Œåœ¨ç»æœ›ä¸­æ±‚ç”Ÿæ‰æ˜¯äººç”Ÿçš„å¸¸æ€ã€‚å°±å¦‚åŒä»å³­å£ä¸­ç”Ÿå‡ºçš„å…°èŠ±ï¼ŒæŒ¤è½ä¸€æ»çŸ³å°˜éƒ½æ˜¯æˆåŠŸã€‚ ã€Šéšæƒ³ã€‹ç³»åˆ—ç›®æ¬¡è¡¨ï¼š$Link$]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>éšæƒ³/ä¸‹ä¸‹ç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Old-NOIP æ³›åšä¸€]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F11%2Fold-noip%2F</url>
    <content type="text"><![CDATA[é¦–å…ˆç®€ä»‹ä¸€ä¸‹è¿™ç¯‡æ–‡ç« çš„æ¥å†â€¦â€¦ æ­¤æ—¶çš„æˆ‘æ­£åœ¨çç¿»ä¹‹å‰åšè¿‡çš„ã€çœ‹èµ·æ¥è¿˜å¯ä»¥çš„NOIPæ°´é¢˜ï¼Œè§‰å¾—å“ªä¸ªåœ°æ–¹å€¼å¾—æ³¨æ„å°±æ•´äº†ä¸‹æ¥ã€‚ç„¶è€Œå®é™…ä¸Šæˆ‘æ˜¯åªæƒ³æ•´ç†â€œæ³›åšäºŒâ€é‡Œçš„é¢˜ç›®ã€‚ä¸è¿‡ä¸€æƒ³ä¼¼ä¹è‡ªå·±åŸºç¡€ä¸æ‰å®ï¼Œäºæ˜¯æ‰æœ‰äº†è¿™ç¯‡æ°´æ–‡ã€‚ $1~2013B$ ç«æŸ´æ’é˜ŸLink è¿™çœŸæ˜¯ä¸ªæ°´é¢˜ã€‚ä½†æ˜¯ä¹‹å‰åšçš„æ—¶å€™æ²¡æ„è¯†åˆ°ä¸€äº›é—®é¢˜ï¼Œå‰å‡ å¤©ç¿»æ¥çœ‹çœ‹åˆæŠŠè¿™ä¸ªé¢˜ç§’äº†ä¸€éã€‚ è§‚å¯Ÿæ•´ä¸ªå¼å­ï¼Œæˆ‘ä»¬æ‹†å¼€ä¹‹åå°±å‘ç°æ˜¯åœ¨æœ€å°åŒ–$-\sum a_ib_i$ï¼Œä¹Ÿå°±æ˜¯æœ€å¤§åŒ–$\sum a_ib_i$ã€‚ç„¶åæ ¹æ®é€‰ä¿®4-5é‡Œé¢çš„æ’åºä¸ç­‰å¼ï¼Œé€†åºå’Œ&lt;ä¹±åºå’Œ&lt;é¡ºåºå’Œï¼Œç›´æ¥æ‰¾é€†åºå¯¹å°±å¥½ã€‚ å·å·å­¦æ•°å­¦çœŸæœ‰ç”¨å•Š/kk $2 ~2014C$ é£æ‰¬çš„å°é¸ŸLink â€¦â€¦ä¸€é“goué¢˜ã€‚ å½“æ—¶å…¨å¤©ä¸‹éƒ½çŸ¥é“çŠ¶æ€$f_{i,j}$å°±æˆ‘ä¸ä¼šè½¬ç§»â€¦èƒŒåŒ…å…¶å®æŒºæ˜¾ç„¶çš„ï¼Œä¸Šå‡çš„æ—¶å€™åšå®Œå…¨èƒŒåŒ…ï¼Œæ³¨æ„ç”±äºå³ä½¿ğŸ¦åœ¨å¤©èŠ±æ¿é‡Œé¢($h= m$)æ—¶ä¹Ÿå¯ä»¥è·³ï¼Œæ‰€ä»¥å¤šè½¬ç§»å‡ æ¬¡ï¼Œ ä¸”æ³¨æ„æ—¢å¯ä»¥ä»i-1è½¬ç§»è¿‡æ¥ï¼Œä¹Ÿå¯ä»¥ä»ç°åœ¨çš„iè½¬ç§»è¿‡æ¥ï¼›ä¸‹é™çš„æ—¶å€™åšåå‘å€¼åŸŸçš„01èƒŒåŒ…ã€‚ 1234567891011121314151617181920212223242526272829303132333435int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; K ; ans = Inf ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d%d", &amp;up[i], &amp;dw[i]) ; for (i = 1 ; i &lt;= N ; ++ i) Wd[i][0] = -1, Wd[i][1] = M + 1 ; memset(dp, 63, sizeof(dp)) ; for (i = 1 ; i &lt;= K ; ++ i) scanf("%d", &amp;k), S[k] = 1, scanf("%d%d", &amp;Wd[k][0], &amp;Wd[k][1]) ; for (i = 0 ; i &lt;= M ; ++ i) dp[0][i] = 0 ; /*for (i = 2 ; i &lt;= N ; ++ i) for (j = Wd[i][0] + 1 ; j &lt; Wd[i][1] ; ++ j)&#123; dp[i][j] = dp[i - 1][j + dw[i]] ; for (k = 0 ; k &lt;= (j - Wd[i - 1][0] - 1) / up[i] ; ++ k) dp[i][j] = min(dp[i - 1][j - k * up[i]] + k, dp[i][j]) ; &#125;*/ for (i = 1 ; i &lt;= N ; ++ i)&#123; for (j = up[i] + 1 ; j &lt;= M + up[i] ; ++ j) dp[i][j] = min(dp[i - 1][j - up[i]], dp[i][j - up[i]]) + 1 ; for (j = M + 1 ; j &lt;= M + up[i] ; ++ j) dp[i][M] = min(dp[i][M], dp[i][j]) ; for (j = 0 ; j &lt;= M - dw[i] ; j ++) dp[i][j] = min(dp[i][j], dp[i - 1][j + dw[i]]) ; for (j = 0 ; j &lt;= Wd[i][0] ; ++ j) dp[i][j] = Inf ; for (j = Wd[i][1] ; j &lt;= M ; j ++) dp[i][j] = Inf ; &#125; for (i = 1 ; i &lt;= M ; ++ i) ans = min(ans, dp[N][i]) ; if (ans &lt; 19260817) return printf("%d\n%d\n", 1, ans),0 ; for (i = 1 ; i &lt;= N ; ++ i) S[i] = S[i - 1] + S[i] ; l = 1, r = N, p ; while (l &lt;= r)&#123; mid = (l + r) &gt;&gt; 1, ans = Inf ; for (i = 1 ; i &lt;= M ; ++ i) ans = min(ans, dp[mid][i]) ; if (ans &lt; 19260817) l = mid + 1, p = mid ; else r = mid - 1 ; &#125; cout &lt;&lt; 0 &lt;&lt; endl &lt;&lt; S[p] &lt;&lt; endl ; return 0 ;&#125; $3~2001C$ ç»Ÿè®¡å•è¯æ•°$Link$ ä¸€é“å¾ˆæ°´çš„DPï¼Œéš¾ç‚¹ï¼ˆå¦‚æœå¯ä»¥ç§°ä¹‹ä¸ºéš¾çš„è¯ï¼‰åœ¨äºåˆ¤æ–­ã€‚ç„¶åæ­¤å¤„ç”¨çš„æ˜¯å“ˆå¸Œï¼Œåˆ¤æ–­çš„æ—¶å€™å°±çåˆ¤å°±å¥½äº†ï¼ˆé›¾ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960using namespace std ;pair &lt;int, int&gt; p ; char D[MAXLEN][10] ;const UN LL base = 131 ;LL Hash[MAXLEN][MAXLEN], H[10] ;stack&lt; pair &lt;int, int&gt; &gt; s, s2 ;const UN LL Mod = 192183781721LL ;int dp[MAXLEN][50], Len, Length[10], o ;int P, M, K, i, j, k, di, dj ; char S[MAXLEN] ; inline LL Hashh(int Mark)&#123; UN LL res = 0 ; if (!Mark) &#123; for (k = j ; k &lt;= i ; ++ k) res = (res * base + S[k]) % Mod ; return res ; &#125; for (k = 0 ; k &lt;= Length[Mark] ; ++k) res = (res * base + D[Mark][k]) % Mod ; return res ;&#125;inline int Sum(int x, int y)&#123; LL res[7] ; memset(res, 0, sizeof(res)) ; for (di = 1; di &lt;= M ; ++ di) for (dj = x ; dj &lt;= y - Length[di] ; ++ dj) if (Hash[dj][dj + Length[di]] == H[di]) ++ res[di] ; while (!s.empty()) &#123; p = s.top() ; res[p.first] &gt; res[p.second] ? res[p.second] : res[p.first] = 0 ; s.pop(), s2.push(p) ; &#125; while (!s2.empty()) s.push(s2.top()), s2.pop() ; return res[1] + res[2] + res[3] + res[4] + res[5] + res[6] ;&#125;signed main()&#123; cin &gt;&gt; P &gt;&gt; K ; for (i = 0 ; i &lt; P ; ++ i) scanf("%20s", S + i * 20) ; cin &gt;&gt; M ; Len = strlen(S) ; for (i = 1 ; i &lt;= M ; ++ i) scanf("%s", D[i]), Length[i] = strlen(D[i]) - 1, H[i] = Hashh(i) ; for (i = 1 ; i &lt;= M ; ++ i) for (j = 1 ; j &lt; i ; ++ j)&#123; bool flag = 1 ; for (di = 0 ; di &lt;= min(Length[j], Length[i]) ; ++ di) if (D[j][di] != D[i][di])&#123; flag = 0 ; break ; &#125; if (flag) s.push(&#123;i, j&#125;), ++ o ; &#125; for (i = 0 ; i &lt; Len ; ++ i) for (j = 0 ; j &lt;= i ; ++ j) Hash[j][i] = Hashh(0) ; /*for (i = 0 ; i &lt; Len ; ++ i) for (j = 0 ; j &lt; i ; ++ j) printf("%d%c", Sum(j, i)," \n"[j == i - 1]) ;*/ for (k = 1 ; k &lt;= K ; ++ k) for (i = 0 ; i &lt; Len ; ++ i) for (j = k - 1 ; j &lt;= i ; ++ j) dp[i][k] = max(dp[i][k], dp[max(0, j - 1)][k - 1] + Sum(j, i)) ; cout &lt;&lt; dp[Len - 1][K] &lt;&lt; endl ; return 0 ;&#125; $4~2005B$ è¿‡æ²³$Link$ ä¹Ÿæ˜¯ä¸€é“å¾ˆæ°´çš„DPã€‚æ•´ç†è¿™ä¸ªé¢˜çš„åŸå› æ˜¯å› ä¸ºå¥½ä¹…ä¹‹å‰çš„å½“æ—¶åšè¿™é¢˜æ—¶ç”¨äº†ä¸€ç§è¯¡å¼‚çš„åšæ³•ï¼Œå³é€šè¿‡å¯¹$\sqrt{1e9}$å–æ¨¡è¿›è¡Œå‹ç¼©ï¼Œä½†æ˜¯è¿™æ˜¾ç„¶ä¸å¯¹å› ä¸º1ï¼šæˆ‘çš„å†™æ³•æ²¡æœ‰å¤„ç†modä¹‹åä½ç½®ç›¸åŒçš„æƒ…å†µï¼›å†è€…è½¬ç§»è¿‡ç¨‹ä¹Ÿååˆ†åœ°ä¸æœè´£ä»»ï¼š 1234567891011121314151617181920int mod=32501;int f[200000];bool pos[200000];int main()&#123; int n,l,r,m,cnt=0; cin&gt;&gt;n&gt;&gt;l&gt;&gt;r&gt;&gt;m; for(int i=1;i&lt;=m;i++)&#123; int x; cin&gt;&gt;x; pos[x%mod]=1; if(l==r&amp;&amp;x%l==0)cnt++; &#125; if(l==r)&#123; cout&lt;&lt;cnt; return 0;&#125; for(int i=1;i&lt;=mod;i++) f[i]=MAXN; f[0]=0; for(int i=1;i&lt;=mod;i++) for(int j=l;j&lt;=r;j++)&#123; int k=i%mod; if(i&gt;=j)f[i]=min(f[i],f[i-j]+pos[k]); &#125; cout&lt;&lt;f[mod];&#125; ä½†é—®é¢˜æ˜¯ï¼Œå®ƒè¿‡äº†ï¼Œè¿™å°±å¾ˆè¿·ã€‚ä»”ç»†æƒ³æƒ³ï¼Œä¼¼ä¹å¯èƒ½æ˜¯å› ä¸ºçŸ³å¤´æ•°é‡å¤ªå°äº†ï¼Œåªæœ‰100ï¼Œæ‰€ä»¥éšæœºä¸¢åˆ°ç©ºé—´é‡Œå»æœŸæœ›æ„ä¹‰ä¸Šæ¯$1e7$ä¼šæœ‰ä¸€å—çŸ³å¤´ï¼Œä¸”modä¹‹åä½äºåŒä¸€ä¸ªä½ç½®çš„æ¦‚ç‡çš„ç›¸åæ•°æ˜¯$32501$ï¼Œæ‰€ä»¥å¾ˆéš¾æœ‰è¿™ç§æ•°æ®å‡ºç°â€¦â€¦æ¢å¥è¯è¯´ï¼Œæ•°æ®æ°´æ­»äº†ã€‚ ç„¶è€ŒçœŸæ­£çš„åšæ³•åº”è¯¥æ˜¯â€œ2520ç¼©â€ï¼Œæ„æ€å°±æ˜¯å› ä¸ºé¢˜ç›®ä¸­çš„ s~t çš„å–å€¼èŒƒå›´æ˜¯ 1~10ï¼Œæ‰€ä»¥å–$lcm(1,2,..,10)=2520$æ˜¯å¯è¡Œçš„ã€‚ $5~2009B$ Hanksonçš„è¶£å‘³é¢˜$Link$ æ•´è¿™ä¸ªé¢˜åªæ˜¯å› ä¸ºæƒ…æ€€â€¦â€¦ é¥ä¸å¯åŠçš„è¿‡å»å•Šâ€¦â€¦Solution $6~2004D$ è™«é£Ÿç®—$Link$ æ•´è¿™ä¸ªé¢˜æ›´æ˜¯å› ä¸ºæƒ…æ€€äº†â€¦â€¦ å½“æ—¶æ˜¯ä½•æ—¶ï¼Ÿä¸è®°å¾—æ˜¯æœ«å†¬è¿˜æ˜¯æš‘å‡ï¼Œåªè®°å¾—æˆ‘ååˆ†å¼€å¿ƒåœ°å»é«˜ä¸­éƒ¨åŸ¹è®­ï¼Œåƒæ—©é¥­ä¹‹å‰è·ŸrqyçèŠï¼ŒèŠä»€ä¹ˆâ€œæ˜¯ä¸æ˜¯åªè¦æˆ‘å‘æ˜å‡ºå¯ä»¥å¤„ç†è´Ÿæƒè¾¹çš„Dijkstraå°±å¯ä»¥ä¸Šæ¸…åäº†â€ï¼Œä¸è‡ªè§‰åœ°èŠåˆ°äº†è¿™é“é¢˜ã€‚å—¯â€¦åœºæ™¯ä»€ä¹ˆçš„éƒ½å†å†åœ¨ç›®ï¼Œå°¤å…¶æ˜¯é¤å…ä¸œè¾¹æ´’è½çš„ç™½è‰²çš„é˜³å…‰ï¼Œä¸€ç›´åœ¨æˆ‘çš„è®°å¿†ä¸­é—ªäº®â€¦ å¯æƒœæˆ‘ä¸æ˜¯å½“å¹´é‚£ä¸ªæˆ‘äº†ï¼Œrqyä¹Ÿä¸æ˜¯å½“å¹´é‚£ä¸ªrqyäº†ï¼Œå¤§å®¶éƒ½åœ¨è¿ˆç€è‡ªå·±çš„æ­¥å­è¸å®åœ°å‰è¿›ï¼Œç»ˆäºè¿˜æ˜¯ä¼šåˆ†é“æ‰¬é•³å§â€¦â€¦ è¯¶è¯¶æˆ‘åœ¨å¹²ä»€ä¹ˆï¼Œqaqï¼Œå­¦ä¹ ï¼Œå­¦ä¹ â€¦â€¦ æš´åŠ›å°±æ˜¯æšä¸¾å…¨æ’åˆ—ï¼Œä½†æ˜¾ç„¶åªæœ‰30ptsã€‚ äºæ˜¯è€ƒè™‘ä¸€ä¸ªå¯è¡Œæ€§å‰ªæï¼Œå…¶å®å°±æ˜¯æ¯æ¬¡dfsåˆšå¼€å§‹å…ˆcheckä¸€éåˆä¸åˆæ³•ã€‚ä½†æ˜¯æ•´ç†è¿™ä¸ªé¢˜çš„ç›®çš„ä¹Ÿä¸åœ¨äºæ­¤ï¼Œè€Œåœ¨äºå…¶ä¸­çš„posæ•°ç»„ï¼Œå…¶å®å°±æ˜¯ç”¨æ¥è®°å½•ä»ä½ä½åˆ°é«˜ä½æ¯ä¸ªæœªçŸ¥æ•°çš„å‡ºç°é¡ºåºçš„ã€‚é‚£ä¹ˆå®é™…ä¸Šè¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¼˜ç§€çš„å‰ªæï¼Œå› ä¸ºåœ¨dfsé‡Œé¢æˆ‘ä»¬å¯ä»¥æ ¹æ®æ­¤å¯¹é è¿‘ä½ä½çš„æœªçŸ¥æ•°å…ˆèµ‹å€¼ã€å…ˆåˆ¤æ–­ï¼ˆç¬¬ä¸€ä¸ªå‰ªæï¼‰ã€‚ æ‰€ä»¥å¤§æ¦‚å°±æ˜¯å¯è¡Œæ€§å‰ªæå’Œæœ€ä¼˜æ€§å‰ªæç›¸è¾…ç›¸æˆçš„ç»“æœï¼Œæ¯”è¾ƒå·§å¦™ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647char _Char ; int pos[MAX] ;int Ans[MAX] ; bool mark[MAX] ;int N, A[MAX], B[MAX], C[MAX], tot ;inline void Print()&#123; for(int i = 0; i &lt; N ; ++ i) cout &lt;&lt; Ans[i] &lt;&lt; " " ; exit(0) ;&#125;inline bool Judge()&#123; int X = 0 ; for(int i = N - 1; i &gt;= 0 ; -- i)&#123; int NA = Ans[A[i]], NB = Ans[B[i]], NC = Ans[C[i]] ; if((NA + NB + X) % N != NC) return 0 ; X = (NA + NB + X) / N ; &#125; return 1 ;&#125;inline bool Speed()&#123; if(Ans[A[0]] + Ans[B[0]] &gt;= N) return 0 ; for(int i = N - 1; i &gt;= 0 ; i --)&#123; int NA = Ans[A[i]], NB = Ans[B[i]], NC = Ans[C[i]] ; if (NA == -1 || NB == -1 || NC == -1) continue ; if ((NA + NB) % N != NC &amp;&amp; (NA + NB + 1) % N != NC) return 0 ; &#125; return 1 ;&#125;inline void dfs(int sum)&#123; if (!Speed()) return ; if (sum == N + 1)&#123;if (Judge()) Print() ; return ;&#125; for(int i = N - 1; i &gt;= 0 ; -- i) if(!mark[i])&#123; Ans[pos[sum]] = i, mark[i] = 1 ; dfs(sum + 1) ; Ans[pos[sum]] = -1, mark[i] = 0 ; &#125; return ;&#125;inline void work_pos(int x)&#123;if(!mark[x]) mark[x] = 1, pos[++ tot] = x ;&#125;int main()&#123; cin &gt;&gt; N ; fill(Ans, Ans + MAX + 2, -1) ; for (int i = 0; i &lt; N ; ++ i)&#123; cin &gt;&gt; _Char ; A[i] = _Char - 'A' ;&#125; for (int i = 0; i &lt; N ; ++ i)&#123; cin &gt;&gt; _Char ; B[i] = _Char - 'A' ;&#125; for (int i = 0; i &lt; N ; ++ i)&#123; cin &gt;&gt; _Char ; C[i] = _Char - 'A' ;&#125; for (int i = N - 1; i &gt;= 0 ; -- i) work_pos(A[i]), work_pos(B[i]), work_pos(C[i]) ; fill(mark, mark + MAX + 2, 0) ; dfs(1) ; return 0 ;&#125; $\rm{Afterword}$ é¥æœ›æ‰¬å·æ»¡åœ°é›ªï¼Œä¸çŸ¥å·²æ˜¯æƒŠè›°èŠ‚ã€‚]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>Luogu</category>
      </categories>
      <tags>
        <tag>NOIPç³»åˆ—</tag>
        <tag>æ•°å­¦/ä¸ç­‰å¼</tag>
        <tag>åŠ¨æ€è§„åˆ’-èƒŒåŒ…æ¨¡å‹</tag>
        <tag>æœç´¢-å‰ªæ</tag>
        <tag>å¥‡æ€ªçš„æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Old-NOIP æ³›åšä¸‰]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F11%2Fold-NOIP-0%2F</url>
    <content type="text"><![CDATA[ä»¥ä¸‹çš„é¢˜æ˜¯æˆ‘åšäº†ä¹‹åä¸ç¦æ„Ÿæ…¨â€œå•Šï¼ŒçœŸæ˜¯ä¸ªå¥½é¢˜â€çš„é¢˜ä»¬â€¦â€¦ ç„¶åé¦–å…ˆæ‰“å‡ºéš¾åº¦æ ‡ç­¾ï¼š ç„¶åä»¥ä¸‹é¢˜ç›®æŒ‰ç…§å¾—è¾ƒé«˜çš„éƒ¨åˆ†åˆ†çš„éš¾åº¦æ’åº $~1~2013F$ åå®¹é“$Link$ å¯èƒ½è¿™é“é¢˜å¾ˆéš¾â€¦ä½†æ˜¯å®ƒæœ‰70åˆ†çš„æš´åŠ›åˆ†ï¼70åˆ†ï¼åœ¨lojä½ ç”šè‡³å¯ä»¥è·å¾—80åˆ†ï¼tmè¿™æ ·çš„è¯æš´åŠ›å’Œæ­£è§£æœ‰ä»€ä¹ˆåŒºåˆ«å—â€¦ä»å¾—åˆ†çš„æ—¶é—´åˆ†å¸ƒä¸Šæ¥è®²ï¼Œæƒ³æ­£è§£å°±æ˜¯å¤§å†™çš„ä¸å€¼â€¦â€¦ é¦–å…ˆæˆ‘ä»¬æ€è€ƒä»€ä¹ˆä¿¡æ¯æ˜¯æœ‰ç”¨çš„ï¼Œå—¯ï¼Œç©ºç™½æ ¼å­çš„ä½å­å’Œå½“å‰æ£‹å­çš„ä½ç½®ï¼Œæ‰€ä»¥åªè¦æˆ‘ä»¬ç”¨BFSï¼ˆè€Œä¸æ˜¯DFSï¼ŒDFSçš„çŠ¶æ€å¼€é”€æå¤§ï¼Œä½†æ›´å¯èƒ½çš„æ˜¯æˆ‘DFSçš„æ‰“å¼€æ–¹å¼ä¸å¯¹å§/sighï¼‰çš„è¯ï¼ŒçŠ¶æ€æ•°å°±æ˜¯$O(n^2m^2)$çš„ï¼Œç„¶åæ€»å¤æ‚åº¦å°±æ˜¯$O(qn^2m^2)$ï¼Œå¤§æ¦‚æ˜¯å››äº¿é›¶500ä¸‡çš„è¿ç®—é‡ä¸Šé™â€¦ç„¶è€Œä¸€å¼€å§‹æˆ‘ç®—æˆäº†å››åƒäº”ç™¾ä¸‡è¿˜çº³é—·ä¸ºä»€ä¹ˆå¼€äº†-O2åœ¨1sä»¥å†…è¿˜è·‘ä¸å‡ºæ¥â€¦â€¦ å…ˆè´´ä¸ªæš´åŠ›å§ï¼š 1234567891011121314151617181920212223242526void bfs()&#123; memset(vis, 0, sizeof(vis)) ; ans = Inf, vis[ex][ey][sx][sy] = 1 ; q.push((state)&#123;ex, ey, sx, sy, 0, 1&#125;) ; while (!q.empty())&#123; state n = q.front() ; q.pop() ; if (n.sx == tx &amp;&amp; n.sy == ty) ans = min(ans, n.s) ; for (int k = 0 ; k &lt; 4 ; ++ k)&#123; int kx = n.bx + dx[k], ky = n.by + dy[k], px, py ; if (kx == n.sx &amp;&amp; ky == n.sy) px = n.bx, py = n.by ; else px = n.sx, py = n.sy ; if (!base[kx][ky] || kx &gt; N || ky &gt; M || kx &lt; 1 || ky &lt; 1 || vis[kx][ky][px][py]) continue ; vis[kx][ky][px][py] = 1 ; q.push((state)&#123;kx, ky, px, py, n.s + 1, n.num + 1&#125;) ; &#125; &#125; if (ans &gt;= Inf) puts("-1") ; else printf("%d\n", ans) ; &#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; Q ; for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt;= M ; ++ j) scanf("%d", &amp;base[i][j]) ; while (Q --) cin &gt;&gt; ex &gt;&gt; ey &gt;&gt; sx &gt;&gt; sy &gt;&gt; tx &gt;&gt; ty, bfs() ; return 0 ;&#125; å–œé—»ä¹è§â€¦ä¸è¿‡è‡ªå·±æ‰“æš´åŠ›çš„èƒ½åŠ›è¿˜æ˜¯ä¸è¡Œå•Šï¼Œè¿˜å¾—ç»ƒå•Šqaq ä¹‹åå°±æ˜¯æ›´åŠ å–œé—»ä¹è§çš„çŠ¶æ€å‹ç¼©ã€‚æˆ‘ä»¬æ€è€ƒï¼Œè¿™$n^2m^2$ä¸ªçŠ¶æ€éƒ½ä»–å¨˜çš„æœ‰é¸Ÿç”¨å—ï¼ˆæäº‘é¾™ç–¾å‘¼æ€ï¼‰ï¼Œå¦‚æœç©ºç™½æ ¼å­ä¸åœ¨ç›®æ ‡æ ¼å­å‘¨å›´ï¼Œé‚£ä¹ˆæ— è®ºç©ºç™½æ ¼å­æ€ä¹ˆç§»åŠ¨éƒ½ä¸å¯èƒ½ç”¨çˆ±å‘ç”µã€‚æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘å§ç›´æ¥é¢„å¤„ç†å‡ºæ¥æ¯ä¸ªç©ºç™½æ ¼å­ä¸ç›®æ ‡æ ¼å­ï¼ˆå³èµ·å§‹æ ¼å­ï¼‰ç›¸é‚»çš„çŠ¶æ€ä¹‹é—´çš„ä»£ä»·ï¼Œä¹‹åç›´æ¥å¯¹æ­¤è·‘ä¸ª$SPFA$å°±å¥½äº†ï¼Œæ¯•ç«Ÿæœ€åæƒ…å†µä¸‹SPFAçš„å¤æ‚åº¦ä¹Ÿåªæ˜¯$O(nM)$çš„ï¼Œå¤§æ¦‚å°±æ˜¯$O(n\cdot 4nm)&lt;\frac{O(n^2m^2)}{7.5}$ï¼Œä¹Ÿç®—æ˜¯å¾ˆç¨³çš„å¤æ‚åº¦äº†ã€‚ ç„¶åæˆ‘ä»¬æ€è€ƒè¿™æ ·çš„å¤æ‚åº¦æ˜¯å¤šå°‘ã€‚è€ƒè™‘ç›®æ ‡æ ¼å­æœ‰$nm$ç§æƒ…å†µï¼Œç©ºç™½æ ¼å­åœ¨æœ‰æ•ˆæƒ…å†µä¸‹åªèƒ½åœ¨å…¶å››å‘¨ï¼Œæ•…çŠ¶æ€æ•°æ˜¯$O(4nm)=nm$çš„ã€‚ ç„¶åå…³äºä»£ç å®ç°è¿™å—éœ€è¦æ¯”è¾ƒæ·±å…¥çš„ç†è§£ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆé¢„å¤„ç†å‡ºæ¥å½“å½“å‰æ ¼å­åœ¨éšä¾¿ä¸€ä¸ªæ ¼å­ä¸Šï¼Œç©ºç™½æ ¼å­æƒ³è¦è½¬åˆ°å¦ä¸€ä¸ªæ–¹å‘çš„æ­¥æ•°ã€‚è¿™æ ·å°±å¯ä»¥æŠ½è±¡æˆä¸€å¼ ç©ºç™½å›¾ä¸Šå…ˆæœ‰çš„ä¸€ä¸ªä¸€ä¸ªæ ‘ï¼ˆä¹Ÿå°±æ˜¯ä¸€å¨æ£®æ—ï¼‰ã€‚ç„¶åä¸ºäº†è®©è¿™äº›æ£®æ—ä¹‹é—´èƒ½è¿ä¸Šè¾¹ï¼Œå†å°†â€œç©ºç™½æ ¼å­å’Œç›®æ ‡æ ¼å­æ¢äº†ä¸ªä½ç½®â€è¿™ç§è½¬ç§»è¿ä¸Šè¾¹ï¼ˆä¸è¿çš„è¯å°±ä¸å­˜åœ¨ä»ä¸€ä¸ªæ ¼å­åˆ°å¦ä¸€ä¸ªæ ¼å­çš„è½¬ç§»äº†ï¼‰ã€‚åŒæ—¶ä¸è¦å¿˜äº†å¯¹çŠ¶æ€çš„ç¼–å·ã€‚å³ï¼š 12345678910111213141516171819202122232425inline int _get(int x, int y, int d)&#123; return x * 120 + y * 4 + d ; &#125;void bfs(int fx, int fy, int ox, int oy, int d)&#123; int Id = _get(ox, oy, d) ; memset(dis, 0, sizeof(dis)), dis[fx][fy] = 1, q.push((state)&#123;fx, fy&#125;) ; // cout &lt;&lt; fx &lt;&lt; " " &lt;&lt; fy &lt;&lt; endl ; while (!q.empty())&#123; state n = q.front() ; int nx = n.x, ny = n.y ; q.pop() ; for (int k = 0 ; k &lt; 4 ; ++ k)&#123; int kx = nx + dx[k], ky = ny + dy[k] ; if (kx &gt; N || ky &gt; M || kx &lt; 1 || ky &lt; 1) continue ; if (base[kx][ky] &amp;&amp; !dis[kx][ky] &amp;&amp; (kx != ox || ky != oy)) dis[kx][ky] = dis[nx][ny] + 1, q.push((state)&#123;kx, ky&#125;) ; &#125; &#125; if (d &gt; 3) return ; for (int k = 0 ; k &lt; 4 ; ++ k)&#123; int kx = ox + dx[k], ky = oy + dy[k] ; if (kx &gt; N || ky &gt; M || kx &lt; 1 || ky &lt; 1) continue ; if (dis[kx][ky] &amp;&amp; (kx != fx || ky != fy) &amp;&amp; base[kx][ky]) Add(Id, _get(ox, oy, k), dis[kx][ky] - 1) ; &#125; Add(Id, _get(fx, fy, d) ^ 1, 1) ;&#125; ä»¥åŠ 1234567891011for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt;= M ; ++ j) cin &gt;&gt; base[i][j] ;for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt;= M ; ++ j)&#123; if (!base[i][j]) continue ; if (base[i - 1][j]) bfs(i - 1, j, i, j, 0) ; if (base[i + 1][j]) bfs(i + 1, j, i, j, 1) ; if (base[i][j - 1]) bfs(i, j - 1, i, j, 2) ; if (base[i][j + 1]) bfs(i, j + 1, i, j, 3) ; &#125; ç„¶åæˆ‘ä»¬è€ƒè™‘åœ¨SPFAä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ±‚å‡ºç©ºç™½æ ¼å­ä»(ex,ey)åˆ°(sx, sy)å‘¨å›´éœ€è¦çš„æ­¥æ•°ä½œä¸ºèµ·å§‹ç‚¹ï¼Œç„¶åSPFAå°±å¥½äº†ã€‚ 12345678910111213141516void Spfa()&#123; for (int k = 0 ; k &lt; MAXS ; ++ k) f[k] = Inf, vis[k] = 0 ; for (int k = 0 ; k &lt; 4 ; ++ k)&#123; int Id = _get(sx, sy, k), kx = sx + dx[k], ky = sy + dy[k] ; if (dis[kx][ky]) f[Id] = dis[kx][ky] - 1, Q.push(Id), vis[Id] = 1 ; &#125; while (!Q.empty())&#123; int n = Q.front() ; Q.pop() ; vis[n] = 0 ; for (int k = head[n] ; k ; k = E[k].next)&#123; if (f[to(k)] &gt; f[n] + E[k].val)&#123; f[to(k)] = f[n] + E[k].val ; if (!vis[to(k)]) vis[to(k)] = 1, Q.push(to(k)) ; &#125; &#125; &#125;&#125; $2~2012C$ å¼€è½¦æ—…è¡Œ $Link$ ä¸å¾—ä¸è¯´2012çš„é¢˜ç›®è´¨é‡æ˜¯çœŸå¿ƒå¥½å•Šâ€¦â€¦ é¦–å…ˆè¿™é¢˜ä¸ºäº†çœ‹ä¸Šå»ä¸æ˜¯é‚£ä¹ˆæ¯’ç˜¤ï¼Œäºæ˜¯åŠ äº†ä¸€ä¸ª70åˆ†çš„æš´åŠ›åˆ†ã€‚ç„¶è€Œâ€¦ç»†èŠ‚è´¼å¤šâ€”â€”æˆ–è€…è¯´åªæ˜¯æˆ‘ä¸ç»†å¿ƒï¼Œæ¯”å¦‚è¯´æŠŠAå’ŒBæ€ä¹ˆèµ°çœ‹åäº†ã€ç®—æ¯”å€¼çš„æ—¶å€™ç”¨äº†ä¸ªå‡doubleä¹‹ç±»çš„â€¦â€¦ äºæ˜¯70åˆ†å¥½åƒæœ‰ä¸ªå¤´å°±ä¼šå†™å§= = ä¸çŸ¥é“å½“å¹´ä»€ä¹ˆåŒºåˆ†åº¦= = 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647struct Path&#123; int v1, v2 ; int Id1, Id2 ;&#125;P[MAXN] ; int i, j ; double o, q ;int res, ans, N, M, T, base[MAXN], s[MAXN], x[MAXN], p ;inline int mabs(int x)&#123; return x &lt; 0 ? -x : x ; &#125;inline void GO(int S, int H)&#123; int u = 0 ; res = ans = 0 ; for (j = S ; j &lt;= N &amp;&amp; j ; u ^= 1)&#123; if (u) if (res + ans + P[j].v1 &gt; H) return ; else res += P[j].v1, j = P[j].Id1 ; else /*pkspks*/ if (res + ans + P[j].v2 &gt; H) return ; else ans += P[j].v2, j = P[j].Id2 ; // cout &lt;&lt; j &lt;&lt; endl ; &#125;&#125;signed main()&#123; cin &gt;&gt; N ; q = Inf ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%lld", &amp;base[i]) ; cin &gt;&gt; T &gt;&gt; M ; for (i = 1 ; i &lt;= M ; ++ i) scanf("%lld%lld", &amp;s[i], &amp;x[i]) ; for (i = 1 ; i &lt;= N ; ++ i)&#123; int tp = Inf, w = 0 ; for (j = i + 1 ; j &lt;= N ; ++ j)&#123; int qwq = abs(base[i] - base[j]) ; if (qwq &lt; tp || (qwq == tp &amp;&amp; base[w] &gt; base[j])) tp = qwq, w = j ; &#125; P[i].Id1 = w, P[i].v1 = tp ; tp = Inf, w = 0 ; for (j = i + 1 ; j &lt;= N ; ++ j)&#123; int qwq = abs(base[i] - base[j]) ; if (qwq &lt; tp &amp;&amp; (qwq &gt; P[i].v1 || (qwq == P[i].v1 &amp;&amp; base[P[i].Id1] &lt; base[j]))) tp = qwq, w = j ; &#125; P[i].Id2 = w, P[i].v2 = tp ; &#125; // GO(2, T), cout &lt;&lt; ans &lt;&lt; " " &lt;&lt; res &lt;&lt; endl ; // GO(4, T), cout &lt;&lt; ans &lt;&lt; " " &lt;&lt; res &lt;&lt; endl ; // for (i = 1 ; i &lt;= N ; ++ i) cout &lt;&lt; i &lt;&lt; " " &lt;&lt; P[i].v1 &lt;&lt; " " &lt;&lt; P[i].Id1 &lt;&lt; " " &lt;&lt; P[i].v2 &lt;&lt; " " &lt;&lt; P[i].Id2 &lt;&lt; endl ; for (i = 1 ; i &lt;= N ; ++ i)&#123; GO(i, T) ; o = 1.0 * res ? (1.0 * ans) / (1.0 * res) : Inf ; if (o &lt; q ||(o == q &amp;&amp; base[p] &lt; base[i])) q = o, p = i ; &#125; cout &lt;&lt; p &lt;&lt; endl ; for (i = 1 ; i &lt;= M ; ++ i) GO(s[i], x[i]), printf("%lld %lld\n", ans, res) ; return 0 ;&#125; ç„¶åæ„Ÿè§‰ä»æš´åŠ›åˆ°æ­£è§£å®Œå…¨ä¸æ˜¯ä¸€ä¸ªéš¾åº¦çš„ã€‚é¦–å…ˆè€ƒè™‘åˆ°åº•æ˜¯ä»€ä¹ˆåœ°æ–¹é˜»ç¢äº†ç¤¾ä¼šçš„å‘å±•â€”â€”åˆå§‹åŒ–ä¼¼ä¹æ˜¯$n^2$çš„ï¼Œèµ°ä¼¼ä¹æ˜¯$&lt;n^2$çš„ï¼Œé‚£ä¹ˆä»åˆå§‹åŒ–å…¥æ‰‹ï¼š $\rm{Part~1}$ åˆå§‹åŒ–çš„ä¼˜åŒ–æˆ‘ä»¬æ€è€ƒå¦‚æœå½“å‰è½®åˆ°ç¬¬$i$é«˜çš„åŸå¸‚äº†ï¼Œå¹¶ä¸”æ­¤æ—¶æ‰€æœ‰ç°å­˜åŸå¸‚ä¸­ä¸å­˜åœ¨ç¼–å·åœ¨$i$ä¹‹å‰çš„åŸå¸‚ï¼Œå³$i$æ˜¯æœ€å·¦è¾¹çš„åŸå¸‚ï¼Œé‚£ä¹ˆå¯¹å…¶æœ‰ç”¨çš„ä¿¡æ¯åªä¼šåœ¨ç¬¬$i-1,i-2,i+1$æˆ–è€…ç¬¬$i+2$çš„åŸå¸‚ä¸­é€‰å–ã€‚è¿™å°±æç¤ºæˆ‘ä»¬ä¼¼ä¹å¦‚æœä»å€¼åŸŸä¸Šè€ƒè™‘å°±æ˜¯$O(4n)$çš„äº†â€”â€”åªè¦æˆ‘ä»¬ä¿è¯ä¸å­˜åœ¨åœ¨$i$å·¦è¾¹çš„åŸå¸‚ã€å³å¯¹åº”åŸå¸‚ä¸å¯èµ°çš„æƒ…å†µã€‚ ç„¶åè¿™ä¸ªæ—¶å€™æœ‰ä¸ªå¾ˆç¥ä»™çš„æƒ³æ³•å°±æ˜¯åŒå‘é“¾è¡¨ä¼˜åŒ–ï¼Œæˆ‘ä»¬è€ƒè™‘æŒ‰é«˜åº¦æ’å®Œåºä¹‹åï¼Œå¯¹ç›¸é‚»å…ƒç´ å»ºç«‹åŒå‘é“¾è¡¨ã€‚ç„¶åæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæšä¸¾åŸå¸‚ã€getä¿¡æ¯ç„¶ååˆ é™¤æ‰è¿™ä¸ªåŸå¸‚ã€‚ 1234567891011121314151617181920212223inline bool cmp(BASE A, BASE B)&#123; return A.h &lt; B.h ; &#125;inline bool cmp2(BASE A, BASE B)&#123; return A.id &lt; B.id ; &#125;inline int inlaw(int pos)&#123; return (pos &gt; N || !pos) ? Inf : 0 ; &#125;signed main()&#123; cin &gt;&gt; N ; q = Inf ; for (i = 1 ; i &lt;= N ; ++ i) pre[i] = i - 1, nxt[i] = i + 1 ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%lld", &amp;base[i].h), base[i].id = i ; cin &gt;&gt; T &gt;&gt; M ; for (i = 1 ; i &lt;= M ; ++ i) scanf("%lld%lld", &amp;s[i], &amp;x[i]) ; sort(base + 1, base + N + 1, cmp) ; for (i = 1 ; i &lt;= N ; ++ i) Tid[base[i].id] = i ; for (i = 1 ; i &lt;= N ; ++ i)&#123; int t = Tid[i] ; d[1].h = inlaw(pre[t]) + abs(base[pre[t]].h - base[t].h), d[2].h = inlaw(pre[pre[t]]) + abs(base[pre[pre[t]]].h - base[t].h) ; d[3].h = inlaw(nxt[t]) + abs(base[nxt[t]].h - base[t].h), d[4].h = inlaw(nxt[nxt[t]]) + abs(base[nxt[nxt[t]]].h - base[t].h) ; d[1].id = base[pre[t]].id, d[2].id = base[pre[pre[t]]].id, d[3].id = base[nxt[t]].id, d[4].id = base[nxt[nxt[t]]].id, sort(d + 1, d + 5, cmp) ; P[i].Id1 = d[1].id, P[i].v1 = d[1].h, P[i].Id2 = d[2].id, P[i].v2 = d[2].h ; pre[nxt[t]] = pre[t], nxt[pre[t]] = nxt[t] ; &#125; ç„¶ååˆå§‹åŒ–çš„å·¥ä½œå°±ä¼˜åŒ–å®Œäº†ã€‚è‡³æ­¤å¯ä»¥åœ¨Luoguè·å¾—75ptsçš„å¥½æˆç»©ã€‚ $\rm{Part~2}$ èµ°çš„ä¼˜åŒ–â€¦ç„¶è€Œåªæœ‰ç¬¬ä¸€ä¸ªä¼˜åŒ–æƒ…å†µå¹¶ä¸ä¼šå¥½è½¬å¤šå°‘ã€‚æŸ¥çœ‹æ•°æ®ä¹‹åå‘ç°åŸæ¥æœ€åå‡ ä¸ªç‚¹çš„$s$å’Œ$x$éƒ½å®Œå…¨æ˜¯éšçš„é‚£ç§â€¦â€¦æ‰€ä»¥å°±å¤æ‚åº¦çˆ†ç‚¸ã€‚ç„¶åæˆ‘ä»¬è€ƒè™‘è¿™ä¹ˆä¸€ä¸ªå–œé—»ä¹è§çš„äº‹æƒ…â€”â€”é™åˆ¶ä¼¼ä¹åªæœ‰â€œå°äºxâ€å’Œâ€œå¯ä»¥ç»§ç»­èµ°â€è¯¶ï¼Œäºæ˜¯ä¼¼ä¹ç›¸é‚»çš„å‡ æ­¥å¦‚æœéƒ½ä¸è¶…è¿‡é™åˆ¶æ˜¯ä¸æ˜¯å°±å¯ä»¥ä¸€èµ·èµ°ï¼Ÿäºæ˜¯æƒ³åˆ°å€å¢é¢„å¤„ç†ã€‚ æˆ‘ä»¬ç”¨$A_{i,j}$è¡¨ç¤ºä»iå·ç‚¹å¼€å§‹ï¼Œèµ°$2^j$è½®ä¹‹å$A$èµ°è¿‡çš„è·¯ç¨‹ï¼›åŒç†$B_{i,j}$è¡¨ç¤ºä»iå·ç‚¹å¼€å§‹ï¼Œèµ°$2^j$è½®ä¹‹å$B$èµ°è¿‡çš„è·¯ç¨‹ã€‚å¹¶ä¸”é€‰æ‹©ç”¨$f_{i,j}$è¡¨ç¤ºä»iå¼€å§‹èµ°$2^j$è½®ä¹‹ååˆ°è¾¾çš„ç‚¹ã€‚ç„¶åå€¼å¾—æ³¨æ„çš„æ˜¯æœ€åå¯èƒ½èµ°çš„ä¸æ»¡ä¸€æ•´è½®ï¼Œäºæ˜¯ç‰¹åˆ¤ä¸€ä¸‹Aèƒ½ä¸èƒ½å†èµ°ä¸€æ¬¡å°±å¥½ã€‚ 123456789101112131415161718192021sort(base + 1, base + N + 1, cmp2) ;//é‡æ’å›æ¥= = for (i = 1 ; i &lt;= N ; ++ i)&#123; f[i][0] = P[P[i].Id2].Id1 ; if (P[i].Id2) A[i][0] = abs(base[P[i].Id2].h - base[i].h) ; if (P[P[i].Id2].Id1) B[i][0] = abs(base[P[i].Id2].h - base[P[P[i].Id2].Id1].h) ; &#125; for (i = 1 ; i &lt;= 20 ; ++ i) for (j = 1 ; j &lt;= N ; ++ j) f[j][i] = f[f[j][i - 1]][i - 1], A[j][i] = A[f[j][i - 1]][i - 1] + A[j][i - 1], B[j][i] = B[f[j][i - 1]][i - 1] + B[j][i - 1] ;...inline void GO(int S, ll H)&#123; ans = res = 0 ; for (j = 20 ; j &gt;= 0 ; -- j) if (f[S][j] &amp;&amp; A[S][j] + B[S][j] &lt;= H) ans += A[S][j], res += B[S][j], H -= (A[S][j] + B[S][j]), S = f[S][j] ; if (A[S][0] &lt;= H) ans += A[S][0] ; &#125; $3~2016B$ å¤©å¤©çˆ±è·‘æ­¥$Link$ â€¦â€¦å½“å¹´çš„æ¯’ç˜¤é¢˜ï¼Œè¿˜è®°å¾—é‚£è¿˜æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å‚åŠ NOIPï¼ˆæ™®åŠç»„ï¼‰ï¼Œä¸å‡ºæ‰€æ–™åœ°è€ƒæŒ‚ï¼Œç„¶årqyä¸å‡ºæ‰€æ–™åœ°è€ƒå¥½â€¦â€¦ å’³ï¼Œåé¢˜äº†ï¼Œç„¶åå¯¹äºè¿™é“é¢˜ï¼Œæˆ‘ç´¢æ€§æŠŠæ¯ä¸ªéƒ¨åˆ†åˆ†éƒ½å†™äº†ä¸€éï¼š $\rm{Part~1}$ 25pts$n,m\leq 1000$ å…¶å®å°±æ˜¯LCAä¸€ä¸‹ç„¶å$nm$çš„ç»Ÿè®¡ç­”æ¡ˆå°±å®Œäº†ã€‚ 12345678910111213141516171819202122232425262728293031void build(int now, int f)&#123; fa[now][0] = f, dep[now] = dep[f] + 1 ; for (int k = head[now] ; k ; k = E[k].next) if (to(k) == f) continue ; else build(to(k), now) ;&#125;void Setup()&#123; h = log(N) / log(2) + 1 ; for (j = 1 ; j &lt;= h ; ++ j) for (i = 1 ; i &lt;= N ; ++ i) fa[i][j] = fa[fa[i][j - 1]][j - 1] ;&#125;int lca(int u, int v)&#123; if (dep[u] &lt; dep[v]) u ^= v ^= u ^= v ; l = dep[u] - dep[v] ; for (int k = h ; k &gt;= 0 ; -- k) if (dep[fa[u][k]] &gt;= dep[v]) u = fa[u][k] ; if (u == v) return u ; for (int k = h ; k &gt;= 0 ; -- k) if (fa[u][k] != fa[v][k]) u = fa[u][k], v = fa[v][k] ; return fa[u][0] ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M ; for (i = 1 ; i &lt; N ; ++ i) scanf("%d%d", &amp;x, &amp;y), Add(x, y) ; build(1, 0), Setup() ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;base[i]) ; for (i = 1 ; i &lt;= M ; ++ i) scanf("%d%d", &amp;s[i], &amp;e[i]), lca1[i] = t = lca(s[i], e[i]), _up[i] = -(dep[t] &lt;&lt; 1) + (dep[s[i]] + dep[e[i]]) ; for (i = 1 ; i &lt;= N ; ++ i, printf("%d ", ans), ans = 0) for (j = 1 ; j &lt;= M ; ++ j) t = lca(e[j], i), p = lca(s[j], i), w1 = -(dep[p] &lt;&lt; 1) + (dep[i] + dep[s[j]]), w2 = dep[i] + dep[e[j]] - (dep[t] &lt;&lt; 1), ans += (w1 == base[i]) * (_up[j] == w1 + w2) ; return 0 ; &#125; $\rm{Part~2}$ 15ptsè¿™éƒ¨åˆ†æ˜¯é“¾ï¼Œä¿è¯$i$åˆ°$i+1$æœ‰ä¸€æ¡è¾¹ã€‚ é‚£ä¹ˆå…¶å®è¿™ä¸ªé—®é¢˜å°±è½¬åŒ–æˆäº†åœ¨ä¸€ä¸ªåºåˆ—ä¸Šï¼Œä¸ç‚¹$i$ç›¸éš”æ°å¥½ä¸º$t[i]$çš„ç‚¹çš„ä¸ªæ•°ï¼Œé¡ºä¾¿æ³¨æ„åˆ¤æ–­ä¸€ä¸‹èµ°æ²¡èµ°å®Œå°±å¥½ã€‚ä½†æ˜¯è¿™ä¸ªåœ°æ–¹æˆ‘ç”¨äº†ä¸€ä¸ªè‚¥è‚ zzçš„å†™æ³•ï¼Œå°±æ˜¯æ¯æ¬¡åŠ å®Œä¹‹ååˆ é™¤åˆ°è¿™ä¸ªç‚¹åœæ­¢çš„é‚£äº›ç‚¹ï¼Œè€Œâ€œé‚£äº›ç‚¹â€çš„æ±‚æ³•åˆ™æ˜¯æˆ‘æ‰‹å†™äº†ä¸€ä¸ªå¾ˆè¯¡å¼‚çš„äºŒåˆ†â€¦â€¦ 123456789101112131415161718192021222324252627282930313233343536373839404142434445namespace Tink&#123; struct Nodes&#123; int s, e, n ; &#125;u[MAXN], v[MAXN] ; int t1, t2 ; int be[MAXN], bs[MAXN], res[MAXN], k1 = 0, k2 = 0 ; bool cmp1(Nodes a, Nodes b) &#123; return a.e &lt; b.e ; &#125; bool cmp2(Nodes a, Nodes b) &#123; return a.e &gt; b.e ; &#125; void del(int p, bool m)&#123; int l = 1, r = (m ? k2 : k1) + 1 , mid, l0, l1 ; if (!m)&#123; while (l &lt; r)&#123; mid = (l + r) &gt;&gt; 1 ; if (u[mid].e &lt; p) l = mid + 1 ; else r = mid ; &#125; l0 = l, l = 1, r = k1 + 1 ; while (l &lt; r)&#123; mid = (l + r) &gt;&gt; 1 ; if (u[mid].e &lt; p + 1) l = mid + 1 ; else r = mid ; &#125; l1 = l ; for (int i = l0 ; i &lt; l1 ; ++ i) bs[u[i].s] -- ; &#125; else&#123; while (l &lt; r)&#123; mid = (l + r) &gt;&gt; 1 ; if (v[mid].e &lt; p) l = mid + 1 ; else r = mid ; &#125; l0 = l, l = 0, r = k2 + 1 ; while (l &lt; r)&#123; mid = (l + r) &gt;&gt; 1 ; if (v[mid].e &lt; p + 1) l = mid + 1 ; else r = mid ; &#125; l1 = l ; for (int i = l0 ; i &lt; l1 ; ++ i) be[v[i].s] -- ; &#125; &#125; void Solve2()&#123; for (int i = 1 ; i &lt;= M ; ++ i) &#123; t1 = qr(), t2 = qr() ; if (t1 &lt; t2) bs[t1] ++, u[++ k1] = (Nodes)&#123;t1, t2, k1&#125; ; else /**/be[t1] ++, v[++ k2] = (Nodes)&#123;t1, t2, k2&#125; ; &#125; sort(u + 1, u + k1 + 1, cmp1) ; for (int i = 1 ; i &lt;= N ; ++ i) res[i] += bs[i - base[i]], del(i, 0) ; sort(v + 1, v + k2 + 1, cmp1) ; for (int i = N ; i &gt;= 1 ; -- i) res[i] += be[i + base[i]], del(i, 1) ; for (int p = 1 ; p &lt;= N ; ++ p) cout &lt;&lt; res[p] &lt;&lt; " " ; &#125;&#125; $\rm{Part~3}$ 20ptsä¿è¯æ‰€æœ‰èµ·ç‚¹éƒ½åœ¨æ ¹ï¼ˆ1å·ç‚¹ï¼‰ã€‚ å…¶å®è¿™ä¸ªéƒ¨åˆ†ä¹Ÿæ˜¯æŒºæ°´çš„ã€‚å°±æ˜¯è€ƒè™‘ä¸€ä¸ªæ ‘å½¢DPå³å¯ã€‚ç„¶ååˆ¤æ–­ä¹Ÿå¾ˆå¥½åˆ¤æ–­ï¼Œå¦‚æœè¿™ä¸ªç‚¹çš„å¼€çœ¼æ—¶é—´æ­£å¥½æ˜¯æ ¹åˆ°å®ƒçš„è·ç¦»ï¼ˆæ·±åº¦å·®ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šä¸€å®šä¼šæ»¡è¶³åˆ°å®ƒçš„ç‚¹å’Œåˆ°å®ƒçš„å­æ ‘å†…çš„æ‰€æœ‰çš„ç‚¹ã€‚å¦åˆ™å°±è‚¯å®šä¸è¡Œï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªéƒ½ä¸æ»¡è¶³ã€‚ 1234567891011121314151617namespace DP&#123; int dp[MAXN], dis[MAXN] ; int dfs(int now, int fa)&#123; int sum = 0 ; for (int k = head[now] ; k ; k = E[k].next)&#123; if (to(k) == fa) continue ; dis[to(k)] = dis[now] + 1, sum += dfs(to(k), now) ; &#125; dp[now] += sum ; return dp[now] ; &#125; inline void Solve3()&#123; memset(dis, 63, sizeof(dis)), dis[1] = 0 ; for (int i = 1 ; i &lt;= M ; ++ i) dp[e[i]] ++ ; dp[1] = dfs(1, 0) ; for (int i = 1 ; i &lt;= N ; ++ i) if (base[i] == dis[i]) printf("%d ", dp[i]) ; else cout &lt;&lt; 0 &lt;&lt; " " ; &#125;&#125; äºæ˜¯ç°åœ¨å°±æœ‰äº†60ptsçš„ä¼˜ç§€åˆ†æ•°ã€‚ä¼¼ä¹è¿™æ ·çš„è¯å°±å¯ä»¥ç›´æ¥æŠŠå‰©ä¸‹çš„éƒ¨åˆ†å¼ƒäº†å»å†™T3çš„æœŸæœ›DPè¾½233 $\rm{Part~4~and~5}$ 40ptså‰©ä¸‹çš„éƒ¨åˆ†æ²¡æœ‰é€‰æ‹©åˆ†å¼€å†™æ‰€ä»¥å°±ä¸ç®—è°¢äº†æ¯ä¸ªéƒ¨åˆ†åˆ†æ˜¯ä¸æ˜¯ï¼Œå› ä¸ºå‰©ä¸‹çš„ä¸¤ä¸ªéƒ¨åˆ†å®åœ¨æ˜¯å¤ªåƒäº†ï¼Œéƒ½è¦ç”¨åˆ°ä¸€ç§æ€æƒ³â€”â€”æ¡¶. å…¶å®80ptsè¿˜æœ‰ä¸€ç§ä¸æ˜¯å¾ˆæƒ³å†™çš„å†™æ³•åœ¨è¿™é‡Œå°±ç•™ä¸ªå›¾å§ï¼š ç„¶åæˆ‘ä»¬æ€è€ƒæ¡¶çš„è§£æ³•ã€‚æˆ‘ä»¬æŠŠæ¯ä¸€æ®µè·¯ç¨‹æ‹†æˆå‘ä¸Šå’Œå‘ä¸‹ä¸¤æ®µã€‚ä¸‹æ–‡ä¸­è®¾$x$ä¸ºå½“å‰èŠ‚ç‚¹ã€‚ å¯¹äºå‘ä¸Šçš„è·¯å¾„ é¦–å…ˆå¯ä»¥äº§ç”Ÿè´¡çŒ®çš„ç‚¹å°±æ˜¯å­æ ‘å†…çš„$buc[dep[x]+ base[x]]$ï¼Œè¿™ä¸ªæˆ‘ä»¬ç”¨ä½œå·®æ¥æ±‚è§£ï¼ˆåŸå› æ˜¯æˆ‘ä»¬å¯èƒ½ä¼šéå†è®¸å¤šæ£µå­æ ‘æ‰€ä»¥ä¼šäº§ç”Ÿæ•°å€¼ç›¸åŒä½†ä¸åˆæ³•çš„è´¡çŒ®ï¼‰ã€‚ å…¶æ¬¡æˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œå¦‚æœä¸€ä¸ªäººçš„èµ·ç‚¹å’Œç»ˆç‚¹çš„LCAåœ¨å­æ ‘å†…ä½†ä¸æ˜¯$x$ï¼Œé‚£ä¹ˆä¹Ÿä¸ä¼šäº§ç”Ÿè´¡çŒ®ã€‚è§£å†³æ–¹æ¡ˆæ˜¯æ¯æ¬¡dfså®Œä¸€ä¸ªç‚¹å‘ä¸Šå›æº¯çš„æ—¶å€™åˆ é™¤æ‰å­æ ‘å†…æ‰€æœ‰ä»¥è¯¥ç‚¹ä¸ºLCAçš„ç‚¹ã€‚ åŒæ—¶ä¹Ÿéœ€è¦æˆ‘ä»¬æ›´æ–°ä»¥è¯¥èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„è·¯å¾„çš„æ¡¶ã€‚ å¯¹äºå‘ä¸‹çš„è·¯å¾„ é¦–å…ˆå¯¹äºä¸€æ¡è·¯å¾„$(u,v)$ï¼Œå½“å¯¹ç‚¹iäº§ç”Ÿè´¡çŒ®æ—¶å¯ä»¥æ¨å‡ºæ¥å¼å­ï¼š $$dep_v-dis_{u,v}=dep_i-base_i$$ é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠæ¯æ¡è·¯å¾„çš„$dep_v-dis_{u,v}$å‹åˆ°æ¡¶é‡Œé¢ï¼Œç„¶åæ¯æ¬¡è®¡ç®—è´¡çŒ®ã€‚ åŒæ—¶æˆ‘ä»¬è¿˜æ˜¯éœ€è¦æ¶ˆé™¤è´¡çŒ®ï¼Œå³æ¶ˆé™¤é‚£äº›å¯¹äºå„¿å­è€Œè¨€åœ¨çˆ¶äº²é‚£é‡Œåœæ­¢çš„è·¯å¾„ï¼Œæ–¹æ³•å°±æ˜¯åœ¨å‘ä¸‹è¿­ä»£ä¹‹å‰å…ˆæŠŠæ‰€æœ‰ä»¥å½“å‰ç‚¹ä¸ºç»ˆç‚¹çš„è´¡çŒ®åŠ ä¸Šï¼Œåˆ°å„¿å­æ—¶é€šè¿‡ä½œå·®å°±å¯ä»¥å‡å»è¿™éƒ¨åˆ†ã€‚æ³¨æ„å‘ä¸Šå›æº¯æ—¶è¿˜æ˜¯éœ€è¦åˆ é™¤é‚£äº›èœ·ç¼©åœ¨å­æ ‘å†…çš„è·¯å¾„ã€‚ ä¹‹åè¿˜æœ‰éœ€è¦æ³¨æ„çš„ï¼Œå°±æ˜¯å¦‚æœåœ¨ä¸€æ¡è·¯å¾„çš„LCAå¤„æ­£å¥½å¯ä»¥è§‚å¯Ÿåˆ°è¿™æ¡è·¯å¾„ï¼Œé‚£ä¹ˆå°±éœ€è¦-1ï¼Œå› ä¸ºæˆ‘ä»¬ä¸Šå‡ä¸‹é™ç»Ÿè®¡äº†ä¸¤éã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566namespace Prepare&#123; //25 inline int max(const int &amp;a, const int &amp;b) &#123; return a &gt; b ? a : b ; &#125; inline void Add(int u, int v)&#123; E[++ cnt].to = v, E[cnt].next = head[u], head[u] = cnt ; E[++ cnt].to = u, E[cnt].next = head[v], head[v] = cnt ; &#125; void build(int now, int f)&#123; fa[now][0] = f, dep[now] = dep[f] + 1, H = max(H, dep[now]) ; for (int k = head[now] ; k ; k = E[k].next) if (to(k) == f) continue ; else build(to(k), now) ; &#125; void Setup()&#123; h = log(N) / log(2) + 1 ; for (j = 1 ; j &lt;= h ; ++ j) for (i = 1 ; i &lt;= N ; ++ i) fa[i][j] = fa[fa[i][j - 1]][j - 1] ; &#125; int lca(int u, int v)&#123; if (dep[u] &lt; dep[v]) u ^= v ^= u ^= v ; l = dep[u] - dep[v] ; for (int k = h ; k &gt;= 0 ; -- k) if (dep[fa[u][k]] &gt;= dep[v]) u = fa[u][k] ; if (u == v) return u ; for (int k = h ; k &gt;= 0 ; -- k) if (fa[u][k] != fa[v][k]) u = fa[u][k], v = fa[v][k] ; return fa[u][0] ; &#125; inline int qr()&#123; register int k = 0 ; char c = getchar() ; while(!isdigit(c)) c = getchar() ; while(isdigit(c)) k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k ; &#125; inline int wo(int a, int b, int c)&#123; return -(dep[c] &lt;&lt; 1) + (dep[a] + dep[b]) ; &#125;&#125;namespace pks&#123; using namespace Prepare ; vector &lt;int&gt; v1[MAXN], v2[MAXN], v3[MAXN] ; int buc_d[MAXN &lt;&lt; 2], buc_u[MAXN &lt;&lt; 2], ans[MAXN] ; void dfs1(int now, int fa)&#123; int co = base[now] + dep[now], ks ; if (co &lt;= H) ks = buc_d[co] ; for (int k = head[now] ; k ; k = E[k].next) if (fa ^ to(k)) dfs1(to(k), now) ; buc_d[dep[now]] += cnbt[now] ; if (co &lt;= H) ans[now] = buc_d[co] - ks ; for (int k = 0 ; k &lt; v1[now].size() ; ++ k) -- buc_d[dep[v1[now][k]]] ; &#125; void dfs2(int now, int fa)&#123; int co = dep[now] - base[now] + N, ks = buc_u[co] ; for (int k = 0 ; k &lt; v2[now].size() ; ++ k) ++ buc_u[v2[now][k] + N] ; for (int k = head[now] ; k ; k = E[k].next) if (fa ^ to(k)) dfs2(to(k), now) ; ans[now] += buc_u[co] - ks ; for (int k = 0 ; k &lt; v3[now].size() ; ++ k) -- buc_u[v3[now][k] + N] ; &#125; void Solve5()&#123; for (int i = 1 ; i &lt;= M ; ++ i) cnbt[s[i]] ++, v1[LCA[i]].push_back(s[i]) ; dfs1(1, 0) ; for (int i = 1 ; i &lt;= M ; ++ i) v2[e[i]].push_back(dep[e[i]] - _up[i]), v3[LCA[i]].push_back(dep[e[i]] - _up[i]) ; dfs2(1, 0) ; for (int i = 1 ; i &lt;= M ; ++ i) if (dep[s[i]] - dep[LCA[i]] == base[LCA[i]]) -- ans[LCA[i]] ; for (int i = 1 ; i &lt;= N ; ++ i) printf("%d ", ans[i]) ; &#125;&#125;int main()&#123; using namespace Prepare ; cin &gt;&gt; N &gt;&gt; M ; for (i = 1 ; i &lt; N ; ++ i) x = qr(), y = qr(), Add(x, y) ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;base[i]) ; for (i = 1 ; i &lt;= M ; ++ i) scanf("%d%d", &amp;s[i], &amp;e[i]) ; build(1, 0), Setup() ; for (i = 1 ; i &lt;= M ; ++ i) LCA[i] = lca(s[i], e[i]), _up[i] = wo(s[i], e[i], LCA[i]) ; pks :: Solve5() ; return 0 ; &#125; å—¯ï¼Œç„¶åè¿™é“é¢˜å°±å®Œäº†ã€‚ä¸å¾—ä¸è¯´è™½ç„¶å½“æ—¶ç”¨å¿ƒåšäº†ï¼Œä½†æ˜¯è¿‡ä¸Šå‡ å‘¨å†åè¿‡å¤´æ¥çœ‹è¿˜æ˜¯è§‰å¾—æœ‰äº›ç»†èŠ‚ç†è§£çš„å¹¶ä¸åˆ°ä½ã€æˆ–è€…è¯´æ˜¯æ»¡åˆ†åšæ³•ä¸­çš„æœ‰äº›æµç¨‹å½“æ—¶æ ¹æœ¬æ²¡æœ‰ä»”ç»†æ¨å¯¼ã€‚ ä¸è¿‡ä¸å¾—ä¸è¯´è¿™ä¸ªé¢˜è¿˜æ˜¯éå¸¸å¦™çš„ã€‚æˆ–è®¸æœ‰æ—¶å€™é¢˜é¢å¤æ‚ã€éœ€æ±‚å¤æ‚ä¼šè®©äººå¿˜è®°è¿™é“é¢˜åˆ°åº•æœ‰å¤šå·§å¦™â€¦åæ­£å°±æ˜¯æ„Ÿè§‰è¿™é“é¢˜ç”¨â€œæ¡¶+å³æ—¶ä¿®æ”¹â€è¿™ä¸ªç»„åˆæ€æƒ³è¿˜æ˜¯å¾ˆniceçš„ã€‚ $4~2012F$ ç–«æƒ…æ§åˆ¶$Link$ â€¦è¿™ä¸ªé¢˜ä¹‹æ‰€ä»¥æ”¾åœ¨æœ€åä¸€ä¸ªæ˜¯å› ä¸ºæˆ‘çœŸçš„ä¸çŸ¥é“éƒ¨åˆ†åˆ†è¯¥æ€ä¹ˆå†™å•Šã€‚ å—¯ï¼Œé¦–å…ˆæ˜¯äºŒåˆ†ï¼Œè¿™å€’æ˜¯å¯ä»¥æƒ³åˆ°ã€‚ä¹‹åä¸€å¼€å§‹æƒ³çš„æ˜¯ä¼¼ä¹ä¸æ–­æŠŠåŸå¸‚å‘ä¸Šç§»åŠ¨å°±å¥½äº†ï¼Œæ¯•ç«Ÿè¶Šé ä¸Šè¶Šä¼˜ï¼›ä½†æ˜¯æ ·ä¾‹å°±æŠŠæˆ‘è¿™ç§å†™æ³•å¡æ‰äº†ï¼ŒåŸå› å¾ˆæµ…æ˜¾ï¼Œæˆ‘å¿½ç•¥äº†ç»•è¿‡æ ¹ç»§ç»­èµ°çš„é‚£äº›ç‚¹å¯ä»¥ç»§ç»­äº§ç”Ÿè´¡çŒ®â€¦â€¦äºæ˜¯å°±å¾ˆGGã€‚ â€¦äºæ˜¯æˆ‘é€‰æ‹©ç»Ÿè®¡äº†é‚£äº›å¯ä»¥è·¨è¶Šæ ¹çš„èŠ‚ç‚¹ã€‚å¯¹äºæœ€ç»ˆæ¯ä¸ªè¢«è¦†ç›–çš„èŠ‚ç‚¹ï¼Œæˆ‘ç”¨çš„æ˜¯ç›´æ¥æ›´æ–°vectoré¢„å¤„ç†å‡ºæ¥æŒ‚åœ¨æ¯ä¸ªç‚¹åº•ä¸‹çš„å¶å­èŠ‚ç‚¹ï¼Œcheckçš„æ—¶å€™ç›´æ¥åˆ¤ä¸€ä¸‹æ¯ä¸ªèŠ‚ç‚¹çš„markã€‚ç„¶è€Œè¿™æ ·å†™çš„å¾ˆç¹çï¼Œå¹¶ä¸”å¤æ‚åº¦ä¹Ÿæ˜¯ä¸ªè¿·â€¦æœ€ååªèƒ½ä¸äº†äº†ä¹‹äº† æ‰€ä»¥å¤§æ¦‚è¿™ä¸ªé¢˜æˆ‘æƒ³å‡ºäº†50%~60%ï¼Ÿâ€¦ç„¶è€Œè¿˜æ˜¯æ²¡æœ‰åˆ†æ•°ã€‚ $\rm{Part~1}$ å€å¢ï¼å€å¢ï¼å€å¢ï¼é¦–å…ˆå–œé—»ä¹è§çš„æ˜¯ï¼Œæˆ‘ä»¬å‘ä¸Šè·³çš„æ—¶å€™vanâ™‚å…¨å¯ä»¥ç”¨å€å¢æ¥æï¼Œåªè¦é¢„å¤„ç†å‡º$2^k$çº§ç¥–å…ˆå°±å¥½äº†ã€‚ ç„¶åæ³¨æ„é¡ºä¾¿åˆ¤æ–­ä¸€ä¸‹å¯ä¸å¯ä»¥æ‹å¼¯ï¼Œå³è·³åˆ°æ ¹ä¹‹åæ˜¯å¦åœ¨äºŒåˆ†çš„æ—¶é—´å†…å¯ä»¥ç»§ç»­å‘ä¸‹è·³ã€‚ 1234567891011121314151617181920#define fr first#define sc second#define mp(a, b) make_pair(a, b)pair&lt;int ,int&gt; Army[MAXN], Pest[MAXN] ;memset(res, 0, sizeof(res)) ;memset(Army, 0, sizeof(Army)) ;memset(Pest, 0, sizeof(Pest)) ;for (i = 1 ; i &lt;= M ; ++ i)&#123; t = base[i] ; for (j = 20 ; j &gt;= 0 ; -- j) if (!fa[t][j] || Sum[base[i]] - Sum[fa[t][j]] &gt; x) continue ; else t = fa[t][j] ; if (t &gt; 1) res[t] = 1 ; else &#123; t = base[i] ; for (j = 20 ; j &gt;= 0 ; -- j) if (fa[t][j] &gt; 1) t = fa[t][j] ; Army[++ n] = mp(x - Sum[base[i]], t) ; &#125;&#125; $\rm{Part~2}$ è½¬åŒ–ï¼è½¬åŒ–ï¼è½¬åŒ–ï¼è¿™ä¸ªåœ°æ–¹æœ‰ä¸ªè‚¥è‚ æœ‰æ„æ€çš„ç‚¹ï¼Œå°±æ˜¯æˆ‘ä»¬æ€è€ƒå‡è®¾ä¸€ä¸ªå¶å­èŠ‚ç‚¹æ²¡æœ‰è¢«è¦†ç›–ï¼Œé‚£ä¹ˆå°±è¯´æ˜ä¸€å®šå­˜åœ¨å®ƒçš„æŸä¸€çº§ç¥–å…ˆçš„æ•´æ£µå­æ ‘æ²¡æœ‰è¢«è¦†ç›–ã€‚é‚£ä¹ˆè¿™å°±æç¤ºæˆ‘ä»¬å¯ä»¥è€ƒè™‘ç›´æ¥åˆ¤æ–­æ ¹çš„æ¯ä¸ªå„¿å­æ˜¯å¦éƒ½è¢«è¦†ç›–äº†ï¼ˆæ ‘å½¢ç»“æ„çš„ä¼˜è¶Šæ€§ï¼‰ å—¯ï¼Œäºæ˜¯å¯¹äºæˆ‘ä»¬ä¸Šä¸€éƒ¨åˆ†æ‰“å®Œmarkä¹‹åçš„é‚£äº›ç‚¹ï¼ˆæš‚æ—¶æ˜¯åªæœ‰ä¸ä¼šæ‹å¼¯çš„è¢«æ‰“äº†markï¼‰ï¼Œæˆ‘ä»¬ç›´æ¥è€ƒè™‘ä¸è¿›è¡Œä¸€æ¬¡$O(n)$çš„dfså°±å¯ä»¥å®Œæˆpush_upçš„æ“ä½œã€‚ ç„¶åæˆ‘ä»¬è€ƒè™‘å¦‚ä½•æ“ä½œé‚£äº›å¯ä»¥æ‹å¼¯çš„ç‚¹ã€‚æ€è€ƒæœ€ä¼˜çš„æ–¹æ¡ˆä¸€å®šæ˜¯è¶Šé«˜è¶Šå¥½ï¼Œæ‰€ä»¥ä¸å¦¨å°±è®©ä»–æ‹è¿‡æ¥ä¹‹åè½åœ¨æ ¹çš„å„¿å­ä¸Šã€‚äºæ˜¯æˆ‘ä»¬éœ€è¦ç»Ÿè®¡è¿™ä¸ªçš„ä»£ä»·ï¼Œå¹¶å¯¹æ”¶é›†æ¥çš„ä¸¤ä¸ªä¿¡æ¯åˆ†åˆ«æ’åºã€‚ä¹‹åå°±ç›´æ¥åŒæŒ‡é’ˆæ‰«ä¸€éæ ¹çš„å…¨éƒ¨å„¿å­ï¼Œçœ‹çœ‹æ˜¯å¦å…¨éƒ¨éƒ½è¢«è¦†ç›–äº†å³å¯ã€‚ 1234567891011121314151617181920void push_down(int rt)&#123; bool x = 1, y = 0 ; for (int k = head[rt] ; k ; k = E[k].next)&#123; if (to(k) == fa[rt][0]) continue ; push_down(to(k)) ; x &amp;= res[to(k)] ; y = 1 ; &#125; if (rt &gt; 1 &amp;&amp; x &amp;&amp; y) res[rt] = 1 ;&#125;.... push_down(1) ; for (int k = head[1] ; k ; k = E[k].next) if (res[to(k)]) continue ; else Pest[++ m] = mp(E[k].v, to(k)) ; j = 1 ; sort(Army + 1, Army + n + 1, cmp), sort(Pest + 1, Pest + m + 1, cmp) ; for (i = 1 ; i &lt;= n ; ++ i)&#123; if (!res[Army[i].sc]) res[Army[i].sc] = 1 ; else if (Army[i].fr &gt;= Pest[j].fr) res[Pest[j].sc] = 1 ; while (res[Pest[j].sc] &amp;&amp; j &lt;= m) ++ j ; &#125; return j &gt; m ;&#125; å—¯ï¼Œè´´ä¸ªæ€»ç¨‹åºå§ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667struct Edge&#123; int to, next, v ;&#125;E[MAXN &lt;&lt; 1] ; int cnt, head[MAXN], n, m ; bool res[MAXN] ;int N, M, P, Sum[MAXN], ans, base[MAXN], fa[MAXN][25], i, j, l, r, mid ;inline void Add(int u, int v, int w)&#123; P += w ; E[++ cnt].to = v, E[cnt].v = w, E[cnt].next = head[u], head[u] = cnt ; E[++ cnt].to = u, E[cnt].v = w, E[cnt].next = head[v], head[v] = cnt ;&#125;#define fr first#define sc second#define mp(a, b) make_pair(a, b)pair&lt;int ,int&gt; Army[MAXN], Pest[MAXN] ;inline bool cmp(pair&lt;int, int&gt; a, pair&lt;int, int&gt; b)&#123; return a.fr &lt; b.fr ; &#125;void Init()&#123; for (i = 1 ; i &lt;= 20 ; ++ i) for (j = 1 ; j &lt;= N ; ++ j) fa[j][i] = fa[fa[j][i - 1]][i - 1] ;&#125;void dfs(int now, int f)&#123; fa[now][0] = f ; for (int k = head[now] ; k ; k = E[k].next)&#123; if (to(k) == f) continue ; Sum[to(k)] = Sum[now] + E[k].v ; dfs(to(k), now) ; &#125;&#125;void push_down(int rt)&#123; bool x = 1, y = 0 ; for (int k = head[rt] ; k ; k = E[k].next)&#123; if (to(k) == fa[rt][0]) continue ; push_down(to(k)) ; x &amp;= res[to(k)] ; y = 1 ; &#125; if (rt &gt; 1 &amp;&amp; x &amp;&amp; y) res[rt] = 1 ;&#125;bool check(int x)&#123; int t ; n = m = 0 ; memset(res, 0, sizeof(res)) ; memset(Army, 0, sizeof(Army)) ; memset(Pest, 0, sizeof(Pest)) ; for (i = 1 ; i &lt;= M ; ++ i)&#123; t = base[i] ; for (j = 20 ; j &gt;= 0 ; -- j) if (!fa[t][j] || Sum[base[i]] - Sum[fa[t][j]] &gt; x) continue ; else t = fa[t][j] ; if (t &gt; 1) res[t] = 1 ; else &#123; t = base[i] ; for (j = 20 ; j &gt;= 0 ; -- j) if (fa[t][j] &gt; 1) t = fa[t][j] ; Army[++ n] = mp(x - Sum[base[i]], t) ; &#125; &#125; push_down(1) ; for (int k = head[1] ; k ; k = E[k].next) if (res[to(k)]) continue ; else Pest[++ m] = mp(E[k].v, to(k)) ; j = 1 ; sort(Army + 1, Army + n + 1, cmp), sort(Pest + 1, Pest + m + 1, cmp) ; for (i = 1 ; i &lt;= n ; ++ i)&#123; if (!res[Army[i].sc]) res[Army[i].sc] = 1 ; else if (Army[i].fr &gt;= Pest[j].fr) res[Pest[j].sc] = 1 ; while (res[Pest[j].sc] &amp;&amp; j &lt;= m) ++ j ; &#125; return j &gt; m ;&#125;int main()&#123; cin &gt;&gt; N ; int a, b, c ; for (i = 1 ; i &lt; N ; ++ i) scanf("%d%d%d", &amp;a, &amp;b, &amp;c), Add(a, b, c) ; cin &gt;&gt; M ; for (i = 1 ; i &lt;= M ; ++ i) scanf("%d", &amp;base[i]) ; dfs(1, 0) ; Init() ; l = 0, r = P ; while (l &lt;= r)&#123; mid = (l + r) &gt;&gt; 1 ; if (check(mid)) r = mid - 1, ans = mid ; else l = mid + 1 ; &#125; cout &lt;&lt; ans &lt;&lt; endl ; return 0 ;&#125; $\rm{Afterword}$å…¶å®æ€»æ„Ÿè§‰è‡ªå·±åšè¿™äº›é¢˜è¿˜æ˜¯æœ‰äº›åŠ›ä¸ä»å¿ƒ233 ä¸å¾—ä¸è¯´ç±»ä¼¼äºâ€œäºŒåˆ†ç­”æ¡ˆâ€è¿™ç§ä¸œè¥¿æ˜¯å¾ˆæœ‰OIé£å‘³çš„ï¼Œæ¯•ç«Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ€æƒ³â€¦ä¸çŸ¥é“è‡ªå·±ä»€ä¹ˆæ—¶å€™èƒ½æŠŠç±»ä¼¼çš„æ‰€æœ‰æ€æƒ³çœŸæ­£åœ°æ‰“åŒ…å­¦ä¼šå•Šqaq]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>Luogu</category>
      </categories>
      <tags>
        <tag>æ ‘æ¨¡å‹</tag>
        <tag>æœç´¢-å‰ªæ</tag>
        <tag>å¥‡æ€ªçš„æŠ€å·§</tag>
        <tag>è´ªå¿ƒ</tag>
        <tag>å€å¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Old-NOIP æ³›åšäºŒ]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F11%2FOld-NOIP2%2F</url>
    <content type="text"><![CDATA[äº‹å®ä¸Šæˆ‘ä¸ä¹…å‰æ‰å‘ç°åŸæ¥NOIPé‡Œé¢çš„ä¸€äº›é¢˜æ˜¯å¾ˆå¥½çš„â€¦â€¦ ç„¶åå¤§æ¦‚æ¥ä¸‹æ¥æ•´ç†çš„éƒ½æ˜¯äº›æˆ‘è®¤ä¸ºæŒºæœ‰éš¾åº¦çš„å§qwq ä½†æ˜¯æ„Ÿè§‰ä¼¼ä¹è¿™ä¹ˆå¥½çš„é¢˜æ”¾åœ¨ä¸€å—æœ‰ç‚¹æ†‹å±ˆâ€¦â€¦äºæ˜¯å°±ç¼©çŸ­äº†ç¯‡å¹…å¢å¤šäº†ç¯‡ç›® $~1~2011F$ è§‚å…‰å…¬äº¤$Link$ è¿™é¢˜æˆ‘è¿˜æ˜¯å»å¹´çš„3æœˆ19å·åšçš„ï¼Œæ˜¾ç„¶æ˜¯æŠ„çš„é¢˜è§£ï¼Œäºæ˜¯ç°åœ¨åˆè¦é‡åšä¸€é/sad é‚£ä¹ˆå…¶å®è´ªå¿ƒçš„æ€è·¯å¾ˆç®€å•ï¼Œæ‰¾æœ€å¤šäººç»è¿‡çš„é‚£æ¡è·¯ã€‚ç”±äº$n$æ˜¯$1000$æ‰€ä»¥ç›´æ¥$O(nk)$çš„æš´åŠ›å°±å¾ˆç¨³äº†ã€‚ç„¶åæ³¨æ„æ¶ˆé™¤åæ•ˆæ€§â€”â€”å¤§ä½“ä¸Šå°±æ˜¯å¦‚æœä½ è¿™ä¸€ç«™ç”¨äº†ä»€ä¹ˆâ€œæ°®æ°”åŠ é€Ÿâ€ï¼Œç»“æœä¸‹ä¸€ç«™è¿˜å¾—åœ¨é‚£ç­‰ç€ï¼Œå°±æ²¡æœ‰ä»»ä½•ä½œç”¨äº†ï¼Œè¿™ç§æƒ…å†µå°±gg[i]=i+1ï¼Œä½ åªèƒ½æ‹¯æ•‘ä¸‹ä¸€ç«™ä¸‹è½¦çš„ä¹˜å®¢ï¼›å¦åˆ™ä½ ä¹Ÿå¯ä»¥æ‹¯æ•‘æ›´å¤šçš„ï¼Œå°±æ˜¯gg[i]=gg[i+1]ï¼Œä¹Ÿç®—æ˜¯ä¸€ç§çŠ¶æ€è½¬ç§»çš„æ€æƒ³å§ã€‚åœ¨æˆ‘çœ‹æ¥ä¼¼ä¹è¿™æ˜¯æœ¬é¢˜å”¯ä¸€çš„éš¾ç‚¹äº†â€¦â€¦ 12345678910111213141516171819202122232425262728293031struct person&#123; int w,f,t;&#125;p[100001];int max_each[100001],sum_max[100001],get[100001],time[100001],gg[100001];int main()&#123; int n,m,k,ans=0; cin&gt;&gt;n&gt;&gt;m&gt;&gt;k; for(register int i=1;i&lt;=n-1;i++)cin&gt;&gt;time[i]; for(register int i=1;i&lt;=m;i++)&#123; cin&gt;&gt;p[i].w&gt;&gt;p[i].f&gt;&gt;p[i].t; max_each[p[i].f]=max(p[i].w,max_each[p[i].f]); sum_max[p[i].t]++; &#125; for(register int i=2;i&lt;=n;i++)sum_max[i]+=sum_max[i-1]; get[1]=max_each[1]; for(register int i=2;i&lt;=n;i++)get[i]=max(get[i-1],max_each[i-1])+time[i-1]; for(register int i=1;i&lt;=m;i++)&#123;ans+=(get[p[i].t]-p[i].w);&#125;//cout&lt;&lt;ans&lt;&lt;endl; while(k--)&#123; gg[n]=gg[n-1]=n; int maxn=0,f; for(int i=n-2;i&gt;=1;i--) gg[i]=get[i+1]&lt;=max_each[i+1]?i+1:gg[i+1]; for(int i=1;i&lt;n;i++) if(sum_max[gg[i]]-sum_max[i]&gt;maxn&amp;&amp;time[i])&#123; maxn=sum_max[gg[i]]-sum_max[i];f=i; &#125; ans-=maxn;time[f]--; for(int i=2;i&lt;=n;i++)get[i]=max(get[i-1],max_each[i-1])+time[i-1]; &#125; cout&lt;&lt;ans;&#125; æ‹¿ä»€ä¹ˆæ‹¯æ•‘æˆ‘å½“å¹´å¹¼ç¨šçš„ç é£å•Š $2~2015C$ æ–—åœ°ä¸»Link ä¸€é“å–œé—»ä¹è§çš„æœç´¢é¢˜ã€‚å…¶å®è›®ç®€å•çš„ï¼Œå°±æ˜¯æ¯æ¬¡æŠŠèƒ½å‡ºçš„ç‰Œå‡ºä¸€éå°±å¥½äº†ï¼Œå°±æ˜¯è°ƒæœ‰ç‚¹éš¾è°ƒï¼Œåœ¨è¿™ä¸ªæ—¶å€™è¾“å‡ºè°ƒè¯•æ³•+è‚‰çœ¼æŸ¥é”™æ³•æ¯”ä»€ä¹ˆgdbå¥½ç”¨å¤šäº†ã€‚ ä»¥ä¸‹æ˜¯æ•´ç†çš„ç»†èŠ‚ï¼š è‡³äºå¦‚ä½•å‡ºå•ç‰Œå’Œå¯¹å­ï¼Œåªéœ€è¦æ¯æ¬¡dfsæ—¶æ¯æ¬¡æœ€åæŠŠä¸èƒ½å‡ºèŠ±çš„éƒ½å‡ºäº†å°±å¥½ï¼Œå°±æ˜¯è¿™æ ·ï¼š 1for (int j = 1 ; j &lt;= 14 ; ++ j) if (buc[j]) step ++ ; Ans = min(Ans, step) ; return ; åä¹‹å¦‚æœåœ¨å‡ºå•ç‰Œ/å¯¹å­çš„æ—¶å€™å†è®¾ç½®å›æº¯â€”â€”æ²¡æœ‰å¿…è¦ä¸”ä¸¥é‡æ‰©å±•äº†çŠ¶æ€æ•°ã€‚ è¿˜æ˜¯å‰ªæï¼Œå¤§æ¦‚å°±æ˜¯ä¸€ä¸ªæœ€ä¼˜æ€§å‰ªæï¼š1if (step &gt;= Ans) return ; â€‹ å¯èƒ½æ˜¯å› ä¸ºå¤ªå¥—è·¯äº†æˆ‘ä¸€ç›´è®°ä¸ä½= = 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071void dfs(int m, int step)&#123; if (step &gt;= Ans) return ; for (int j = 1 ; j &lt;= 12 ; ++ j)&#123; //å•é¡ºå­ int cnt = 0, pos ; for (int k = 1 ; ; ++ k) if (!buc[j + k - 1] || j + k &gt; 13) &#123; cnt = k - 1 ; pos = j + k - 2 ; break ; &#125; if (cnt &gt;= 5)&#123; for (int k = j ; k &lt;= pos ; ++ k) buc[k] -- ; dfs(m - cnt, step + 1) ; for (int k = j ; k &lt;= pos ; ++ k) buc[k] ++ ; &#125; &#125; for (int j = 1 ; j &lt;= 12 ; ++ j)&#123; //åŒé¡ºå­ int cnt = 0, pos ; for (int k = 1 ; ; ++ k) if (buc[j + k - 1] &lt; 2 || j + k &gt; 13) &#123; cnt = k - 1 ; pos = j + k - 2 ; break ; &#125; if (cnt &gt;= 3)&#123; for (int k = j ; k &lt;= pos ; ++ k) buc[k] -= 2 ; dfs(m - cnt * 2, step + 1) ; for (int k = j ; k &lt;= pos ; ++ k) buc[k] += 2 ; &#125; &#125; for (int j = 1 ; j &lt;= 12 ; ++ j)&#123; //ä¸‰é¡ºå­ int cnt = 0, pos ; for (int k = 1 ; ; ++ k) if (buc[j + k - 1] &lt; 3 || j + k &gt; 13) &#123; cnt = k - 1 ; pos = j + k - 2 ; break ; &#125; if (cnt &gt;= 3)&#123; for (int k = j ; k &lt;= pos ; ++ k) buc[k] -= 3 ; dfs(m - cnt * 3, step + 1) ; for (int k = j ; k &lt;= pos ; ++ k) buc[k] += 3 ; &#125; &#125; for (int j = 1 ; j &lt;= 13 ; ++ j)&#123; //ç‚¸å¼¹ or å››å¸¦äºŒ int p[3], tot = 0, q[3], cnt = 0 ; if (buc[j] &gt;= 4)&#123; for (int k = 1 ; k &lt;= 14 ; ++ k)&#123; if (j != k)&#123; if (buc[k] &gt;= 2 &amp;&amp; cnt &lt; 2) q[++ cnt] = k ; else if (buc[k] &amp;&amp; tot &lt; 2) p[++ tot] = k ; &#125; &#125; if (tot &lt; 2 &amp;&amp; cnt &lt; 2) &#123; buc[j] -= 4 ; dfs(m - 4, step + 1) ; buc[j] += 4 ; &#125; else if (cnt &lt; 2) &#123; buc[p[2]] --, buc[p[1]] --, buc[j] -= 4 ; dfs(m - 6, step + 1) ; buc[p[2]] ++, buc[p[1]] ++, buc[j] += 4 ; &#125; else &#123; buc[q[2]] -= 2, buc[q[1]] -= 2, buc[j] -= 4 ; dfs(m - 8, step + 1) ; buc[q[2]] += 2, buc[q[1]] += 2, buc[j] += 4 ; &#125; &#125; &#125; for (int j = 1 ; j &lt;= 13 ; ++ j)&#123; // ä¸‰å¸¦XXX if (buc[j] &gt;= 3)&#123; buc[j] -= 3 ; for(int k = 1 ; k &lt;= 14 ; ++ k)&#123; if( !buc[k] || k == j ) continue ; buc[k] -- ; dfs(m - 4, step + 1) ; buc[k] ++ ; &#125; for(int k = 1 ; k &lt;= 13 ; ++ k)&#123; if( buc[k] &lt;= 1 || j == k) continue ; buc[k] -= 2 ; dfs(m - 5, step + 1) ; buc[k] += 2 ; &#125; buc[j] +=3 ; &#125; &#125; for (int j = 1 ; j &lt;= 14 ; ++ j) if (buc[j]) step ++ ; Ans = min(Ans, step) ; return ;&#125; = =å…¶å®è¿™é¢˜æœ€æ¶å¿ƒçš„è¿˜æ˜¯ç²—å¿ƒåœ°å†™é”™ï¼Œæ¯•ç«Ÿé‚£ä¹ˆå¤šå‡½æ•°éƒ½æ˜¯ctrl c+ctrl vçš„ï¼Œé¬¼çŸ¥é“ä»€ä¹ˆåœ°æ–¹å°±å´©æ‰äº†â€¦â€¦ $3~2015\text{C+/G}$ æ–—åœ°ä¸»åŠ å¼ºç‰ˆLink ç›´æ¥ç²˜ä¸€ä»½ä»£ç è¿‡æ¥ä½ ç”šè‡³å¯ä»¥è·å¾—74ptsçš„å¥½æˆç»©= = å…¶å®ä¸»è¦æ€æƒ³å°±æ˜¯æ‹†ç‰Œï¼ŒåŸå› æ˜¯å‡è®¾ä½ åˆä¸¤ç»„ä¸‰å¼ ï¼Œä¸€ç»„ç‚¸ï¼Œä½ çš„æ€è·¯æ˜¯å‡ºä¸‰æ¬¡ï¼Œä½†å®é™…ä¸Šåªéœ€è¦ä¸¤æ¬¡å°±å¯ä»¥â€”â€”æŠŠä¸€ç»„ä¸‰å¼ æ‹†æˆä¸€å•+ä¸€å¯¹ï¼Œç„¶åå¸¦èµ°åªéœ€è¦ä¸¤æ¬¡ã€‚ ä½†æ˜¯æˆ‘å¹¶ä¸æƒ³å†™è¯¡å¼‚çš„å‰ªæï¼Œäºæ˜¯ç´¢æ€§æ ¹æ®é¢˜è§£åŒºå†™äº†ä¸€ä¸ªDPã€‚å³è®¾$dp_{i,j,k,l,o}$è¡¨ç¤ºå‰©ä¸‹çš„å•å¼ æœ‰$i$ä¸ªï¼Œå¯¹ç‰Œæœ‰$j$ä¸ªï¼Œä¸‰å¼ æœ‰$k$ç»„ï¼Œå››å¼ æœ‰$l$ç»„ï¼Œç‹æœ‰$o$ä¸ªçš„æœ€å°å‡ºç‰Œæ¬¡æ•°ã€‚ç„¶åè½¬ç§»å°±æ˜¯æœ´ç´ çš„è½¬ç§»ï¼ŒåŒæ—¶ç”±äºæ‹†ç‰Œçš„å­˜åœ¨ï¼Œæˆ‘ä»¬éœ€è¦å¤šåŠ ä¸¤ç»„æ‹†ç‰Œçš„è½¬ç§»ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å…ˆæšä¸¾ä¸‰å¼ å’Œç‚¸æ‰èƒ½è½¬ç§»ã€‚ 1234567891011121314151617181920212223242526272829303132333435void Init_dp()&#123; memset(dp, 63, sizeof(dp)) ; dp[0][0][0][0][0] = 0 ; for (rr int l = 0 ; l &lt;= N ; ++ l) for (rr int k = 0 ; k &lt;= N ; ++ k) for (rr int i = 0 ; i &lt;= N ; ++ i) for (rr int j = 0 ; j &lt;= N ; ++ j) for (rr int o = 0 ; o &lt;= 2 ; ++ o)&#123; rr int res = 100 ; // Single if (i) res = min(res, dp[i - 1][j][k][l][o] + 1) ; if (j) res = min(res, dp[i][j - 1][k][l][o] + 1) ; if (k) res = min(res, dp[i][j][k - 1][l][o] + 1) ; if (l) res = min(res, dp[i][j][k][l - 1][o] + 1) ; if (o) res = min(res, dp[i][j][k][l][o - 1] + 1) ; if (o &gt; 1) res = min(res, dp[i][j][k][l][o - 2] + 1) ; // T -&gt; 1 if (i &amp;&amp; k) res = min(res, dp[i - 1][j][k - 1][l][o] + 1) ; if (k &amp;&amp; o) res = min(res, dp[i][j][k - 1][l][o - 1] + 1) ; // T -&gt; 2 if (j &amp;&amp; k) res = min(res, dp[i][j - 1][k - 1][l][o] + 1) ; // F -&gt; 2 if (l &gt; 1) res = min(res, dp[i][j][k][l - 2][o] + 1) ; if (j &amp;&amp; l) res = min(res, dp[i][j - 1][k][l - 1][o] + 1) ; if (i &gt; 1 &amp;&amp; l) res = min(res, dp[i - 2][j][k][l - 1][o] + 1) ; if (j &gt; 1 &amp;&amp; l) res = min(res, dp[i][j - 2][k][l - 1][o] + 1) ; if (o &gt; 1 &amp;&amp; l) res = min(res, dp[i][j][k][l - 1][o - 2] + 1) ; if (i &amp;&amp; o &amp;&amp; l) res = min(res, dp[i - 1][j][k][l - 1][o - 1] + 1) ; // CHAI if (l) res = min(res, dp[i + 1][j][k + 1][l - 1][o]) ; if (k) res = min(res, dp[i + 1][j + 1][k - 1][l][o]) ; // Trans dp[i][j][k][l][o] = min(res, dp[i][j][k][l][o]) ; &#125; &#125; æ‹†ç‰Œåˆ†åˆ«æ˜¯â€œç‚¸æ‹†æˆä¸‰å¼ å’Œå•å¼ â€ä»¥åŠâ€œä¸‰å¼ æ‹†æˆå¯¹å­å’Œå•å¼ â€ã€‚ ç„¶åç”±äºé¡ºå­è¿™ç§ä¸œè¥¿ä¸èƒ½æ ¹æ®æ•°é‡è½¬ç§»ï¼Œæ‰€ä»¥å°±è¿˜æ˜¯dfsæš´åŠ›ç®—ï¼ˆdpæŒ‰ç†è¯´ä¹Ÿæ˜¯æš´åŠ›å§/kkï¼‰ï¼Œæœ€ååŠ å›æ¥å°±å®Œäº†ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344void dfs(int m, int step)&#123; if (step &gt;= Ans) return ; for (rr int j = 1 ; j &lt;= 12 ; ++ j)&#123; //å•é¡ºå­ rr int cnt = 0 ; for (rr int k = 1 ; ; ++ k) if (!buc[j + k - 1] || j + k &gt; 13) &#123; cnt = k - 1 ; break ; &#125; if (cnt &gt;= 5)&#123; for (rr int p = 5 ; p &lt;= cnt ; ++ p)&#123; for (rr int k = j ; k &lt;= j + p - 1 ; ++ k) buc[k] -- ; dfs(m - p, step + 1) ; for (int k = j ; k &lt;= j + p - 1 ; ++ k) buc[k] ++ ; &#125; &#125; &#125; for (rr int j = 1 ; j &lt;= 12 ; ++ j)&#123; //åŒé¡ºå­ rr int cnt = 0, pos ; for (rr int k = 1 ; ; ++ k) if (buc[j + k - 1] &lt; 2 || j + k &gt; 13) &#123; cnt = k - 1 ; break ; &#125; if (cnt &gt;= 3)&#123; for (rr int p = 3 ; p &lt;= cnt ; ++ p)&#123; pos = j + p - 1 ; for (rr int k = j ; k &lt;= pos ; ++ k) buc[k] -= 2 ; dfs(m - cnt * 2, step + 1) ; for (int k = j ; k &lt;= pos ; ++ k) buc[k] += 2 ; &#125; &#125; &#125; for (rr int j = 1 ; j &lt;= 12 ; ++ j)&#123; //ä¸‰é¡ºå­ rr int cnt = 0, pos ; for (rr int k = 1 ; ; ++ k) if (buc[j + k - 1] &lt; 3 || j + k &gt; 13) &#123; cnt = k - 1 ; break ; &#125; if (cnt &gt;= 2)&#123; for (rr int p = 2 ; p &lt;= cnt ; ++ p)&#123; pos = j + p - 1 ; for (rr int k = j ; k &lt;= pos ; ++ k) buc[k] -= 3 ; dfs(m - cnt * 3, step + 1) ; for (int k = j ; k &lt;= pos ; ++ k) buc[k] += 3 ; &#125; &#125; &#125; memset(tong, 0, sizeof(tong)) ; for (int j = 1 ; j &lt;= 13 ; ++ j) tong[buc[j]] ++ ; tong[5] = buc[14] ; Ans = min(Ans, step + dp[tong[1]][tong[2]][tong[3]][tong[4]][tong[5]]);return ;&#125; $4~2015E$ å­ä¸²$Link$ åˆæ˜¯ä¸€é“æƒ…æ€€é¢˜ï¼Œè¿˜è®°å¾—å½“æ—¶åšçš„æ—¶å€™è§‰å¾—å¯éš¾äº†â€¦ï¼ˆå½“æ—¶çš„pksï¼šè¿™ä¸ªè½¬ç§»æ˜¯äººèƒ½æƒ³å‡ºæ¥çš„å—ï¼Ÿï¼‰ ä½†å…¶å®çŠ¶æ€å¾ˆç®€å•ï¼Œ$f_{i,j,k,0/1}$è®°å½•Aåˆ°äº†$i$ï¼ŒBåˆ°äº†$j$ï¼ŒAè¿„ä»Šä¸ºæ­¢åˆ†æˆ$k$æ®µï¼Œ$A[i]$é€‰æˆ–è€…ä¸é€‰çš„æ–¹æ¡ˆæ•°ã€‚ ç„¶åè½¬ç§»æ—¶è€ƒè™‘åˆ†ç±»è®¨è®ºï¼š é¦–å…ˆ $A[i] = B[j]:$ 1 ï¼š $f_{i,j,k,1} = f_{i-1,j-1,k-1,1} + f_{i-1,j-1,k-1,0} + f_{i-1,j-1,k,1}$ ä¹Ÿå°±æ˜¯{i,j}å’Œå‰é¢çš„æ˜¯ä¸€æ®µ/ä¸æ˜¯ä¸€æ®µä¸”å’Œå‰é¢çš„æ®µä¹‹é—´æœ‰ç©ºæ ¼/ä¸æ˜¯ä¸€æ®µä¸”å’Œå‰é¢çš„æ®µä¹‹é—´æ²¡ç©ºæ ¼ï¼ˆè®¨è®ºç©ºæ ¼æ˜¯ä¸ºäº†ä¿è¯è½¬ç§»çš„å®Œæ•´æ€§ï¼‰ã€‚ 2 ï¼š $f_{i,j,k,0} = f_{i - 1,j, k, 1} + f_{i -1, j, k, 0}$ å‰é¢ä¸€ä½é€‰/ä¸é€‰ å¦åˆ™ $A[i]\not = B[j]$ 1ï¼š $f_{i,j,k,1} = 0\\$ ä¸åˆæ³•çš„è½¬ç§»2ï¼š $f_{i,j,k,0} = f_{i - 1,j, k, 1} + f_{i -1, j, k, 0}$ å…¶å®æ„Ÿè§‰è¿™ä¸ªæ–¹ç¨‹â€¦æ€ä¹ˆè¯´å‘¢ï¼ŒæŒºæœ‰å­¦ä¹ æ„ä¹‰çš„ã€‚è¿™å…¶å®ä¹Ÿç®—æ˜¯åšäº†ä¸€ä¸ªçŠ¶æ€çš„å‰ç¼€å’Œï¼Œå› ä¸ºç†è®ºä¸Šæ˜¯è¦ä»$k\text{~}i-1$ä¸­è½¬ç§»çš„ï¼Œä½†å› ä¸ºæ˜¯æ–¹æ¡ˆæ•°ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åšä¸€ä¸ªå‰ç¼€å’Œè¿‡æ¥ï¼›åŒæ—¶å› ä¸ºæ­¤æ—¶æˆ‘ä»¬çš„â€œä¸»å…ƒâ€æ˜¯$A$ï¼Œæ‰€ä»¥å¦‚æœä¸é€‰çš„è¯åªèƒ½æ˜¯ä»$(i-1,j)$è½¬ç§»è¿‡æ¥è€Œä¸æ˜¯$(i,j-1)$ï¼ˆå³$k$è¿™ä¸€ç»´é™åˆ¶çš„æ˜¯$i$ï¼‰ ã€‚ ç„¶è€Œè¿˜æœ‰å¦å¤–ä¸€ç§å®šä¹‰çŠ¶æ€çš„æ–¹å¼ï¼› å…¶ä½™çš„éƒ½å·®ä¸å¤šï¼Œè¿˜æ˜¯$f_{i,j,k,1}$è¡¨ç¤ºå¿…é€‰ï¼Œä½†æ˜¯$f_{i,j,k,0}$åˆ™è¡¨ç¤ºâ€œå¯é€‰å¯ä¸é€‰â€ã€‚é‚£æˆ‘ä»¬æ¥æ€è€ƒè¿™æ ·å¦‚ä½•è½¬ç§»ï¼š 1ï¼š$f_{i,j,k,1} = (f_{i-1,j-1,k,1} +f_{i - 1,j-1, k-1, 0})\cdot [A_i=B_j] $ è¿˜æ˜¯åˆ†ç±»è®¨è®ºâ€œè¿ä¸è¿æˆä¸€æ•´æ®µâ€ 2ï¼š$f_{i,j,k,0} = f_{iâˆ’1,j,k,0}+f_{i,j,k,1}$ï¼Œå³ä¿è¯äº†è¿™ä¸€ä½ä¸é€‰çš„ä¸Šä¸€ä½çš„é€‰/ä¸é€‰å’Œä¿è¯äº†è¿™ä¸€ä½å¿…é€‰çš„æ–¹æ¡ˆæ•°ã€‚ æ€æƒ³ä¹Ÿå¤§ä½“ç›¸åŒã€‚æ³¨æ„æ•°æ®èŒƒå›´çš„é™åˆ¶ï¼Œæ»šä¸€ä¸‹å°±å¥½äº†ã€‚ å—¯ï¼Œæ˜¯ä¸€é“ä¸é”™çš„é¢˜ã€‚ 12345678910111213141516int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; K ; dp[0][0][0] = 1 ; for(i = 1; i &lt;= N; i ++) cin &gt;&gt; A[i] ; for(i = 1; i &lt;= M; i ++) cin &gt;&gt; B[i] ; for(d = i = 1; i &lt;= N; i ++, d ^= 1)&#123; dp[d][0][0] = 1 ; for(j = 1; j &lt;= M; j ++) for(k = 1; k &lt;= K ;k ++)&#123; if(A[i] == B[j]) f[d][j][k] = (dp[d ^ 1][j - 1][k - 1] + f[d ^ 1][j - 1][k]) % mod ; else f[d][j][k] = 0 ; dp[d][j][k] = (dp[d ^ 1][j][k] + f[d][j][k]) % mod ; &#125; &#125; cout &lt;&lt; dp[N &amp; 1][M][K]% mod ;&#125; $5~2011C$ Mayanæ¸¸æˆLink æƒ³å½“å¹´è¿™å¯çœŸæ˜¯å™©æ¢¦â€¦â€¦ ç®€å•æ¥è®²å°±æ˜¯çˆ†æœå§ï¼Œåªä¸è¿‡è®°å¾—å½“æ—¶æ²¡æƒ³åˆ°æ˜¯çœŸçš„æ¯æ¬¡æœä¸€é$7\cdot5$çš„æ–¹é˜µâ€¦â€¦ ç„¶åè¿™æ˜¯ä»¥å‰çš„ç¬”è®°ï¼š 1ã€æ¯æ¬¡æœç´¢è¦ä¿ç•™æœ¬æ¬¡çš„çŠ¶æ€ï¼Œè¿™æ˜¯æ¯”è¾ƒå¥½æƒ³çš„ï¼Œæˆ‘ä¹ŸæˆåŠŸçš„æƒ³åˆ°äº†ã€‚ä½†æ˜¯é—®é¢˜æ˜¯æˆ‘ä»¬ä¸èƒ½å•çº¯åœ°ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„æ¥$copy$ï¼Œéœ€è¦è®°å½•æ­¥æ•°ï¼Œå› ä¸ºå¦‚æœå•çº¯çš„resetä¼šå¯¼è‡´ä¹‹å‰èµ°è¿‡çš„ä¹Ÿæ¶ˆå¤±ã€‚äºæ˜¯æœ€ç»ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸‰ç»´æ•°ç»„æ¥è®°å½•ã€‚ååŠæ®µæ˜¯$qcr$å‘Šè¯‰æˆ‘çš„ã€‚ 2ã€è¿˜æœ‰å°±æ˜¯ä¸€ä¸ªå°å°çš„å‰ªæã€‚å°±æ˜¯ç”±äºå¯¹äºæ¯ä¸€ä¸ªæ ¼å­ï¼Œæˆ‘ä»¬è€ƒè™‘å®ƒå‘ä¸¤è¾¹æ›¿æ¢ï¼Œè€Œæˆ‘ä»¬ä¸ºäº†é¿å…é‡å¤æœç´¢ï¼Œæ‰€ä»¥å°±å†³å®šå•å‘æœç´¢ï¼Œå³å¯¹äºæ¯ä¸ªå—ï¼Œå¦‚æœä»–å·¦è¾¹ä¹Ÿæ˜¯ä¸€ä¸ªå—ï¼Œé‚£å°±ä¸å»$exchange$ï¼Œåªè€ƒè™‘å³è¾¹ï¼›è€Œå¦‚æœå·¦è¾¹æ˜¯ç©ºç™½æ ¼ï¼Œæ‰$exchange$ã€‚æ˜¾ç„¶è¿™ä¸ªå‰ªæçš„ä¼˜åŒ–æ€§æ˜¯å¾ˆæ˜¾è‘—çš„ã€‚ 3ã€æˆ‘ä¸€å¼€å§‹å†™çš„$remove()$ã€$down()$å’Œ$check()$ååˆ†çš„éº»çƒ¦â€”â€”æˆ–è€…è¯´ä¸“ä¸€?åæ­£ä¹‹åæˆ‘æ‡’å¾—è°ƒè¯•äº†ï¼Œç›´æ¥å¬çš„$qcr$çš„ï¼Œæ¯æ¬¡æ‰§è¡Œè¿™å‡ ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œç›´æ¥å…¨å±æ‰«ä¸€éã€‚ 4ã€$qcr$ç»™æˆ‘è®²äº†ä¸€ä¸ªå¾ˆç¥çš„$down()$å‡½æ•°â€”â€”å…¶å®ä¹Ÿä¸ç®—å¤šç¥ï¼Œåªæ˜¯å¾ˆç®€å•åœ°å¤„ç†äº†æ¯ä¸€è¡Œçš„æ‚¬ç©ºæ€æ–¹å—ï¼Œä½†æ˜¯è¯´â€œç¥â€çš„åŸå› åˆ™æ˜¯å› ä¸ºâ€œç®€å•â€ã€‚å¯¹ï¼Œç®€å•ï¼Œè€Œæœ‰æ—¶å¾€å¾€æˆ‘ä¼šæƒ³å¤æ‚ã€‚ 5ã€å¯¹äº$exchange$ï¼Œæˆ‘ä»¬è¦ä¸æ–­çš„$while(remove()) ~;$ï¼Œå› ä¸ºä¼šä¸æ–­åœ°æœ‰æ–°æƒ…å†µå‡ºç°ã€‚ 6ã€æœ€åæˆ‘æŒ‚äº†â€¦â€¦å‡ ä¸ªç‚¹æ¥ç€â€¦â€¦å¿˜è®°äº†ã€‚åæ­£åŸå› æ˜¯å› ä¸ºï¼Œæ¯æ¬¡$remove()$ä¹‹å‰åº”è¯¥å…ˆ$down()$ï¼Œç„¶è€Œæˆ‘å¹¶æ²¡æœ‰$down()$å¹²å‡€233 7ã€æœ€åå†è¯´ä¸€ä¸ªå‰ªæå„¿ï¼Œä¸æ˜¯å¿…è¦æ€§çš„ï¼Œä½†æ˜¯ç¡®å®å¯ä»¥åŠ å¿«é€Ÿåº¦ã€‚å°±æ˜¯æˆ‘ä»¬å†æ¯æ¬¡éå†$7 \times 5$çš„æ—¶å€™ï¼Œé‡åˆ°ç©ºç™½çš„ï¼Œä¸æ˜¯continueè€Œæ˜¯breakï¼Œå› ä¸ºæˆ‘ä»¬$down$ä¸€å®šæ˜¯å®Œå¤‡çš„ï¼Œå³ä»ä¸‹å‘ä¸Šæšä¸¾æ—¶ï¼Œå¦‚æœä¸‹æ–¹çš„å·²ç»clearäº†ï¼Œä¸Šæ–¹çš„ä¸å¯èƒ½æ‚¬ç©ºã€‚æ‰€ä»¥å¯ä»¥å°‘å¥½å‡ æ¬¡ç©ºéå†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687struct D&#123; int x, y ;&#125; ; stack &lt;D&gt; s ;struct Ans&#123; int x, y, d ;&#125; res[100] ; int Remove[50][50] ;int N, T[30][30], base[4000][10][10], qwq[4000][30], color[30], i, j, t, tot ;inline int qr()&#123; ....&#125;inline void down()&#123; int ttt = 0 ; for(int di = 1 ; di &lt;= 5 ; ++ di)&#123; ttt = 0 ; for(int dj = 1 ; dj &lt;= 7 ; ++ dj) if(T[di][dj] == -1) ++ ttt ; else&#123; if(! ttt) continue ; T[di][dj - ttt] = T[di][dj], T[di][dj] = -1 ; &#125; &#125;&#125;inline bool remove()&#123; // void -&gt; bool bool Mark = 0 ; memset(Remove, 0, sizeof(Remove)) ; for (int di = 1 ; di &lt;= 5 ; ++ di) for (int dj = 1 ; dj &lt;= 7 ; ++ dj)&#123; if (T[di][dj] != -1 &amp;&amp; di &gt;= 2 &amp;&amp; di &lt;= 4 &amp;&amp; T[di][dj] == T[di + 1][dj] &amp;&amp; T[di][dj] == T[di - 1][dj])&#123; Remove[di + 1][dj] = Remove[di - 1][dj] = Remove[di][dj] = 1, Mark = 1 ; &#125; if (T[di][dj] != -1 &amp;&amp; dj &gt;= 2 &amp;&amp; dj &lt;= 6 &amp;&amp; T[di][dj] == T[di][dj + 1] &amp;&amp; T[di][dj] == T[di][dj - 1])&#123; Remove[di][dj + 1] = Remove[di][dj - 1] = Remove[di][dj] = 1, Mark = 1 ; &#125; &#125; if (!Mark) return 0 ; for (int di = 1 ; di &lt;= 5 ; ++ di) for (int dj = 1 ; dj &lt;= 7 ; ++ dj) T[di][dj] = (!Remove[di][dj]) ? T[di][dj] : -1 ; down() ; return 1 ; &#125;inline bool judge()&#123; for (int di = 1 ; di &lt;= 5 ; ++ di) for (int dj = 1 ; dj &lt;= 7 ; ++ dj) if (T[di][dj] != -1) return false ; return true ;&#125;inline void Prepare(int x)&#123;//copy for (int di = 1 ; di &lt;= 5 ; ++ di) for (int dj = 1 ; dj &lt;= 7 ; ++ dj) base[x][di][dj] = T[di][dj] ;&#125;inline void _reset(int x)&#123;//copy_back for (int di = 1 ; di &lt;= 5 ; ++ di) for (int dj = 1 ; dj &lt;= 7 ; ++ dj) T[di][dj] = base[x][di][dj] ;&#125;inline void dfs_work(int step)&#123; if (judge())&#123; for (int di = 1 ; di &lt;= N ; ++ di) printf("%d %d %d\n", res[di].x, res[di].y, res[di].d) ; exit(0) ; &#125; if (step == N + 1) return ; Prepare(step) ; for (int di = 1 ; di &lt;= 5 ; ++ di) for (int dj = 1 ; dj &lt;= 7 ; ++ dj)&#123; if (T[di][dj] == -1) break ; if (di &gt; 1 &amp;&amp; T[di - 1][dj] == -1)&#123; swap(T[di][dj], T[di - 1][dj]) ; down() ; while (remove()) ; res[step] = (Ans)&#123;di - 1, dj - 1, -1&#125; ; dfs_work(step + 1) ; _reset(step) ; res[step] = (Ans)&#123;-1, -1, -1&#125; ; &#125; if (di &lt; 5 &amp;&amp; T[di][dj] != T[di + 1][dj])&#123; swap(T[di][dj], T[di + 1][dj]) ; down() ; while(remove()) ; res[step] = (Ans)&#123;di - 1, dj - 1 ,1&#125; ; dfs_work(step + 1) ; _reset(step) ; res[step] = (Ans)&#123;-1, -1, -1&#125; ; &#125; &#125;&#125;int main()&#123; cin &gt;&gt; N ; memset(T, -1, sizeof(T)) ; for (i = 1 ; i &lt;= 5 ; ++ i) T[i][0] = 0 ; for (i = 1 ; i &lt;= 5 ; ++ i) while((t = qr()) != 0) T[i][++ T[i][0]] = t ; dfs_work(1) ; cout &lt;&lt; -1 &lt;&lt; endl ; return 0 ;&#125; $\text{Afterwords}$â€œ å‡†ç¡®æ¥è¯´ï¼Œæ²¡æœ‰äººåœ¨åˆ°è¾¾ä¹‹å‰çŸ¥é“è‡ªå·±åˆ°åº•è¦å»å“ªå„¿ã€‚ â€]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>Luogu</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€è§„åˆ’-æ™®é€šDP</tag>
        <tag>NOIPç³»åˆ—</tag>
        <tag>æœç´¢-å‰ªæ</tag>
        <tag>å¥‡æ€ªçš„æŠ€å·§</tag>
        <tag>è´ªå¿ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NOIP2017æ³›åš]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F11%2FNOIP2017%2F</url>
    <content type="text"><![CDATA[$\Omega$å—¯ï¼Œè¿™ä¸ªä»£è¡¨â€œå‰è¨€â€çš„å­—æ¯å¾ˆå¸…ã€‚ å…ˆæ¥æ€»ç»“ä¸€ä¸‹æ¯ä¸ªé¢˜çš„éš¾åº¦ï¼ŒAé¢˜æé«˜ï¼ˆè¯æ˜ï¼‰/æ™®åŠ-ï¼ˆæ‰¾è§„å¾‹ï¼‰, Bé¢˜æé«˜ï¼Œ Cé¢˜æé«˜+ï¼Œæ€»ç»“æ¥çœ‹ï¼ŒDay1æ¯”è¾ƒé€ï¼›Dé¢˜æ™®åŠ+ï¼ŒEé¢˜çœé€‰-ï¼ŒFé¢˜çœé€‰-ï¼ŒDay2ä¸å¦‚Day1æ°´ã€‚ PS: æé«˜ä»¥NOIPæé«˜ç»„å¹³å‡éš¾åº¦ä¸ºå‡†ï¼Œçœé€‰ä»¥å¼±çœçœé€‰ä¸ºå‡†ï¼ˆæ¯”å¦‚ä»¥SNOI2019å¹³å‡éš¾åº¦ä½œä¸ºåŸºå‡†çº¿ï¼‰ $A$Â·ç”±äºå½“æ—¶åœºä¸Šåˆ‡äº†è¿™é“é¢˜ï¼Œå¯¼è‡´æˆ‘å¯¹â€œæ‰¾è§„å¾‹â€œè¿™ç§æŠ•æœºå–å·§çš„åšé¢˜æ–¹å¼æƒ…æœ‰ç‹¬é’Ÿï¼Œä»è€Œåœ¨æŸäº›è®¡æ•°é¢˜æ—¶ä¸å¥½å¥½æƒ³DPåè€ŒçŒœsbè§„å¾‹â€¦â€¦æ„Ÿè§‰å¾ˆGGâ€¦â€¦ å…¶å®è¿™ä¸ªé¢˜å°±æ˜¯ç»™ä¸€ä¸ªæ–¹ç¨‹ï¼š$$ax+by \not= t \quad x,y, \in\mathbb{N},\quad t\in \mathbb{N+} \quad (a,b)= 1$$æ±‚$\max{t}$ å‘ƒï¼Œé¦–å…ˆï¼Œæˆ‘æƒ³äº†ä¸€ç§å¾ˆzzçš„è¯æ˜æ–¹å¼ï¼š å½“$t = a \cdot b - a - b$æ—¶ï¼Œ$t$æ»¡è¶³è¿™ä¸ªæ–¹ç¨‹ æˆ‘ä»¬é€šè¿‡ç§»é¡¹å¯ä»¥å¾—åˆ°ï¼š $$ax+by-ab+a+b=0 \\\a(x-b +1) + b(y+1) = 0 \\\$$ è§‚å¯Ÿè¿™ä¸ªå¼å­ï¼Œè¦ä¹ˆæœ‰$y+1=0$ä¸”$x-b+1=0$ï¼Œè¦ä¹ˆæœ‰$a(b-x-1) = b(y+1)\cdots(1)$ . ç¬¬ä¸€ç§æƒ…å†µæ˜¾ç„¶ä¸æˆç«‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬è€ƒè™‘ç¬¬äºŒç§æƒ…å†µã€‚æ­¤æ—¶å› ä¸º$(a,b)=1$ï¼Œæ‰€ä»¥ä¼šæœ‰$b~|~(b-x-1) \to b ~|~(x+1)$, åŒç†$a~|~(y+1)$ .ä½†åŒæ—¶æˆ‘ä»¬å°†$(1)$å¼æä¸€æå°±å¯ä»¥å¾—åˆ°$$\frac{a}{b} = \frac{b-(x+1)}{y+1}$$. ä½†å› ä¸º$a,b \in \mathbb{N+}$ï¼Œæ‰€ä»¥ä¼šæœ‰$b&gt;(x+1)$ ; å› ä¸º$b~|~(x+1)$ï¼Œæœ‰$b\leq x+1$æˆ–$x+1=0$ï¼ˆèˆï¼‰ ï¼ŒçŸ›ç›¾ï¼Œæ•…æ­¤æ—¶$t$æ»¡è¶³è¿™ä¸ªæ–¹ç¨‹ã€‚ å½“$t&gt;a\cdot b-a-b$æ—¶ï¼Œ$t$æ€»ä¸æ»¡è¶³ã€‚ ä¸å¦¨è®¾$t_0=a\cdot b-a-b, ~t=t_0+k, ~k\in\mathbb{N+}$ æ­¤æ—¶â€¦â€¦ç„¶åå°±ä¸ä¼šäº†2333â€”â€”ä»¥ä¸‹æ˜¯å€Ÿé‰´çš„æ˜Ÿæ˜Ÿä¹‹ç«OIerå·¨ä½¬çš„æ€è·¯ï¼š å¯¹äºä»»æ„æ­£æ•´æ•°$k\geq abâˆ’aâˆ’b+1$ï¼Œå³$k+a+b\geq ab+1$ è®¾$k+a+b = \mu a+m~~(k\geq b,1\leq m &lt;a)$. åŒæ—¶ï¼š$$\because (a,b)=1\\\\therefore \exists x_0,y_0 \in \mathbb{Z} \quad s.t. \quad ax_0+by_0=1 \\\\therefore \exists x_1,y_1âˆˆ\mathbb{Z}ï¼Œâˆ’(bâˆ’1)\leq x_1\leq 0 \quad s.t.\quad ax_1+by_1=m\\\$$è¿™é‡Œçš„æ„æ€å…¶å®æ˜¯è®¾$âˆ’(bâˆ’1)\leq x_1\leq 0$ï¼Œä¸€å®šå­˜åœ¨æ•´æ•°$y_1$ä½¿å¾—$ax_1+by+_1=m$æˆç«‹ã€‚åŸå› å°±æ˜¯åœ¨æ•´æ•°$x_1$çš„å–å€¼ä¸­ä¸€å…±æœ‰$b$ä¸ªæ•°ï¼Œ$y_1=(mâˆ’ax_1)/b$ï¼Œæ ¹æ®é¸½ç¬¼åŸç†ä¹‹ç±»çš„zzå®šç†ï¼Œæˆ‘ä»¬æ€»æ˜¯å¯ä»¥æ‰¾åˆ°$x_1$ä½¿å¾—$mâˆ’ax_1$èƒ½è¢«$b$æ•´é™¤ã€‚ æ˜¾ç„¶ï¼Œ$y_1\geq 1(ax_1\leq 0,m &gt;0, b&gt;0, å› æ­¤y_1\geq 1,)$ äºæ˜¯ï¼Œå–$x=\mu+x_1âˆ’1,y=y_1âˆ’1$ æ³¨æ„åˆ°$x_1,y_1$çš„å–å€¼èŒƒå›´ï¼Œå¾—$x,y\geq 0$ï¼Œ å³æœ‰$ax+by=k$ ï¼Ÿï¼Ÿï¼Ÿä¸çŸ¥ä¸è§‰å†™äº†å°åŠä¸ªä¸‹åˆï¼Ÿï¼Ÿçœ‹èµ·æ¥Aé¢˜ç¡®å®æ˜¯ç»“è®ºé¢˜äº†ï¼ˆsigh 12345long long A, B ;int main()&#123; cin &gt;&gt; A &gt;&gt; B ; cout &lt;&lt; A * B - A - B ;&#125; $B$ â€¦â€¦åƒè¿™ç§é¢˜ä¸å°±æ˜¯çœ‹è„¸é¢˜å—â€¦æ‰‹ä¸€æŠ–å°±è°ƒä¸å‡ºæ¥äº†$\rm{qaq}$ é¢˜è§£ä»¥å‰å†™è¿‡ï¼Œäºæ˜¯ç›´æ¥æŠŠä¸»è¦éƒ¨åˆ†å¼•ç”¨è¿‡æ¥ï¼ˆä»¥å‰çš„ç é£è¿˜çœŸæ˜¯æŠ½æ è¯»å…¥ï¼š æˆ‘ä»¬å…ˆç”¨$while$æŒ‰å­—ç¬¦è¯»å…¥æ¯ä¸ªç¨‹åºçš„ç¬¬ä¸€è¡Œï¼ŒæŠ å‡ºéœ€è¦æ£€éªŒçš„å¤æ‚åº¦ï¼Œ$O(1)$ç”¨$0$æ¥å­˜$[n^0=1 $ $~~~$ $ (n!=0)]$. æ³¨æ„ï¼Œæœ‰å¯èƒ½æœ‰ä¸¤ä½æ•°ï¼Œéœ€è¦å¤šæ‰£ä¸€ä½â€¦â€¦ 12345678910111213&gt; while(o!=')')&#123;&gt; if(o=='1'&amp;&amp;!chk) &gt; need_check=0;&gt; if(o=='n')&#123;&gt; cin&gt;&gt;o&gt;&gt;o;&gt; need_check=o-48;&gt; chk=1;&gt; &#125;&gt; o=getchar();&gt; if(isdigit(o)&amp;&amp;chk)need_check*=10,need_check+=(o-48); &gt; &#125;&gt; getchar();&gt; è‡³äºæœ€åä¸ºä»€ä¹ˆè¦å†$gatchar()$ä¸€æ¬¡â€¦â€¦è‡ªå·±è¯•è¯•å°±çŸ¥é“äº†ã€‚ é‚£ä¹ˆæ¥ä¸‹æ¥å°±è¦æŒ‰è¡Œè¯»å…¥å¾ªç¯äº†ï¼Œæ¯”è¾ƒç®€å•ã€‚ åˆå§‹åŒ–ï¼š ä¸ºäº†ä½¿ç é£ç®€æ´ï¼Œæ‰€ä»¥å†™åˆ°å‡½æ•°é‡Œäº†ã€‚è¿™ä¸ªåœ°æ–¹æˆ‘ç”¨åˆ°äº†ä¸‰ä¸ªæ ˆï¼Œä¸€ä¸ªç”¨æ¥è®°å½•æ¯ä¸ªå¾ªç¯çš„ç­”æ¡ˆï¼ˆå› ä¸ºæœ‰å¯èƒ½æœ‰å¤šä¸ªç›¸äº’ç‹¬ç«‹çš„å¾ªç¯ï¼‰ï¼Œä¸€ä¸ªç”¨æ¥è®°å½•æ¯æ¬¡$F$æ—¶è¯»å…¥çš„å¾ªç¯ä¸Šä¸‹ç•Œã€‚ä»¥ä¸Šä¸¤ä¸ªéƒ½æ˜¯$int$æ ˆ,è¿˜æœ‰ä¸€ä¸ª$char$æ ˆï¼Œå­˜å‚¨æ¯æ¬¡å®šä¹‰çš„å¾ªç¯å˜é‡ï¼Œè€Œè¿™ä¸ªå­—ç¬¦æ ˆæ­é…ä¸€ä¸ª$bool$æ€§çš„æ•°ç»„ï¼Œç”¨äºè®°å½•æ˜¯å¦å¯ç”¨ã€‚ 1234567891011&gt;#define MAX 1000000&gt;int i,x,y,t,tt,num,cntf,cnte,res,ans[MAX],T,l,now,need_checks,stk[MAX];&gt;bool check[150],flag,spj,chk;&gt;char s[3010],o,stkk[MAX]; &gt;inline void init()&#123;&gt; memset(check,0,sizeof(check));&gt;memset(stkk,0,sizeof(stkk));&gt;memset(stk,0,sizeof(stk));&gt;now=t=tt=cntf=cnte=res=flag=spj=chk=0;&gt;&#125;&gt; $ps:$è™½ç„¶ä¸çŸ¥é“ç”¨ä¸€ä¸ªäºŒè¿›åˆ¶ä½çš„$0$æ¥åˆå§‹åŒ–å­—ç¬¦æ•°ç»„ä¼šæ€æ ·â€¦â€¦ä¸è¿‡å¥½åƒæµ·æ˜Ÿã€‚ $cnte$å’Œ$cntf$ç”¨æ¥è®°å½•$F$å’Œ$E$çš„æ•°é‡ï¼Œ$num$ã€$t$ã€$tt$éƒ½æ˜¯æ ˆçš„æŒ‡é’ˆï¼Œ$spj$ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªç‹¬ç«‹å¾ªç¯æ˜¯å¦ç»“æŸï¼ˆå¦‚æœç»“æŸå°±æŠŠå½“å‰çš„å¾—åˆ°å‹å…¥æ ˆï¼‰,$now$ç”¨æ¥æ­é…$spj$è®°å½•å½“å‰ç‹¬ç«‹å¾ªç¯ä½“çš„æ—¶é—´å¤æ‚åº¦ï¼Œ $chk$ç”¨äºè¯»å…¥æ¯ä¸ªç¨‹åºçš„ç¬¬ä¸€è¡Œï¼ˆå³å«æœ‰éœ€è¦åˆ¤æ–­çš„æ—¶é—´å¤æ‚åº¦çš„é‚£ä¸€è¡Œï¼‰ï¼Œ$flag$ç”¨äºåˆ¤æ–­è¾“å‡ºã€‚ ä¸»è¦æ“ä½œ å¯¹äºè¯»å…¥çš„ä¸œè¥¿ï¼Œåˆ†ç±»è®¨è®ºï¼Œç„¶å$continue$â€¦â€¦æ²¡ä»€ä¹ˆå¯è¯´çš„ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&gt; while(l--)&#123;&gt; gets(s);&gt; for(i=0;i&lt;strlen(s);)&#123;&gt; while(s[i]==' ')i++;&gt; if(s[i]=='F')&#123;&gt; if(cntf&gt;cnte&amp;&amp;cnte)&#123;&gt; ans[++num]=now;&gt; now=0;&gt; &#125;&gt; cntf++,i++;&gt; continue;&gt; &#125;&gt; if(s[i]=='E')&#123;&gt; y=stk[t],t--;&gt; x=stk[t],t--;&gt; cnte++;&gt; if(cnte==cntf)spj=1;&gt; if(x!=MAX)&#123;&gt; if(y==MAX)now++;&gt; if(y&lt;x)now=0;&gt; &#125;&gt; else&#123;&gt; if(y!=MAX)now=0;&gt; &#125;&gt; check[stkk[tt]-'a']=0;&gt; tt--,i++;&gt; if(spj)&#123;&gt; ans[++num]=now;&gt; now=0;&gt; spj=0;&gt; &#125;&gt; continue;&gt; &#125;&gt; if(!isdigit(s[i])&amp;&amp;s[i]!='n')&#123;&gt; if(check[s[i]-'a']&amp;&amp;!flag)&#123; &gt; cout&lt;&lt;"ERR"&lt;&lt;endl;&gt; flag=1;&gt; &#125;&gt; stkk[++tt]=s[i];&gt; check[s[i]-'a']=1;&gt; &#125;&gt; else &#123; &gt; if(s[i]=='n')&#123;&gt; my_push(s[i],s[i+1]);&gt; i+=2;&gt; &#125; &gt; my_push(s[i],s[i+1]);&gt; &#125;&gt; i++;&gt; &#125;&gt; &#125;&gt; å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯å…¥æ ˆæ“ä½œï¼Œå› ä¸ºè¦æŠŠå­—ç¬¦å‹å…¥æ•´å‹ï¼Œæ‰€ä»¥æˆ‘åˆå†™äº†ä¸ªå‡½æ•°æ¥å…¥æ ˆã€‚å…¥æ ˆçš„æ—¶å€™å½“ç„¶éœ€è¦æ³¨æ„æ˜¯ä¸æ˜¯ä¸¤ä½æ•°â€¦â€¦ å“¦ï¼Œè¿˜æœ‰ï¼Œå¦‚æœè¿™æ¬¡è½®åˆ°$n$å…¥æ ˆäº†ï¼Œé‚£ä¹ˆå°±éšä¾¿å…¥æ ˆä¸€ä¸ªå¤§äºä¸€ç™¾çš„æ•°å³å¯ã€‚ 1234567891011&gt;inline void my_push(char a,char b)&#123;&gt; if(isdigit(a))&#123;&gt; if(isdigit(b))&#123;&gt; stk[++t]=(a-48)*10+b-48;&gt; i++;&gt; &#125;&gt; else stk[++t]=a-48; &gt; &#125;&gt; if(a=='n')stk[++t]=MAX;&gt;&#125;&gt; æœ€ååˆ¤æ–­ä¸€ä¸‹è¾“å…¥è¾“å‡ºå³å¯ 1234567891011&gt; if(!flag&amp;&amp;cntf!=cnte)&#123;&gt; cout&lt;&lt;"ERR"&lt;&lt;endl;&gt; flag=1;&gt; &#125;&gt; while(num)&#123;&gt; res=max(res,ans[num]); &gt; num--;&gt; &#125;&gt; if(!flag) if(res==need_check) cout&lt;&lt;"Yes"&lt;&lt;endl;&gt; else cout&lt;&lt;"No"&lt;&lt;endl;&gt; å—¯~o(ï¿£â–½ï¿£)oè¿™å°±æ˜¯æ»¡åˆ†åšæ³•äº†ã€‚ å”‰ï¼Œæ—¶å…‰ä¸€å»ä¸å¤è¿”å•Šã€‚ $C$â€¦â€¦å…¶å®ä¸ç®—æ˜¯ä¸ªæ–°é¢˜ï¼Œåªæ˜¯ä¼¼ä¹å½“æ—¶è¿™é“é¢˜åœºä¸Šå¾ˆå¡å¸¸ï¼Ÿæ„Ÿè§‰å°±æ˜¯å¥½å¤šä¸œè¥¿çš„æ‚ç³…ï¼Œå…ˆSPFAåˆ¤ä¸ªå…¨$0$ç¯ï¼Œå†å€’ç€è®°æœä¸€éâ€¦â€¦æ„Ÿè§‰å·²ç»ä¸ç®—ä»€ä¹ˆæ–°é¢˜äº†ï¼ŒT3å‡ºæˆè¿™æ ·æ„Ÿè§‰å¾ˆå¤±æœ›qaqâ€¦â€¦ ä½†æ€ä¹ˆè¯´å‘¢ï¼Œä¹Ÿæ˜¯ä¸ªç»ƒä¹ ç åŠ›çš„æœºä¼šå§ï¼Œè½¬ç§»æ–¹ç¨‹æŒºå¥½æƒ³çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657deque &lt;int&gt; q ; bitset &lt;MAXN&gt; vis ;struct Edge&#123; int fr, to, next, v ;&#125;E[MAXM] ; int head[MAXN][2], cnt ;int T, N, L, M, K, P, A, B, C, ss[MAXN] ;int Es[MAXM][2], dfn[MAXN], low[MAXN], tot ; bool flag ; LL Ans, dp[MAXN][MAXK], dist[MAXN] ;inline void _Add(int u, int v, int w)&#123; E[++ cnt].to = v, E[cnt].v = w, E[cnt].next = head[u][1], head[u][1] = cnt ; E[++ cnt].to = u, E[cnt].v = w, E[cnt].next = head[v][0], head[v][0] = cnt ; &#125;inline void Init()&#123; register int k ; vis.reset() ; memset(dp, -63, sizeof(dp)), cnt = 0 ; for (k = 0 ; k &lt;= L + 3 ; ++ k) dist[k] = Inf, ss[k] = head[k][1] = head[k][0] = 0 ; &#125;inline void SPFA()&#123; register int now, k ; q.push_front(1), vis[1] = 1, dist[1] = 0, ++ ss[1] ; while (!q.empty())&#123; now = q.front(), vis[now] = 0, q.pop_front() ; for (k = head[now][1] ; k ; k = E[k].next)&#123; if (dist[to(k)] &gt;= dist[now] + E[k].v)&#123; ++ ss[to(k)] ; dist[to(k)] = dist[now] + E[k].v ; if (ss[to(k)] &gt;= N)&#123; flag = 1 ; return ; &#125; if (!vis[to(k)])&#123; if (q.empty() || dist[to(k)] &lt; dist[q.front()]) q.push_front(to(k)) ; else q.push_back(to(k)) ; vis[to(k)] = 1 ; &#125; &#125; &#125; &#125; &#125;LL dp_work(int now, int op)&#123; if (dp[now][op] &gt;= 0) return dp[now][op] ; dp[now][op] = 0 ; for (register int k = head[now][0] ; k ; k = E[k].next)&#123; LL t = op - dist[to(k)] + dist[now] - E[k].v ; if (t &gt; K || t &lt; 0) continue ; dp[now][op] = (dp[now][op] + dp_work(to(k), t)) % P ; &#125; return dp[now][op] ;&#125;int main()&#123; register int i ; cin &gt;&gt; T ; while(T --)&#123; L = 200000, Init() ; Ans = 0 ; N = qr(), M = qr(), K = qr(), P = qr() ; for (i = 1 ; i &lt;= M ; ++ i) A = qr(), B = qr(), C = qr(), _Add(A, B, C) ; SPFA() ; dp[1][0] = 1 ; L = N ; if (flag) &#123; flag = 0, printf("-1\n") ; continue ; &#125; for (i = 0 ; i &lt;= K ; ++ i) Ans = (Ans + dp_work(N, i)) % P ; printf("%lld\n", Ans) ; &#125; return 0 ; &#125; æƒ³äº†ä¸€ä¸‹ï¼Œä¼¼ä¹å‡ºé¢˜äººæ˜¯æ•…æ„æŠŠæ—¶é—´æŠ¼ç»™$B$çš„ï¼Œæ‰€ä»¥$C$æ¯”è¾ƒé€ã€‚ $D$ä¹Ÿæ˜¯æŒºé€çš„ä¸€é“é¢˜ï¼Œæ³¨æ„å¼€long longå°±å¥½â€¦ç”¨å¹¶æŸ¥é›†ç»´æŠ¤ä¸€ä¸‹æœ€ä¸Šé¢å’Œæœ€ä¸‹é¢çš„ä¸¤ä¸ªæ´åœ¨ä¸åœ¨ä¸€æ¡â€œè¿é€šé“¾â€ä¸Šå³å¯ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748struct hole&#123; long long x,y,z;&#125;c[10001];inline long long find(long long a)&#123; if(f[a]!=a)a=find(f[a]); return a;&#125;inline void unionn(long long xz,long long yz)&#123; if(c[find(yz)].z&gt;c[find(xz)].z) f[find(yz)]=f[find(xz)]; else f[find(xz)]=f[find(yz)];&#125;inline bool check(hole a,hole b)z&#123; long long d; d=(a.z-b.z)*(a.z-b.z)+(a.y-b.y)*(a.y-b.y)+(a.x-b.x)*(a.x-b.x); if(d&lt;=4*r*r)return 1; return 0;&#125;int main()&#123; cin&gt;&gt;t; while(t--) &#123; memset(f,0,sizeof(0)); cin&gt;&gt;n&gt;&gt;h&gt;&gt;r; for(long long i=1;i&lt;=n;i++) &#123; scanf("%lld%lld%lld",&amp;c[i].x,&amp;c[i].y,&amp;c[i].z); f[i]=i; &#125; for(long long i=1;i&lt;=n;i++) for(long long j=i+1;j&lt;=n;j++) if(f[i]!=f[j]&amp;&amp;check(c[i],c[j]))unionn(i,j); bool cc=0; for(long long i=1;i&lt;=n;i++) if(c[i].z+r&gt;=h&amp;&amp;c[find(i)].z-r&lt;=0) &#123; cc=1; cout&lt;&lt;"Yes"&lt;&lt;endl; break; &#125; if(!cc)cout&lt;&lt;"No"&lt;&lt;endl; cc=0; &#125; return 0;&#125; wtmä»¥å‰çš„ç é£æ˜¯æœ‰å¤šçŠ€åˆ©å•Šï¼Œå­—ç¬¦é—´ä¸åŠ ç©ºæ ¼å¤§æ‹¬å·ä¹Ÿä¸æ¢è¡Œ $E$emmmç¬¬ä¸€çœ¼çŠ¶å‹ï¼Œç¬¬äºŒçœ¼éœ€è¦æŠŠæ ‘é«˜åŠ åˆ°çŠ¶æ€é‡Œï¼Œé‚£ä¹ˆå°±æ˜¯$f_{s,h}$è¡¨ç¤ºç°åœ¨é€‰çš„ç‚¹é›†ä¸º$S$ï¼Œæ ‘é«˜ä¸º$h$çš„æœ€å°èŠ±è´¹ã€‚è½¬ç§»çš„æ—¶å€™å¤§æ¦‚å°±æ˜¯æœ´ç´ çš„$$f_{s,i} = \min\limits _{t \in s}{f_{t,i-1}+cost_{t\to s}}$$ ç„¶åè¿™ä¸ªcostæ˜¾ç„¶æ˜¯å¯ä»¥åœ¨å¯æ¥å—çš„å¤æ‚åº¦ä»¥å†…$prework$å‡ºæ¥çš„ã€‚äºæ˜¯æœ€ç»ˆçš„å¤æ‚åº¦å°±æ˜¯$\Theta(3^n\cdot n^2)$ æ±‚â€œå­é›†çš„å­é›†â€çš„å¤æ‚åº¦ä¸¥æ ¼æ¥è®²æ˜¯$3^n$è€Œä¸æ˜¯$4^n$ï¼ŒåŸå› åœ¨äºæˆ‘ä»¬äº‹å®ä¸Šä¸€å…±æœ‰$\sum \binom{n}{k}2^k$ä¸ªå­é›†ï¼Œé€†å‘äºŒé¡¹å¼å±•å¼€æˆ–è€…å«äºŒé¡¹å¼æ”¶ç¼©ä¸€ä¸‹å°±å¯ä»¥å¾—åˆ°$$\sum \binom{n}{k}2^k = \sum \binom{n}{k}1^{n-k}\cdot 2^k = (1+2)^n = 3^n$$ä»£ç å®ç°ï¼š12&gt; for(t = S ; t ; t = (t - 1) &amp; S)&gt; å‘ƒï¼Œè‡³äºè¿™å¥è¯çš„åŸç†æš‚ä¸å¯çŸ¥ï¼Œä½†æ˜¯æŒºå¥½ç”¨æ˜¯çœŸçš„qwq ä½†æ˜¯å¤æ‚åº¦ä¸Šé™æ­¤æ—¶æ˜¯$531441\times 12^2= 76527504$ï¼Œä¸å¯è¿‡ï¼ˆä½†äº‹å®ä¸Šæ ¹æœ¬ä¸å¯èƒ½è·‘æ»¡æ‰€ä»¥ä¹Ÿè¿‡äº†ï¼‰ï¼Œä»¥ä¸‹æ˜¯Flash_huå·¨ä½¬çš„$\Theta(3^nn)$çš„åšæ³•ï¼š æˆ‘ä»¬å‘ç°ä¼¼ä¹åŒä¸€æ ‘é«˜çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå®Œå…¨å¯ä»¥åŒæ—¶è½¬ç§»ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸å¦¨è®¾$f_{s,t}$è¡¨ç¤ºå·²é€‰ç‚¹é›†ä¸º$s$ï¼Œä¸‹ä¸€å±‚è¦åŠ å…¥çš„ç‚¹é›†ä¸º$t$æ—¶ï¼Œ æ–°åŠ å…¥çš„æ‰€æœ‰ç‚¹ä¸åŸæœ‰ç‚¹ä¹‹é—´æœ€å°çš„è¾¹æƒä¹‹å’Œâ€”â€”ç”¨äºé¢„å¤„ç†ã€‚ å…·ä½“çš„è½¬ç§»æˆ‘ä»¬å¯ä»¥è€ƒè™‘å¦‚ä¸‹ï¼š $$f_{s,t} = \min {f_{s,t-lowbit(j)}+cost_{k, s}}, k=\log _2lowbit(j)$$å…¶ä¸­$cost_{k,s}$è¡¨ç¤ºç‚¹$k$åˆ°è¿é€šå—$s$çš„æœ€çŸ­è·ç¦»ã€‚å¯ä»¥ç”¨$lowbit$çš„åŸå› æ˜¯ç­”æ¡ˆæ— åºï¼Œæ‰€ä»¥è¿™ä¸€éƒ¨åˆ†çš„å¤æ‚åº¦æ˜¯$O(3^nn).$ é‚£ä¹ˆæ¥ä¸‹æ¥è€ƒè™‘åŸå…ˆçš„$dp$ï¼Œè®¾$g_{s,h}$è¡¨ç¤ºå·²é€‰ç‚¹é›†ä¸º$s$ï¼Œå½“å‰æ ‘é«˜ä¸º$h$çš„æœ€å°ä»£ä»·ï¼Œå³ç›®æ ‡å‡½æ•°ã€‚é‚£ä¹ˆè½¬ç§»å°±æ˜¯ï¼š$$g_{s,h} = \sum_{t\in s}g_{s-t, h-1}+h\cdot f_{s-t,t}$$åŒæ ·æ˜¯æ˜¾ç„¶çš„ã€‚æ‰€ä»¥æœ€åçš„å¤æ‚åº¦å°±æ˜¯$O(3^nn)$ ã€‚ç­”æ¡ˆçš„è¯æœ€åç›´æ¥å¯¹æ‰€æœ‰$g_{_{2^n-1,h}},h\in[1,n]$å–ä¸ªæœ€å°å€¼å°±å¥½äº†ã€‚ 123456789101112131415161718192021222324252627282930int cnt, T, D[MAX][MAX], a, b, c ;int F[MAXN][MAX], Next[MAX], Ans, Sup, Now ;int N, M, i, j, k, Log[MAX], Max, A[MAXN][MAXN] ; int main()&#123; memset(A, 63, sizeof(A)) ; memset(F, 63, sizeof(F)), Ans = Inf ; cin &gt;&gt; N &gt;&gt; M ; Max = (1 &lt;&lt; N) - 1 ; for (i = 1 ; i &lt;= M ; ++ i) scanf("%d%d%d", &amp;a, &amp;b, &amp;c), A[a][b] = A[b][a] = min(c, A[a][b]) ; for (i = 0 ; i &lt;= N ; ++ i) Log[1 &lt;&lt; i] = i ; for (i = 0 ; i &lt;= N ; ++ i) F[0][1 &lt;&lt; i] = 0 ; for (i = 1 ; i &lt;= Max ; ++ i)&#123; cnt = 0 ; for (j = Sup = Max ^ i; j ; j = (j - 1) &amp; Sup) Next[j] = cnt, cnt = j ; for (j = cnt ; j ; j = Next[j])&#123; Now = Log[j &amp; (-j)] + 1, T = Inf ; for (k = 1; k &lt;= N ; ++ k) if (1 &lt;&lt; (k - 1) &amp; i) T = min(T, A[Now][k]) ; D[i][j] = D[i][j ^ (j &amp; -j)] + T ; &#125; &#125; for (i = 1 ; i &lt; N ; ++ i) for (j = 1 ; j &lt;= Max; ++ j) for (k = j ; k ; k = (k - 1) &amp; j) F[i][j] = min(F[i][j], F[i - 1][j ^ k] + i * D[j ^ k][k]) ; for (i = 0 ; i &lt;= N ; ++ i) Ans = min(Ans, F[i][Max]) ; cout &lt;&lt; Ans &lt;&lt; endl ; return 0 ;&#125; $F$ä¸€é“æˆ‘ä¸æ˜¯å¾ˆä¼šçš„çº¿æ®µæ ‘é¢˜â€¦â€¦ æ€ä¹ˆè¯´å‘¢ï¼Œæ„Ÿè§‰è¿™ä¸ªåšæ³•æœªæ›¾è§è¿‡å§ã€‚å¤§æ¦‚å°±æ˜¯ç»´æŠ¤$n+1$æ£µåŠ¨æ€å¼€ç‚¹çš„çº¿æ®µæ ‘ï¼Œå…¶ä¸­å¯¹æ¯ä¸€è¡Œçš„å‰$m-1$ä¸ªå…ƒç´ ç»´æŠ¤ä¸€ä¸ªçº¿æ®µæ ‘ï¼Œç„¶åå¯¹æœ€åä¸€åˆ—å•ç‹¬ç»´æŠ¤ä¸€æ£µçº¿æ®µæ ‘ã€‚çº¿æ®µæ ‘ä¸Šæ¯ä¸ªç‚¹ç»´æŠ¤è‡ªå·±å­æ ‘å†…åˆ°åº•æœ‰å¤šå°‘ä¸ªç‚¹è¢«åˆ äº†ï¼Œç”¨æ¥ååŠ©å¯»æ‰¾ç°åœ¨çš„ä½ç½®ã€‚åœ¨æ­¤åŸºç¡€ä¸Šå†ç»´æŠ¤$n+1$ä¸ªvectorï¼Œç”¨æ¥è®°å½•ä»æ¯æ£µçº¿æ®µæ ‘ä¸­å¼¹å‡ºçš„ç‚¹å³å¯ã€‚ å‘ƒï¼Œç°åœ¨çš„æˆ‘ä¼¼ä¹å¹¶æ²¡æœ‰å¾ˆå¥½åœ°ç†è§£è¿™ä¸ªé¢˜çš„åšæ³•ï¼Œæœ‰äº›é©¬è™â€¦æ‰€ä»¥å¸Œæœ›æ—¥åå†çœ‹çš„æ—¶å€™èƒ½çœ‹çš„æ›´æ¸…æ˜ä¸€ç‚¹å§ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include &lt;cstdio&gt;#include &lt;vector&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;int N, M, Q ;using namespace std ;inline int qr()&#123; register int k = 0 ; char c = getchar() ; while(!isdigit(c)) c = getchar() ; while(isdigit(c)) k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k ;&#125;namespace vio&#123; #define MAXV 2010 int x, y, t, i, j ; int base[MAXV][MAXV] ; void Solve1()&#123; t = 0 ; for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt;= M ; ++ j) base[i][j] = ++ t ; while(Q --)&#123; x = qr(), y = qr(), t = base[x][y] ; for (i = y + 1 ; i &lt;= M ; ++ i) base[x][i - 1] = base[x][i] ; for (i = x + 1 ; i &lt;= N ; ++ i) base[i - 1][M] = base[i][M] ; printf("%d\n", (base[N][M] = t)) ; &#125; &#125;&#125;namespace segment_T&#123; #define MAXN 400010 #define ll long long #define pb push_back #define rr register int vector&lt;ll&gt; del[MAXN &lt;&lt; 4] ; int Max ; int rt[MAXN &lt;&lt; 4], L[MAXN &lt;&lt; 4], R[MAXN &lt;&lt; 4], dfn, val[MAXN &lt;&lt; 4] ; inline void update(int &amp;root, int l, int r, int pos)&#123; if (!root) root = ++ dfn ; val[root] ++ ; if (l == r) return ; rr mid = (l + r) &gt;&gt; 1 ; if (pos &lt;= mid) update(L[root], l, mid, pos) ; else update(R[root], mid + 1, r, pos) ; &#125; inline int query(int root, int l, int r, int pos)&#123; if (l == r) return l ; rr mid = (l + r) &gt;&gt; 1, dif = mid - l + 1 - val[L[root]] ; if (dif &gt;= pos) return query(L[root], l, mid, pos) ; else return query(R[root], mid + 1, r, pos - dif) ; &#125; inline ll delcase2(int x, ll y)&#123; rr now_p = query(rt[N + 1], 1, Max, x) ; update(rt[N + 1], 1, Max, now_p) ; ll ret = now_p &lt;= N ? 1LL * now_p * M : del[N + 1][now_p - N - 1] ; del[N + 1].pb(y ? y : ret) ; return ret ; &#125; inline ll delcase1(int x, int y)&#123; rr now_p = query(rt[x], 1, Max, y) ; update(rt[x], 1, Max, now_p) ; ll ret = now_p &lt; M ? 1LL * (x - 1) * M + now_p : del[x][now_p - M] ; del[x].pb(delcase2(x, ret)) ; return ret ; &#125; inline void Solve2()&#123; rr x, y ; Max = max(N, M) + Q ; while (Q --) x = qr(), y = qr(), printf("%lld\n", y != M ? delcase1(x, y) : delcase2(x, 0)) ; &#125;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; Q ; if (N &lt;= 5000 &amp;&amp; M &lt;= 5000) vio :: Solve1() ; else segment_T :: Solve2() ;/*pkspkspks*/ return 0 ; &#125; $\varPhi$ç°åœ¨æ¥çœ‹ï¼Œä¹è§‚ä¼°è®¡ï¼Œè‡ªå·±åº”è¯¥å¯ä»¥å¾—åˆ°$100+100+100+100+55+30=485pts$ï¼Œå½“ä¸”ä»…å½“è‡ªå·±çš„ç åŠ›å·²ç»å¾ˆå¼ºã€‚å¦‚æœæ˜¯æ‚²è§‚ä¼°è®¡ï¼Œé‚£å¤§æ¦‚æ˜¯$100+70+40+80+55+30=375pts$ã€‚ç»§ç»­åŠªåŠ›å§ï¼Œç°åœ¨è¿˜å·®å¾—å¾ˆè¿œå•Šâ€¦â€¦]]></content>
      <categories>
        <category>é¢˜è§£</category>
      </categories>
      <tags>
        <tag>æ•°å­¦/æ‰©å±•æ¬§å‡ é‡Œå¾·</tag>
        <tag>åŠ¨æ€è§„åˆ’-æ™®é€šDP</tag>
        <tag>NOIPç³»åˆ—</tag>
        <tag>çº¿æ®µæ ‘</tag>
        <tag>æš´åŠ›</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[èˆè¹ˆé“¾(DLX)å…¥é—¨]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F11%2Fdlx%2F</url>
    <content type="text"><![CDATA[â€œåœ¨ä¸€ä¸ªå…¨é›†$X$ä¸­è‹¥å¹²å­é›†çš„é›†åˆä¸º$S$ï¼Œç²¾ç¡®è¦†ç›–ï¼ˆ$\boldsymbol{Exact~Cover}$ï¼‰æ˜¯æŒ‡ï¼Œ$S$çš„å­é›†$S*$ï¼Œæ»¡è¶³$X$ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ åœ¨$S*$ä¸­æ°å¥½å‡ºç°ä¸€æ¬¡ã€‚åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œç²¾ç¡®è¦†ç›–é—®é¢˜æŒ‡æ‰¾å‡ºè¿™æ ·çš„ä¸€ç§è¦†ç›–ï¼Œæˆ–è¯æ˜å…¶ä¸å­˜åœ¨ã€‚â€ $0x01$ ç²¾å‡†è¦†ç›–é—®é¢˜â€¦â€¦å…¶å®æ˜¯ä¸€ç§å†³ç­–é—®é¢˜ï¼Œç»™å®š$n$è¡Œé•¿åº¦ä¸º$m$çš„$0,1$åºåˆ—ï¼Œè¦æ±‚é€‰å‡ºä¸€äº›è¡Œï¼Œä½¿å¾—æ¯ä¸€åˆ—æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª$1$ï¼Œè¿™å°±æ˜¯ç²¾å‡†è¦†ç›–é—®é¢˜ã€‚ è¯šç„¶ï¼Œæˆ‘æœç´¢è´¼èœï¼Œæ‰€ä»¥æš‚ä¸”ä¸è€ƒè™‘çˆ†æœï¼Œå¼•è¿›ä¸€ç§å«åšâ€œXç®—æ³•â€çš„ä¸œè¥¿ï¼Œå…¶æœ¬è´¨ä¸Šæ˜¯æ¯æ¬¡é€‰å–ä¸€è¡Œï¼Œä¹‹ååˆ æ‰æ‰€æœ‰ä¸è¿™è¡Œå†²çªçš„è¡Œï¼ŒåŒæ—¶åˆ æ‰ä¸è¿™è¡Œå†²çªçš„åˆ—ï¼Œæˆä¸ºä¸€ä¸ªæ›´å°çš„çŸ©é˜µï¼Œè¿­ä»£ä¸‹å»ã€‚å¦‚æœä»€ä¹ˆæ—¶å€™åˆ æ²¡äº†ï¼Œå°±è¯´æ˜æ˜¯ä¸€ç§å¯è¡Œè§£ï¼›å¦åˆ™æ¢å¤åŸæ¥çš„çŠ¶æ€ã€‚ æˆ‘ä»¬æ€è€ƒè¿™ç§ç®€æ´åšæ³•çš„æµç¨‹ï¼Œå‘ç°æœ´ç´ çš„åˆ é™¤ä¸æ¢å¤æ— éå°±æ˜¯å°†çŸ©é˜µçš„è¿™ä¸€ä¸ªå…ƒç´ ç”±$0$æˆ–$1$èµ‹å€¼æˆ$-1$ï¼Œè®°å½•ä¸€ä¸‹çŠ¶æ€å›æº¯çš„æ—¶å€™å†èµ‹å€¼å›å»ï¼Œæ•´ä¸ªè¿‡ç¨‹ååˆ†åœ°æ¼«é•¿ä¸”ç¹å¤ã€‚è€Œæ‰€è°“æ‰€è°“çš„â€èˆè¹ˆé“¾ç®—æ³•$\rm{DLX~(Dancing-Links ~X ~Algorithm)}$â€œç®—æ³•åˆ™æ˜¯ä¸“é—¨ç”¨æ¥åŠ é€Ÿè¿™ä¸€è¿‡ç¨‹ã€‚ åœ¨æœ¬äººçœ‹æ¥ï¼Œ$\rm{DLX}$æ›´åƒæ˜¯ä¸€ç§åŒ…è£…å¥½çš„æ•°æ®ç»“æ„ï¼Œä¸€ç§åŠ é€Ÿæªæ–½ï¼Œèƒ½æ›´å¥½çš„è®©çˆ†æœè¾¾åˆ°å…¶ç†è®ºå¤æ‚åº¦ï¼ˆæ‰€ä»¥æœ¬è´¨ä¸Šè¿˜æ˜¯çˆ†æœXDï¼‰â€¦â€¦ä¸è¿‡è¯´å®è¯â€œåƒç¿©ç¿©èµ·èˆçš„èˆè€…â€æˆ‘å€’æ˜¯çœ‹ä¸å‡ºæ¥â€¦æˆ‘è§‰å¾—æ›´åƒæ˜¯ä¸€å¯¹ç‰›ä»”è£¤ä¸Šæ‹‰é“¾ï¼Œæ‹‰æ¥æ‹‰å»çš„é‚£ç§æ„Ÿè§‰â€¦â€¦ è¯¶ï¼Œä»€ä¹ˆæ—¶å€™æˆ‘çš„Prefaceå¼€å§‹è¿™ä¹ˆæ„è¯†æµäº†å•Š $0x02$ $\text{Dancing-Links}$å…¶å®ç®—æ³•çš„æœ¬è´¨å°±æ˜¯é“¾è¡¨ï¼Œè¿™ç©æ„å„¿æ’å…¥åˆ é™¤éƒ½æ˜¯$\Theta(1)$çš„ã€‚æˆ‘ä»¬è€ƒè™‘å»ºç«‹ä¸€ä¸ªåå­—å¾ªç¯é“¾è¡¨ï¼Œå³æ¯ä¸ªå…ƒç´ åœ¨é“¾è¡¨é‡Œæ˜¯å››è”é€šçš„ï¼Œå¹¶ä¸”å·¦å³æˆç¯ã€ä¸Šä¸‹æˆç¯ï¼Œç›®çš„æ˜¯æ–¹ä¾¿çŸ¥é“æŸäº›æ“ä½œè¯¥ä»€ä¹ˆæ—¶å€™åœæ­¢ã€‚æœ¬è´¨ä¸Šæ¥è®²ï¼Œä¸€ä¸ªæ±‚è§£çŸ©é˜µï¼ˆæ­¤å¤„ä»£æŒ‡ä¸Šæ–‡æåˆ°çš„$n$è¡Œ$0,1$åºåˆ—ï¼‰åˆå§‹çš„$\text{Dancing-Links}$ å…±æœ‰$\text{1+m+Count(â€˜1â€™)}$ ä¸ªå…ƒç´ ï¼Œå…¶ä¸­$Count(â€˜1â€™)$æŒ‡çŸ©é˜µä¸­$1$çš„ä¸ªæ•°ã€‚ å‰$\text{m+1}$ä¸ªå…ƒç´ ï¼Œå¤§æ¦‚å°±æ˜¯åˆ—æ ‡å…ƒç´ ï¼ˆ$m$ä¸ªï¼‰å·¦å³è¿æˆä¸€ç‰‡ï¼Œæœ€å·¦è¾¹çš„$0$å·å…ƒç´ ç”¨æ¥åˆ¤æ–­æ˜¯å¦$\text{worked-out}$æ•´ä¸ªçŸ©é˜µï¼Œå’Œæ‰€æœ‰åˆ—æ ‡å…ƒç´ ä¸²æˆä¸€æ¡å·¦å³è¿é€šçš„é“¾è¡¨ã€‚ç„¶åå‰©ä¸‹çš„çš„å…ƒç´ å°±æ˜¯çœŸå®å­˜åœ¨çš„å…ƒç´ â€¦è¯¥æ€ä¹ˆè¿æ€ä¹ˆè¿é‚£ç§æ„Ÿè§‰â€¦ é‚£ä¹ˆæ¯ä¸ªå…ƒç´ è®°å½•$6$ä¸ªå€¼ï¼Œä¸Šä¸‹å·¦å³å’Œè¡Œæ ‡åˆ—æ ‡ã€‚ 123struct Node&#123; int l, r, u, d, co, ro ;&#125;B[MAX &lt;&lt; 1] ; åˆå§‹åŒ– 12345inline void Init()&#123; cin &gt;&gt; N &gt;&gt; M ; for (int i = 0 ; i &lt;= M ; ++ i) B[i].l = i - 1, B[i].r = i + 1, B[i].u = B[i].d = i ; B[M].r = 0, B[0].l = M, cnt = M, memset(Ro, -1, sizeof(Ro)) ;&#125; å…¶ä¸­$R_o[]$æ•°ç»„è®°å½•æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆç¬¬ä¸€ä¸ªåŠ è¿›æ¥çš„å…ƒç´  ç„¶åInsertå‡½æ•°ç”¨äºæ’å…¥â€¦â€¦æ¯•ç«Ÿæ˜¯é“¾è¡¨å˜›ï¼Œå°±è¦æœ‰ä¸ªé“¾è¡¨çš„æ ·å­ 123456inline void Insert(int R, int C)&#123; Cs[C] ++, B[++ cnt].ro = R, B[cnt].co = C ; B[cnt].u = C, B[cnt].d = B[C].d, B[C].d = B[B[C].d].u = cnt ; if (Ro[R] &lt; 0) Ro[R] = B[cnt].l = B[cnt].r = cnt ; else B[cnt].l = B[Ro[R]].l, B[cnt].r = Ro[R], B[Ro[R]].l = B[B[Ro[R]].l].r = cnt ;&#125; ç„¶å$C_s[]$æ•°ç»„ç”¨æ¥è®°å½•æ¯ä¸€åˆ—çš„å…ƒç´ ä¸ªæ•°ï¼Œç”¨æ¥å‰ªæã€‚ ç„¶åå°±æ˜¯åˆ é™¤å’Œæ¢å¤ï¼Œéƒ½æ˜¯ä»¥åˆ—ä¸ºå‚æ•°çš„å‡½æ•°ï¼Œä¹Ÿéƒ½æ˜¯å¾ˆå¹³å‡¡çš„æ“ä½œã€‚ 123456789101112inline void Del(int C)&#123; B[B[C].l].r = B[C].r, B[B[C].r].l = B[C].l ; for (int i = B[C].d ; i != C ; i = B[i].d) for (int j = B[i].r ; j != i ; j = B[j].r) B[B[j].d].u = B[j].u, B[B[j].u].d = B[j].d, Cs[B[j].co] -- ;&#125;inline void Back(int C)&#123; for (int i = B[C].u ; i != C ; i = B[i].u) for (int j = B[i].l ; j != i ; j = B[j].l) B[B[j].d].u = j, B[B[j].u].d = j, Cs[B[j].co] ++ ; B[B[C].l].r = C, B[B[C].r].l = C ; &#125; ç„¶åæ˜¯ä¸»å‡½æ•° 1234567891011bool dance(int step)&#123; if (!B[0].r)&#123; return (bool)(ans = step) ; &#125; int now_c = B[0].r ; for (int i = B[0].r ; i ; i = B[i].r) now_c = Cs[i] &lt; Cs[now_c] ? i : now_c ; Del(now_c) ; for (int i = B[now_c].d ; i != now_c ; i = B[i].d) &#123; Ans[step] = B[i].ro ; for(int j = B[i].r ; j != i ; j = B[j].r) Del(B[j].co) ; if (dance(step + 1)) return 1 ; for(int j = B[i].l ; j != i ; j = B[j].l) Back(B[j].co) ; &#125; Back(now_c) ; return 0 ; &#125; æœ‰ä¸ªå°å‰ªæï¼Œå°±æ˜¯åˆšæ‰è¯´çš„$C_s[]$ã€‚å¦‚æœæ¯æ¬¡ä»å«æœ‰æœ€å°‘$1$çš„é‚£ä¸€åˆ—å¼€å§‹åˆ ï¼Œä¼¼ä¹å¯ä»¥å¿«å¥½å‡ å€ã€‚ æˆ‘å‘ç°æ•´ç†ç®—æ³•çš„æ–‡ç« å†™èµ·æ¥çœŸæ˜¯éš¾å—å•Šï¼Œè¿˜æ˜¯æ„è¯†æµæ¯”è¾ƒç®¡ç”¨ã€‚ æœ€åæ˜¯å…¨éƒ¨çš„ç¨‹åºï¼ˆ$Luogu4929$ï¼‰ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#define I_used_to_rule_the_world___Seas_would_rise_when_I_gave_the_word___Now_in_the_morning_I_sleep_alone___Sweep_the_streets_I_used_to_own Init#define I_used_to_roll_the_dice___Feel_the_fear_in_my_enemy_s_eyes___Listen_as_the_crowd_would_sing_Now_the_old_king_is_dead__Long_live_the_king Done#define One_minute_I_held_the_key__Next_the_walls_were_closed_on_me__And_I_discovered_that_my_castles_stand__Upon_pillars_of_salt_pillars_of_sand work #define MAXN 520#define MAX 30010using namespace std ;struct Node&#123; int l, r, u, d, co, ro ;&#125;B[MAX &lt;&lt; 1] ; int cnt, ans ; int N, M, Ans[MAX], Ro[MAX], Cs[MAX] ;inline void Init()&#123; cin &gt;&gt; N &gt;&gt; M, memset(Ro, -1, sizeof(Ro)) ; for (int i = 0 ; i &lt;= M ; ++ i) B[i].l = i - 1, B[i].r = i + 1, B[i].u = B[i].d = i ; B[M].r = 0, B[0].l = M, cnt = M ;&#125;inline void Insert(int R, int C)&#123; Cs[C] ++, B[++ cnt].ro = R, B[cnt].co = C ; B[cnt].u = C, B[cnt].d = B[C].d, B[C].d = B[B[C].d].u = cnt ; if (Ro[R] &lt; 0) Ro[R] = B[cnt].l = B[cnt].r = cnt ; else B[cnt].l = B[Ro[R]].l, B[cnt].r = Ro[R], B[Ro[R]].l = B[B[Ro[R]].l].r = cnt ;&#125;inline void Del(int C)&#123; B[B[C].l].r = B[C].r, B[B[C].r].l = B[C].l ; for (int i = B[C].d ; i != C ; i = B[i].d) for (int j = B[i].r ; j != i ; j = B[j].r) B[B[j].d].u = B[j].u, B[B[j].u].d = B[j].d, Cs[B[j].co] -- ;&#125;inline void Back(int C)&#123; for (int i = B[C].u ; i != C ; i = B[i].u) for (int j = B[i].l ; j != i ; j = B[j].l) B[B[j].d].u = j, B[B[j].u].d = j, Cs[B[j].co] ++ ; B[B[C].l].r = C, B[B[C].r].l = C ; &#125; bool dance(int step)&#123; if (!B[0].r)&#123; return (bool)(ans = step) ; &#125; int now_c = B[0].r ; for (int i = B[0].r ; i ; i = B[i].r) now_c = Cs[i] &lt; Cs[now_c] ? i : now_c ; Del(now_c) ; for (int i = B[now_c].d ; i != now_c ; i = B[i].d) &#123; Ans[step] = B[i].ro ; for(int j = B[i].r ; j != i ; j = B[j].r) Del(B[j].co) ; if (dance(step + 1)) return 1 ; for(int j = B[i].l ; j != i ; j = B[j].l) Back(B[j].co) ; &#125; Back(now_c) ; return 0 ; &#125;void Done()&#123; int i, j, k ; for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt;= M ; ++ j) &#123; cin &gt;&gt; k ; if (k) Insert(i, j) ;&#125; &#125;inline bool work()&#123; if (!dance(0)) return puts("No Solution!") ; for (int i = 0 ; i &lt; ans ; ++ i) printf("%d ", Ans[i]) ;&#125;int main()&#123; I_used_to_rule_the_world___Seas_would_rise_when_I_gave_the_word___Now_in_the_morning_I_sleep_alone___Sweep_the_streets_I_used_to_own() ; I_used_to_roll_the_dice___Feel_the_fear_in_my_enemy_s_eyes___Listen_as_the_crowd_would_sing_Now_the_old_king_is_dead__Long_live_the_king() ; One_minute_I_held_the_key__Next_the_walls_were_closed_on_me__And_I_discovered_that_my_castles_stand__Upon_pillars_of_salt_pillars_of_sand() ; return 0 ; /* I hear Jerusalem bells are ringing Roman Cavalry choirs are singing Be my mirror my sword and shield My missionaries in a foreign field For some reason I can't explain Once you know there was never' Never an honest word That was when I ruled the world */&#125;]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>ç²¾å‡†è¦†ç›–/èˆè¹ˆé“¾/DLX</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨èˆè¹ˆé“¾(DLX)è§£å†³ä¸€ç±»æ•°ç‹¬é—®é¢˜]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F07%2F11%2Fdlx2%2F</url>
    <content type="text"><![CDATA[è€ƒè™‘ç²¾å‡†è¦†ç›–é—®é¢˜çš„æœ¬è´¨â€”â€”æˆ‘ä»¬æŠŠè¡Œçœ‹åšå†³ç­–ï¼ŒæŠŠåˆ—çœ‹åšä»»åŠ¡ï¼Œé‚£ä¹ˆå…¶å®è´¨å°±æ˜¯é€šè¿‡å†³ç­–æ¥å®Œæˆä»»åŠ¡ã€‚ é‚£ä¹ˆæˆ‘ä»¬æ¥è€ƒè™‘æ•°ç‹¬é—®é¢˜çš„æœ¬è´¨ï¼Œå¯¹äºä¸€ä¸ª$n^2\cdot n^2$çš„æ•°ç‹¬è€Œè¨€ï¼Œä»–çš„ç›®æ ‡å‡½æ•°æœ‰å››ä¸ªï¼š 1ã€$r(i,j):$å¯¹äºç¬¬$i$è¡Œï¼Œå¿…é¡»è¦æœ‰æ•°å­—$j$ 2ã€$c(i,j):$å¯¹äºç¬¬$i$åˆ—ï¼Œå¿…é¡»è¦æœ‰æ•°å­—$j$ 3ã€$p(i,j):$å¯¹äºç¬¬$i$ä¸ªå®«ï¼Œå¿…é¡»è¦æœ‰æ•°å­—$j$ 4ã€$e(i,j):$å¯¹äºç¬¬$(i,j)$ä¸ªæ ¼å­ï¼Œå¿…é¡»è¦æœ‰æ•°å­— ç”±æ­¤å¯çŸ¥ï¼Œæˆ‘ä»¬æœ‰$4\times (n^2\cdot n^2)$çš„ä»»åŠ¡é‡ã€‚ åŒæ—¶æˆ‘ä»¬å¯ä»¥ç”¨$n^6$çš„çŠ¶æ€è¡¨ç¤ºæˆ‘ä»¬çš„å†³ç­–ï¼Œå³$(i,j,k)$è¡¨ç¤ºç¬¬$i$è¡Œ$j$åˆ—å¡«äº†æ•°å­—$k$ã€‚ ç»“åˆä¸¤è€…è€ƒè™‘ï¼Œæˆ‘ä»¬å¯ä»¥å»ºå‡ºä¸€ä¸ªæ–°çš„ç½‘æ ¼å›¾ï¼Œæœ‰$n^6$è¡Œã€$4n^4$åˆ—ã€‚è€ƒè™‘å‘ç½‘æ ¼ä¸­å¡«â€œ$1$â€è¡¨ç¤ºä¸€ä¸ªå†³ç­–å®Œæˆäº†ä¸€ä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆå¯¹äºæ¯ä¸€ä¸ªå†³ç­–$(i,j,k)$ï¼Œå®ƒç†åº”å¯ä»¥å®Œæˆ$4$ä¸ªä»»åŠ¡ï¼Œæ‰€ä»¥ä¸€å…±æœ‰$16n^4$ä¸ª1. è‡³æ­¤å»ºæ¨¡å®Œæ¯•ï¼Œä¸€ä¸ª$n^2\cdot n^2$çš„æ•°ç‹¬é—®é¢˜å¯ä»¥è½¬åŒ–æˆä¸€ä¸ª$n^6$è¡Œã€$4n^4$åˆ—ï¼Œæœ‰$16n^4$ä¸ª$1$çš„ç²¾å‡†è¦†ç›–é—®é¢˜ã€‚ ä¸‹é¢æ˜¯ä»£ç å®ç°éƒ¨åˆ†ï¼Œä»¥SPOJ1110-SUDOKUä¸ºä¾‹ï¼š é¦–å…ˆæ˜¯å¯¹çŠ¶æ€è¿›è¡Œç¼–å· 123456il int encode(int a, int b, int c)&#123; return (a &lt;&lt; 8) + (b &lt;&lt; 4) + c + 1 ; &#125;il void decode(int x, int &amp;a, int &amp;b, int &amp;c)&#123; x --, c = x % 16, x /= 16, b = x % 16, x /= 16, a = x ; &#125; åŸç†å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯içš„åç»­çŠ¶æ€(j,k)æœ‰$n^4=256$ç§ç»„åˆï¼ŒåŒç†jçš„åç»­çŠ¶æ€æœ‰$n^2=16$ç§ç»„åˆã€‚ ç„¶åå°±æ˜¯è¿è¾¹ï¼Œå¯¹äºæ¯ä¸ªç‚¹åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœå½“å‰æšä¸¾åˆ°çš„æ•°å­—æ˜¯è¿™ä¸ªç‚¹çš„æ•°å­—é‚£ä¹ˆå°±éœ€è¦insertï¼ŒåŒç†å¦‚æœæ²¡æœ‰æ•°å­—çš„è¯é‚£å°±éƒ½insertä¸€éï¼Œæ¯•ç«Ÿæ¯”èµ·æœ‰æ•°å­—çš„ç‚¹ï¼Œå¯è¡Œçš„å†³ç­–æ•°è¦æ›´å¤šã€‚è‡³æ­¤æˆ‘ä»¬å°±ä¿è¯äº†åŸå›¾ä¸­å­˜åœ¨æ•°å­—çš„æ–¹æ ¼è¢«insertäº†ï¼Œä¸å­˜åœ¨æ•°å­—çš„æ–¹æ ¼çš„æ‰€æœ‰å¯èƒ½æƒ…å†µä¹Ÿè¢«insertäº†ï¼Œä¹‹åç›´æ¥danceå°±å¯ä»¥å•¦ã€‚ 123456789101112131415161718192021222324int t[O][O], op ;const int POS = 0, Row = 1, Col = 2, Sub = 3 ; int main()&#123; cin &gt;&gt; T ; while (T --)&#123; read(), Init() ; for (int i = 0 ; i &lt; 16 ; ++ i) for (int j = 0 ; j &lt; 16 ; ++ j)&#123; t[i][j] = base[i][j] == '-' ? 0 : base[i][j] - 64 ; for (int k = 0 ; k &lt; 16 ; ++ k)&#123; if (t[i][j] &amp;&amp; t[i][j] != k + 1) continue ; op = encode(i, j, k) ; Insert(op, encode(POS, i, j)), Insert(op, encode(Row, i, k)), Insert(op, encode(Col, j, k)), Insert(op, encode(Sub, (i / 4) * 4 + j / 4, k)) ; &#125; &#125; dance(0) ; for (int i = 0 ; i &lt; 16 ; ++ i, puts("")) for (int j = 0 ; j &lt; 16 ; ++ j) printf("%c", (char)(res[i][j] + 65)) ; puts("") ; &#125;&#125; ç„¶åæ˜¯ä¸€é“è¦æ±‚å‡ºæ‰€æœ‰è§£çš„é¢˜ï¼šNOIP2009D é¶å½¢æ•°ç‹¬ æ­¤å¤„éœ€è¦æˆ‘ä»¬æ±‚å‡ºæ‰€æœ‰å¯èƒ½çš„ç²¾å‡†è¦†ç›–æ–¹æ¡ˆç„¶åå–æœ€å¤§å€¼ï¼Œäºæ˜¯å°å°æ”¹åŠ¨ä¸€ä¸‹danceå°±å¥½ã€‚ 123456789101112131415161718192021222324252627il int gs(const int &amp;x, const int &amp;y)&#123; if (x == 1 || y == 1 || x == 9 || y == 9 ) return 6 ; if (x == 2 || y == 2 || x == 8 || y == 8 ) return 7 ; if (x == 3 || y == 3 || x == 7 || y == 7 ) return 8 ; if (x == 4 || y == 4 || x == 6 || y == 6 ) return 9 ; return 10 ; &#125;void dance(const int &amp;step)&#123; int now_c = B[0].r ; if (!now_c)&#123; int x, y, z, ret = 0 ; for (rr int i = 0 ; i &lt; step ; ++ i) decode(ans[i], x, y, z), g[x][y] = z + 1 ; for (rr int i = 0 ; i &lt; 9 ; ++ i) for (rr int j = 0 ; j &lt; 9 ; ++ j) ret += g[i][j] * gs(i + 1, j + 1) ; res = max(res, ret) ; return ; &#125; for (rr int i = now_c ; i ; i = B[i].r) now_c = Cs[i] &lt; Cs[now_c] ? i : now_c ; Del(now_c) ; for (rr int i = B[now_c].d ; i != now_c ; i = B[i].d)&#123; ans[step] = B[i].ro ; for (rr int j = B[i].r ; j != i ; j = B[j].r) Del(B[j].co) ; dance(step + 1) ; for (rr int j = B[i].l ; j != i ; j = B[j].l) Back(B[j].co) ; &#125; Back(now_c) ; return ; &#125; æ’’èŠ±~ ï¼ˆæ’’è‡ªå·±XD]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>æ¨¡å‹</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>ç²¾å‡†è¦†ç›–/èˆè¹ˆé“¾/DLX</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pruferåºåˆ—æ³›åš]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F05%2F26%2FPrufer%E5%BA%8F%E5%88%97%E6%B3%9B%E5%81%9A%2F</url>
    <content type="text"><![CDATA[Pruferæ•°åˆ—æ˜¯æ— æ ¹æ ‘çš„ä¸€ç§æ•°åˆ—ï¼Œå¸¸ç”¨æ¥æ±‚è§£æ ‘çš„è®¡æ•°é—®é¢˜ã€‚ $Preface$å—¯ï¼Œæœ€è¿‘å­¦äº†å­¦ä¸€ä¸ªå«åšPruferåºåˆ—çš„ä¸œè¥¿ï¼Œç„¶åä¸»è¦æ˜¯è·Ÿæ ‘çš„è®¡æ•°æœ‰å…³ã€‚ åŸºæœ¬æ¦‚å¿µä¸åŸºæœ¬æ“ä½œé¦–å…ˆä¸‹å®šä¹‰ï¼šPruferåºåˆ—æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º$n-2$çš„åºåˆ—ã€‚ æˆ‘ä»¬è€ƒè™‘ç»™å®šä¸€æ£µå¸¦æ ‡å·çš„æ— æ ¹æ ‘ï¼Œæ‰¾å‡ºç¼–å·æœ€å°çš„å¶å­èŠ‚ç‚¹ï¼Œå†™ä¸‹ä¸å®ƒç›¸é‚»çš„èŠ‚ç‚¹çš„ç¼–å·ï¼Œç„¶ååˆ æ‰è¿™ä¸ªå¶å­èŠ‚ç‚¹ã€‚åå¤æ‰§è¡Œè¿™ä¸ªæ“ä½œç›´åˆ°åªå‰©ä¸¤ä¸ªèŠ‚ç‚¹ä¸ºæ­¢ã€‚ç”±äºèŠ‚ç‚¹æ•°$n&gt;2$çš„æ ‘æ€»å­˜åœ¨å¶å­èŠ‚ç‚¹ï¼Œå› æ­¤ä¸€æ£µ$n$ä¸ªèŠ‚ç‚¹çš„æ— æ ¹æ ‘å”¯ä¸€åœ°å¯¹åº”äº†ä¸€ä¸ªé•¿åº¦ä¸º$n-2$çš„æ•°åˆ—ï¼Œæ•°åˆ—ä¸­çš„æ¯ä¸ªæ•°éƒ½åœ¨$1$åˆ°$n$çš„èŒƒå›´å†…ã€‚è€Œè¿™å°±æ˜¯è¿™æ£µæ ‘çš„$\boldsymbol{Prufer}$åºåˆ—ã€‚ ä¸ºä»€ä¹ˆæ˜¯$n-2$ï¼Ÿ æˆ‘ä»¬è§‚å¯Ÿä¸€æ£µæ ‘ï¼Œ$n-1$æ¡æ— å‘è¾¹å†³å®šäº†æ€»åº¦æ•°ä¸º$2n-2$ï¼ŒåŒæ—¶ç”±äºæ¯ä¸ªèŠ‚ç‚¹å½“è‡ªå·±æ˜¯è¢«åˆ æˆå¶å­çš„æ—¶å€™ä¸ä¼šè¢«ç®—è¿›å»ï¼Œæ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹éœ€è¦å‡å»ä¸€çš„è´¡çŒ®ï¼Œæ¢å¥è¯è¯´å°±æ˜¯$Prufer$åºåˆ—çš„é•¿åº¦ä¸º$n-2$ã€‚ emmmç„¶åä¸€ä¸ªæ¯”è¾ƒå¹³å‡¡çš„ç»“è®ºå°±æ˜¯$\boldsymbol{P rufer}$åºåˆ—ä¸­æŸä¸ªç¼–å·å‡ºç°çš„æ¬¡æ•°å°±ç­‰äºè¿™ä¸ªç¼–å·çš„èŠ‚ç‚¹åœ¨æ— æ ¹æ ‘ä¸­çš„åº¦æ•°-1ã€‚ åŒæ—¶æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä¸åŠ è¯æ˜åœ°æ–­è¨€ä»»ä½•ä¸€ä¸ªé•¿ä¸º$n-2$ã€å–å€¼èŒƒå›´åœ¨$1$åˆ°$n$ä¹‹é—´çš„æ•°åˆ—éƒ½å”¯ä¸€åœ°å¯¹åº”äº†ä¸€æ£µ$n$ä¸ªèŠ‚ç‚¹çš„æ— æ ¹æ ‘. ä¸¥æ ¼è¯æ˜å¤§å®¶å¯ä»¥å»Mt67çš„åšå®¢ä¸Šç¿»ï¼ˆ æƒ³è¦æ›´å¥½çš„æ„ä¼šä»¥ä¸Šå†…å®¹ï¼Œéœ€è¦æˆ‘ä»¬è€ƒè™‘å¦‚ä½•å®ç°Pruferçš„å‘ˆç°ä¸å¤åŸï¼š(æ‘˜è‡ªProJ7-Jeffyçš„åšå®¢) ï¼ˆ1ï¼‰æ— æ ¹æ ‘è½¬åŒ–ä¸º $Prufer$ åºåˆ—ã€‚é¦–å…ˆå®šä¹‰æ— æ ¹æ ‘ä¸­åº¦æ•°ä¸º1çš„èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ã€‚æ‰¾åˆ°ç¼–å·æœ€å°çš„å¶å­å¹¶åˆ é™¤ï¼Œåºåˆ—ä¸­æ·»åŠ ä¸ä¹‹ç›¸è¿çš„èŠ‚ç‚¹ç¼–å·ï¼Œé‡å¤æ‰§è¡Œç›´åˆ°åªå‰©ä¸‹2ä¸ªèŠ‚ç‚¹ã€‚å¦‚ä¸‹å›¾çš„æ ‘å¯¹åº”çš„ $Prufer$ åºåˆ—å°±æ˜¯ 3ï¼Œ5ï¼Œ1ï¼Œ3ã€‚å…·ä½“å®ç°å¯ä»¥ç”¨ä¸€ä¸ª set æå®šï¼Œç»´æŠ¤åº¦æ•°ä¸º 1 çš„èŠ‚ç‚¹ã€‚å¤æ‚åº¦ $O(n\log n)$ã€‚ï¼ˆ2ï¼‰$Prufer$åºåˆ—è½¬åŒ–ä¸ºæ— æ ¹æ ‘ã€‚è®¾ç‚¹é›† V={1,2,3,...,n}ï¼Œæ¯æ¬¡å–å‡º $Prufer$ åºåˆ—ä¸­æœ€å‰é¢çš„å…ƒç´ $u$ï¼Œåœ¨Vä¸­æ‰¾åˆ°ç¼–å·æœ€å°çš„æ²¡æœ‰åœ¨ $Prufer$ åºåˆ—ä¸­å‡ºç°çš„å…ƒç´ $v$ï¼Œç»™ $uï¼Œv$ è¿è¾¹ç„¶ååˆ†åˆ«åˆ é™¤ï¼Œæœ€ååœ¨ V ä¸­å‰©ä¸‹ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œç»™å®ƒä»¬è¿è¾¹ã€‚æœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯æ— æ ¹æ ‘ã€‚å…·ä½“å®ç°ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ª setï¼Œç»´æŠ¤ $Prufer$ åºåˆ—ä¸­æ²¡æœ‰å‡ºç°çš„ç¼–å·ã€‚å¤æ‚åº¦ $O(n\log nï¼‰$ã€‚ æ‰©å±• $n$ä¸ªç‚¹æœ‰æ ‡å·æ— æ ¹æ ‘å…±æœ‰$n^{n-2}$ç§ã€‚ $\rm{Proof}:$ ä»”ç»†æƒ³æƒ³â€¦ä¼¼ä¹Pruferåºåˆ—ä¸€å…±$n-2$é¡¹ï¼Œäºæ˜¯å°±ä¹˜æ³•åŸç†å°±å¥½äº†â€¦â€¦ æ¥ä¸Šä¸€ä¸ªï¼Œæœ‰æ ¹æ ‘çš„è¯å› ä¸ºå¯¹äºæ¯ç§æ–¹æ¡ˆé‡Œé¢çš„$n$ä¸ªç‚¹éƒ½å¯ä»¥å½“ä½œæ ¹ï¼Œæ‰€ä»¥æ€»æ•°é‡æ˜¯$n^{n-2}\cdot n=n^{n-1}$ã€‚ å‡è®¾æ¯ä¸ªç‚¹çš„åº¦æ•°å·²ç»ç¡®å®šäº†ï¼Œè®¾ç¬¬$i$å·ç‚¹çš„åº¦æ•°ä¸º$d_i$ï¼Œåˆ™æ˜¾ç„¶æœ‰$\sum_{i=1}^{n}(d_i - 1)=n-2$ï¼Œé‚£ä¹ˆå¯¹äºæ¯ä¸ªèŠ‚ç‚¹åº¦æ•°ç¡®å®šçš„å¸¦æ ‡å·æ— æ ¹æ ‘æ•°é‡å°±æ˜¯$$\frac{(n-2)!}{\prod_{i=1}^n(d_i-1)}$$ $\rm{Proof}:$ å¤§æ¦‚æ˜¯ä¸€ä¸ªæ’åˆ—ç»„åˆçš„æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ˜¯ä¸€å…±$n$ç§å…ƒç´ ï¼Œé€‰$n-2$ä¸ªï¼Œæ¯ç§å…ƒç´ æœ‰ä¸”å¿…é¡»æœ‰$d_i-1$ä¸ªï¼Œæ±‚æ’åˆ—æ•°ã€‚ç„¶åæ¯”è¾ƒæ˜¾ç„¶çš„æ˜¯$(n-2)!$æ˜¯æ€»æ’åˆ—æ•°ï¼Œè€Œæ¯ä¸ªå…ƒç´ ä¸€å…±æœ‰$d_i-1$ä¸ªä½ç½®ï¼Œå¯¹äºåŒä¸€ç§å…ƒç´ çš„åŒä¸€ç§ä½ç½®æ’å¸ƒï¼Œæˆ‘ä»¬å¤šç®—äº†$A_{(d_i-1)}^{(d_i-1)}=(d_i-1)!$æ¬¡çš„ï¼Œæ‰€ä»¥åˆ†æ¯ä¸Šä¹˜æ³•åŸç†èµ·æ¥å»é™¤è¿™äº›è´¡çŒ®å°±å¥½ã€‚ æ¥ä¸Šä¸€ä¸ª, $n$ ä¸ªèŠ‚ç‚¹çš„åº¦ä¾æ¬¡ä¸º $d_1,d_2,â€¦,d_{n-m}$ï¼Œå¦å¤–æœ‰ $m$ ä¸ªèŠ‚ç‚¹åº¦æ•°æœªçŸ¥ï¼Œæ±‚æœ‰å¤šå°‘ç§ç”Ÿæˆæ ‘ï¼Ÿ æˆ‘ä»¬è€ƒè™‘é¦–å…ˆè®¡ç®—ä¸€ä¸‹$Prufer$åºåˆ—è¯¥å‰©ä¸‹å¤šå°‘æœªçŸ¥é¡¹ï¼Œè®¾å…¶æ•°ç›®ä¸º$\omega$ï¼Œåˆ™$\omega=(n-2)-\sum_{d_i ~is~known} (d_i-1)$ã€‚é‚£ä¹ˆæœ¬ç€ç**å»é‡çš„åŸåˆ™ï¼Œæˆ‘ä»¬è€ƒè™‘åº”è¯¥åœ¨åˆ†æ¯ä¸Šä¹˜ä¸€ä¸ª$\omega!$ã€‚è€ŒåŒæ—¶ç”±äºæˆ‘ä»¬å­˜åœ¨$m$ä¸ªåº¦æ•°å¹¶æœªç¡®å®šçš„ç‚¹ï¼Œåœ¨$Prufer$åºåˆ—ä¸­å æ®äº†$\omega$ä¸ªä½ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ†å­ä¸Šåº”è¯¥å†ä¹˜ä¸Šä¸€ä¸ª$m^{\omega}$ã€‚æ•…æ€»æ–¹æ¡ˆæ•°å°±å˜æˆäº†ï¼š $$\frac{(n-2)!m^{\omega}}{\omega!\cdot \prod_{i=1}^{n-m}(d_i-1)}$$ $A$ [HNOI2008]æ˜æ˜çš„çƒ¦æ¼bzoj1005 å…¶å®å°±æ˜¯ä¸Šé¢æ‰©å±•é‡Œé¢çš„ä¸€ä¸ªæ¨è®ºï¼Œç„¶åæˆ‘ä»¬å°±ç”¨pythonæ°´è¿‡å»å°±å¥½äº†233 ç„¶è€ŒBZOJçš„Pyåªä¼šä¸€ç›´Pendingï¼Œæ‰€ä»¥è¿˜æ˜¯ä»€ä¹ˆæ—¶å€™å†å†™ä¸€å‘é«˜ç²¾åº¦å§ 123456789101112131415161718N = input()Fac = [1]for i in range(1, N - 1) : Fac = Fac + [Fac[i - 1] * i]Ans = Fac[N - 2]cnt = 0Sum = N - 2for i in range(0, N) : di = input() if di == -1 : cnt = cnt + 1 else : Ans = Ans / Fac[di - 1] Sum = Sum - (di - 1)Ans = Ans / Fac[Sum]for i in range(0, Sum) : Ans = Ans * cntprint (Ans) $B$ å°çŒ´æ‰“æ¶ç”±äºåœ¨BZOJä¸Šæ˜¯æƒé™é¢˜ï¼Œæ‰€ä»¥ä¸å¾—å·²å»Luoguåšâ€¦å›½å†…æœ€å¤§çš„ç›—ç‰ˆé¢˜å¸‚åœº Luogu4430 æˆ‘ä»¬å‘ç°è¿™ä¸ªé¢˜çš„Aimåœ¨äºè®©æˆ‘ä»¬æ±‚æ— æ ¹æ ‘æœ‰å¤šå°‘ç§ä¸åŒçš„ç”Ÿæˆæ–¹å¼ï¼Œæ¯”æ™®é€šçš„Pruferåºåˆ—å¤šä¸€ä¸ªåŠ è¾¹çš„é¡ºåºâ€”â€”æ¯•ç«ŸPruferåªèƒ½å¤„ç†æ ‘çš„å½¢æ€ä¸åŒ&amp;æ ‡å·ä¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬ç†æ‰€å½“ç„¶åœ°ä¹˜ä¸Šä¸€ä¸ª$(n-1)!$ã€‚ 123456int main()&#123;//ç”¨sbä»£ç æ¥å¡«è¡¥åšæ–‡å¤ªçŸ­çš„ç©ºç™½ cin &gt;&gt; N ; Frac[0] = 1 ; for (i = 2 ; i &lt; N ; ++ i) (Ans *= N) %= Mod ; for (i = 1 ; i &lt; N ; ++ i) Frac[i] = Frac[i - 1] * i % Mod ; (Ans *= Frac[N - 1]) %= Mod, cout &lt;&lt; Ans &lt;&lt; endl ; return 0 ; &#125;]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>BZOJ</category>
      </categories>
      <tags>
        <tag>é¢˜è§£</tag>
        <tag>Pruferåºåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[$B-BFSï¿¥æ³›åš]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F05%2F26%2FBBFS%E6%B3%9B%E5%81%9A%2F</url>
    <content type="text"><![CDATA[$B-BFS$å…¶å®å°±æ˜¯Binary-system BFSçš„ç®€å†™ï¼Œæˆ–è€…æ›´è¯¦ç»†çš„è¯´åªæ˜¯ä¸€ç§å»ºå›¾çš„æ–¹å¼ã€‚ Preface å°±æ˜¯çåšé¢˜ï¼Œæœ€è¿‘åœ¨ä¸€è‚¡è„‘æŠŠåšè¿‡çš„é¢˜éƒ½æ•´ç†ä¸€éâ€¦â€¦åŒ…æ‹¬æ°´é¢˜ A [HAOI2008]ç§»åŠ¨ç©å…·bzoj1054 æ®è¯´åšè¿™ç§é¢˜ä¼šæœ‰ä»€ä¹ˆå¾ˆå¥‡å¦™çš„åšæ³•ï¼Œä½†æˆ‘çš„åšæ³•å°±æ˜¯ç»™æ¯ä¸ªäºŒè¿›åˆ¶çŠ¶æ€æ ‡ä¸€ä¸ªå·ï¼Œsbè¿è¾¹ä¹‹åå†å»æš´åŠ›BFSæ±‚æœ€çŸ­è·¯â€¦â€¦åæ­£å°±æ˜¯ä¸€é“SBé¢˜å°±å¯¹äº†ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374#include &lt;queue&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#define MAXN 20#define rr register #define zt (1 &lt;&lt; 16)using namespace std ;struct Edge&#123; int to, next ;&#125;E[zt &lt;&lt; 6] ; int head[zt &lt;&lt; 1], ct ;int dx[4] = &#123;1, 0, -1, 0&#125;, dy[4] = &#123;0, 1, 0, -1&#125; ; int N, S, T_, A[MAXN][MAXN][MAXN], T[MAXN][MAXN], t[MAXN], dist[zt &lt;&lt; 1] ; inline void Add(int u, int v)&#123; E[++ ct].to = v, E[ct].next = head[u], head[u] = ct ; E[++ ct].to = u, E[ct].next = head[v], head[v] = ct ; &#125;int que[zt &lt;&lt; 5] ;inline void BFS()&#123; #define to(k) E[k].to register int he = 1, ta = 0 ; dist[S] = 1, que[++ ta] = S; while (he &lt;= ta)&#123; rr int now = que[he ++] ; for (rr int k = head[now] ; k ; k = E[k].next) if (!dist[to(k)]) dist[to(k)] = dist[now] + 1, que[++ ta] = to(k) ; if (dist[T_]) return ; &#125;&#125;int main()&#123;// freopen("1054.in", "r", stdin) ;// freopen("1054.out", "w", stdout) ; N = (1 &lt;&lt; 16) - 1 ; for (rr int i = 0 ; i &lt;= N ; ++ i)&#123; memset(t, 0, sizeof(t)) ; register int kans = 0, tot = 0, cnt = 0 ; for (rr int j = 1 ; j &lt;= 4 ; ++ j) for (rr int k = 1 ; k &lt;= 4 ; ++ k) T[j][k] = (1 &lt;&lt; tot &amp; i) ? 1 : 0, ++ tot ;/*, cout &lt;&lt; T[j][k] &lt;&lt; " " ; cout &lt;&lt; "==================================" &lt;&lt; endl ; */ tot = 0 ;/* for (k = 1 ; k &lt;= 4 ; ++ k) for (l = 1 ; l &lt;= 4 ; ++ l) kans |= ((1 &amp; T[k][l]) &lt;&lt; tot), ++ tot ; cout &lt;&lt; kans &lt;&lt; endl ; */ for (rr int j = 1 ; j &lt;= 4 ; ++ j) for (rr int k = 1 ; k &lt;= 4 ; ++ k) if (T[j][k]) for (rr int l = 0 ; l &lt; 4 ; ++ l)&#123; register int kx = j + dx[l], ky = k + dy[l] ; if (kx &lt; 1 || ky &lt; 1 || kx &gt; 4 || ky &gt; 4 || T[kx][ky]) continue ; memcpy(A[++ cnt], T, sizeof(T)), A[cnt][kx][ky] = 1, A[cnt][j][k] = 0 ; &#125; tot = 0 ; for (rr int j = 1 ; j &lt;= cnt ; ++ j, tot = 0)&#123; for (rr int k = 1 ; k &lt;= 4 ; ++ k) for (rr int l = 1 ; l &lt;= 4 ; ++ l) t[j] |= (1 &amp; A[j][k][l]) &lt;&lt; tot, ++ tot ; Add(i, t[j]) ; &#125; &#125; register int tot = 0 ; for (rr int i = 1 ; i &lt;= 4 ; ++ i) for (rr int j = 1 ; j &lt;= 4 ; ++ j) scanf("%1d", &amp;T[i][j]), S = S | ((1 &amp; T[i][j]) &lt;&lt; tot), ++ tot ; tot = 0 ; for (rr int i = 1 ; i &lt;= 4 ; ++ i) for (rr int j = 1 ; j &lt;= 4 ; ++ j) scanf("%1d", &amp;T[i][j]), T_ = T_ | ((1 &amp; T[i][j]) &lt;&lt; tot) , ++ tot ; BFS() ; cout &lt;&lt; dist[T_] - 1 &lt;&lt; endl ; &#125; B é»‘ç™½æ£‹æ¸¸æˆLuogu1225 å…¶å®è¿˜æ˜¯ä¸Šé¢ä¸ªsbé¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬è¦è¾“å‡ºæ–¹æ¡ˆï¼Œäºæ˜¯æˆ‘ä»¬å°±å¯ä»¥å¥—ä¸ªstruct+stackè¾“å‡ºæ–¹æ¡ˆï¼š å“¦ï¼Œå¯¹äº†ï¼ŒPreå¯ä»¥åœ¨BFSé‡Œé¢å¤„ç†å‡ºæ¥ã€‚ 1234567BFS() ; cout &lt;&lt; dist[T_] - 1 &lt;&lt; endl ; while (Pre[T_])&#123; int P[4], num = 0 , kans = T_ ^ Pre[T_] ; for (rr int i = 0 ; i &lt; 16 ; ++ i) if (kans &amp; (1 &lt;&lt; i)) P[++ num] = i + 1 ; ans.push( (Ans)&#123;P[1] / 4 + (bool)(P[1] % 4), ((P[1] % 4) ? P[1] % 4 : 4), P[2] / 4 + (bool)(P[2] % 4), ((P[2] % 4) ? P[2] % 4 : 4)&#125;), T_ = Pre[T_] ; &#125; while (!ans.empty()) cout &lt;&lt; ans.top().a &lt;&lt; ans.top().b &lt;&lt; ans.top().c &lt;&lt; ans.top().d &lt;&lt; endl, ans.pop() ;]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>BZOJ</category>
      </categories>
      <tags>
        <tag>é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯æŒä¹…åŒ–æ•°æ®ç»“æ„Â·ä¸»å¸­æ ‘æ‚è°ˆ]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F05%2F18%2F%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%C2%B7%E4%B8%BB%E5%B8%AD%E6%A0%91%E6%9D%82%E8%B0%88%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[CF#Global Round 1ã®é¢˜è§£(A $\to$ G)]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F05%2F10%2FCodeforces-1110%2F</url>
    <content type="text"><![CDATA[è‡ªä»çœé€‰å®Œä¹‹åçŠ¶æ€ä¸€ç›´ä¸ä½³ï¼Œæ„Ÿè§‰è‡ªå·±åˆšç‡ƒèµ·çš„å¸Œæœ›åˆç†„ç­äº†ã€‚æ‰€ä»¥å°±æ‰“ç®—æ¥æ•´ç†ä¸€ä¸‹çœé€‰ä¹‹å‰å› ä¸ºæ‡’è€Œæ²¡æ•´çš„ä¸€äº›é¢˜ã€‚ç„¶åä½ ä¼šå‘ç°å‰ä¸¤å¥è¯ä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰XD è¿™é‡Œæ˜¯æ€»é“¾æ¥$Link$. $A$ é¢˜æ„ï¼šæ±‚$\sum_{i=1}^{k} a_i\times b^{k-i}$çš„å¥‡å¶æ€§ï¼Œ $k = \Theta(n \log n)$ â€¦â€¦å…¶å®å¾ˆå®¹æ˜“æƒ³éº»çƒ¦ï¼Œæ¯”å¦‚è¯´é€ä¸ªåˆ¤æ–­ï¼Œæ•´ä½“åˆ¤æ–­å•¥çš„ã€‚ä½†å…¶å®åªè¦å¯¹ç»“æœéƒ½$\bmod ~10$ï¼Œç„¶ååˆ¤æ–­å¥‡å¶æ€§å°±å¥½äº†ã€‚ 12345cin &gt;&gt; b &gt;&gt; k ; for (i = 1 ; i &lt;= k ; ++ i) scanf("%d", &amp;base[i]) ; reverse (base + 1, base + k + 1) ; for (i = k ; i &gt;= 1 ; -- i) Sum = Sum * b + base[i], Sum %= 10 ; cout &lt;&lt; (Sum &amp; 1 ? "odd" : "even") &lt;&lt; endl ; return 0 ; å…¶å®å°±æ˜¯åœ¨æ°´å­—æ•° $B$ é¢˜æ„ï¼š ç»™å®šä¸€æ¡ç½‘æ ¼çº¸ï¼Œ$n, m, k$,åˆ†åˆ«è¡¨ç¤ºç‚¹æ•°ï¼Œæ€»é•¿åº¦ï¼Œèƒ¶å¸¦çš„æ•°é‡ã€‚å¯¹äºè¾“å…¥çš„$n$ä¸ªç‚¹ï¼Œä¿è¯ä½ç½®é€’å¢ï¼Œ æ±‚è¦†ç›–æ‰€æœ‰çš„ç‚¹æ‰€éœ€çš„æœ€å°èƒ¶å¸¦é•¿åº¦ï¼ˆèƒ¶å¸¦æ•°é‡$\leq k$ï¼‰ã€‚ å…¶å®æ˜¯ä¸ªåˆ¶æ–é¢˜ã€‚æˆ‘ä»¬è€ƒè™‘å¦‚æœ$k$æ˜¯æ— é™å¤§ï¼Œé‚£ä¹ˆæœ€ä¼˜çš„æ–¹å¼ä¸€å®šæ˜¯å•ç‚¹è¦†ç›–ã€‚æ‰€ä»¥å¦‚æœèƒ¶å¸¦ä¸å¤Ÿçš„è¯ï¼Œå°±æ˜¯è¦å»é¢å¤–å¤šç²˜$N-k$ä¸ªç©ºç™½çš„åŒºé—´ã€‚æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥æ’ä¸ªåºï¼Œæ±‚å‡º$N-k$ä¸ªç©ºç™½åŒºé—´çš„é•¿åº¦ï¼Œå†åŠ ä¸Šå•ç‚¹çš„é•¿åº¦å’Œ$n$ï¼Œå¾—åˆ°ç­”æ¡ˆã€‚æ³¨æ„ç©ºç™½åŒºé—´çš„ä¸¤å¤´å¼€çš„ã€‚ 12345cin &gt;&gt; N &gt;&gt; M &gt;&gt; K ;for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;now), (i &gt; 1 ? (d[i - 1] = now - Last - 1) : 1), Last = now ;nth_element(d + 1, d + N - K + 1, d + N) ; //Last row, now - Last + 1 -&gt; now - Lastfor (i = 1 ; i &lt;= N - K ; ++ i) Ans += d[i] ; Ans += N ; cout &lt;&lt; Ans &lt;&lt; endl ; return 0 ; emmmæ€ä¹ˆè¯´å‘¢ï¼Œæ˜¯ä¸ªæ˜¾ç„¶åˆä¸æ˜¾ç„¶çš„è´ªå¿ƒï¼Œå¤§æ¦‚è¿˜æ˜¯è·ŸOIç´ å…»ç›´æ¥æŒ‚é’©çš„å§ï¼ˆsigh $C$ é¢˜ç›®ç®€è¿° : å®šä¹‰å‡½æ•°$f(a)$$$f(a) = \max_{0 &lt; b &lt; a}{\gcd(a \oplus b, a > \&amp; > b)}$$ ç»™å‡º $q$ ä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®ä¸ºä¸€ä¸ªæ•´æ•°$a_i$ã€‚ä½ éœ€è¦å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œæ±‚å‡º$f(a_i)$çš„å€¼ã€‚$q=O(10^3),a=O(2^{25}).$ ä¹Ÿç®—æ˜¯æ¯”è¾ƒå·§å¦™çš„ä¸€é“é¢˜ï¼Œå½“ç„¶è¿™ä¸ªéš¾åº¦è¯„çº§æ˜¯ç»™çš„åˆ†å—æ‰“è¡¨çš„ï¼Œæ¯•ç«Ÿæ€ç»´éš¾åº¦æ‘†åœ¨é‚£é‡Œâ€¦â€¦é¦–å…ˆæˆ‘ä»¬è€ƒè™‘è¿™ä¸ªå¼å­çš„ç»“æ„ï¼Œæœ€å¤§åŒ–ä¸€ä¸ªgcdï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸å¦¨è€ƒè™‘å¦‚æœ$gcd(x,y)$,å­˜åœ¨$x=0$æˆ–è€…$y=0$æ—¶ï¼Œ$gcd(x,y)=y$æˆ–è€…$gcd(x,y)=x$ã€‚ æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘ï¼Œå¯¹äºä»»æ„çš„$a$ï¼Œæˆ‘ä»¬åªéœ€è¦å»å°è¯•æ„é€ ä¸€ç§æ–¹æ¡ˆ ï¼Œä½¿å¾—$a\oplus b$æœ€å¤§å¹¶ä¸”$a~\&amp; ~b$æœ€å°ã€‚é‚£ä¹ˆä¸å¦¨è€ƒè™‘ç›´æ¥é€‰ä¸€ä¸ªä¸$a$æ‰€æœ‰ä½ä¸Šéƒ½ç›¸åçš„æ•°$b$ï¼Œå°±å¯ä»¥ä¿è¯$a~\oplus~b$æœ€å¤§ä¸”$a~\&amp;~b=0$ï¼Œæœ€åçš„ç­”æ¡ˆå°±æ˜¯$2^{k-1}-1$ï¼Œå…¶ä¸­$k$æ˜¯äºŒè¿›åˆ¶ä¸‹$a$çš„ä½æ•°ã€‚å…¶ä¸­åˆæ³•æ€§æ˜¯ä¸è¨€è€Œå–»çš„ï¼Œå› ä¸ºæ ¹æ®æ„é€ ï¼Œ$b$çš„ç¬¬$k$ä½ï¼ˆäºŒè¿›åˆ¶ä½ä¸‹æœ€å¤§çš„é‚£ä¸€ä½ï¼‰ä¸Šå¿…å®šæ˜¯$0$ï¼Œæ‰€ä»¥ä¼¼ä¹å°±åšå®Œäº†ï¼Ÿ ç„¶è€Œå¹¶ä¸æ˜¯ï¼Œå› ä¸º$b\not =0$ï¼Œæ‰€ä»¥å½“$~a=2^{w}-1ï¼Œw\in \mathbb N~$æ—¶å°±ä¼šä¸åˆæ³•ã€‚æ­¤å¤„åˆæœ‰ä¸€ä¸ªç²¾å¦™çš„æ„é€ ï¼Œæˆ‘ä»¬å‘ç°å½“$a$çš„äºŒè¿›åˆ¶ä½ä¸Šéƒ½æ˜¯$1$æ—¶ï¼Œ$\forall b&lt;a,\exists a ~\&amp; ~b=b, a~\oplus~b=a-b$, äºæ˜¯æœ€åå°±ç›¸å½“äºæ±‚$\max \gcd (a-b,b)$ï¼Œè¿ç”¨è¾—è½¬ç›¸é™¤æˆ–è€…æ›´ç›¸å‡æŸçš„æ€æƒ³å¯ä»¥ç«‹å³çœ‹å‡ºæ˜¯$\max \gcd(a,b)$ï¼Œäºæ˜¯åªéœ€è¦æ‰¾å‡º$a$æœ€å¤§çš„å› å­å°±å¥½äº†â€”â€”æ­¤å¤„æš´åŠ›å³å¯ã€‚ äºæ˜¯æœ€åçš„ä»£ç ï¼š 123456789101112131415161718192021#define MAXN 34000000std::bitset &lt;MAXN&gt; check ; int T, N, i, O ;inline int get_fac(int x)&#123; for (i = 3 ; i &lt;= x ; i += 2) if (!(x % i)) return (x /= i) ; &#125;int main()&#123; std::cin &gt;&gt; T ; for (i = 1 ; i &lt;= 25 ; ++ i) check[(1 &lt;&lt; i) - 1] = 1 ; while (T --)&#123; scanf("%d", &amp;N) ; if (check[N]) O = get_fac(N), printf("%d\n", O) ; else &#123; for (i = 1 ; i &lt;= N ; i &lt;&lt;= 1, O = i) ; O --, printf("%d\n", O) ; &#125; &#125; return 0 ;&#125; ä¸å¾—ä¸è¯´æ˜¯ä¸€é“æ¯”è¾ƒç¥çš„çš„é¢˜äº†ï¼ŒBrainstormï¼ŒBrainstormâ€¦.. $D$ é¢˜ç›®è¯¦è¿°ï¼šä½ åœ¨ç©ä¸€ä¸ªå«åš Jongmah çš„æ¸¸æˆï¼Œä½ æ‰‹ä¸Šæœ‰ $n$ ä¸ªéº»å°†ï¼Œæ¯ä¸ªéº»å°†ä¸Šæœ‰ä¸€ä¸ªåœ¨ $1$ åˆ° $m$ èŒƒå›´å†…çš„æ•´æ•° $a_i$ã€‚ä¸ºäº†èµ¢å¾—æ¸¸æˆï¼Œä½ éœ€è¦å°†è¿™äº›éº»å°†æ’åˆ—æˆä¸€äº›ä¸‰å…ƒç»„ï¼Œæ¯ä¸ªä¸‰å…ƒç»„ä¸­çš„å…ƒç´ æ˜¯ç›¸åŒçš„æˆ–è€…è¿ç»­çš„ã€‚ä½ åªèƒ½ä½¿ç”¨æ‰‹ä¸­çš„éº»å°†ï¼Œå¹¶ä¸”æ¯ä¸ªéº»å°†åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚è¯·æ±‚å‡ºä½ æœ€å¤šå¯ä»¥å½¢æˆå¤šå°‘ä¸ªä¸‰å…ƒç»„ã€‚ è¿™é“é¢˜å‡†ç¡®é¢„æŠ¥äº†ä»Šå¹´å„çœçœé€‰é‡Œé¢çš„æ¯’ç˜¤é›€é­‚é¢˜ ä¸€é“åŠ¨æ€è§„åˆ’ï¼Œæ„Ÿè§‰æ€è·¯æ¸…æ–°ã€è§£æ³•è‡ªç„¶ï¼Œç»™å‡ºé¢˜äººç‚¹èµ. ç„¶ååº•ä¸‹æ˜¯æˆ‘ä¸¢åˆ°Luoguçš„é¢˜è§£ï¼š $dp.$ å…¶å®ä¸»è¦æ€æƒ³éƒ½å·®ä¸å¤šï¼Œä½†æˆ‘å‘è¿™ç¯‡$sol$ä¸ºäº†é˜æ˜ä¸€ç§è§‚ç‚¹ï¼šå¤æ‚åº¦åŒé˜¶çš„$DP$ï¼Œä¸åŒçš„çŠ¶æ€è®¾è®¡ï¼Œä¼šå¯¼è‡´ä»£ç éš¾åº¦ã€æ—¶ç©ºå¤æ‚åº¦ç­‰æˆªç„¶ä¸åŒã€‚ æˆ‘ä»¬å®šä¹‰çŠ¶æ€$dp_{i,j_{1},j_{2}}$è¡¨ç¤ºè€ƒè™‘äº†å‰$i$å¤§åºå·çš„éº»å°†($mahJong$)ï¼Œå…¶ä¸­æœ‰$j_{1}$ä¸ª$[i - 1, i, i + 1]$ç±»å‹ã€æœ‰$j_{2}$ä¸ª$[i, i + 1, i + 2]$ç±»å‹çš„ç»„åˆï¼Œæœ€å¤šç»„æˆå¤šå°‘ä¸ªä¸‰å…ƒç»„ã€‚ è¿™æ ·å®šä¹‰çŠ¶æ€çš„åŸå› æ˜¯ï¼šæˆ‘ä»¬å‘ç°å¦‚æœå•çº¯ç”¨$1$ç»´çŠ¶æ€è½¬ç§»ï¼Œé‚£ä¹ˆçŠ¶æ€åŠ¿å¿…æ˜¯â€œå‰$i$å¤§åºå·çš„éº»å°†åŒ…å«çš„ä¸‰å…ƒç»„ä¸ªæ•°â€ï¼Œä½†æ˜¯æ­¤çŠ¶æ€ä¸æ˜ç¡®â€”â€”æ— æ³•å‡†ç¡®å®šä¹‰â€œåŒ…å«â€çš„æ„æ€ã€‚è€Œæ­¤å¤„æˆ‘ä»¬å®šä¹‰åŒ…å«æŒ‡ä¸‰å…ƒç»„å³ç«¯ç‚¹ä¹Ÿ$\leq i$ï¼Œé‚£ä¹ˆ$[i - 1, i, i + 1]$å’Œ$[i, i + 1, i + 2]$ä¾¿éœ€è¦å•ç‹¬å®šä¹‰å‡ºæ¥ã€‚ è½¬ç§»çš„æ—¶å€™ç›´æ¥æšä¸¾æœ‰å¤šå°‘ä¸ª$[i + 1,i+2, i+3]$å³å¯ï¼ˆå› ä¸ºæˆ‘ä»¬ä½¿ç”¨$i$æ›´æ–°$i+1$è€Œä¸æ˜¯ç”¨$i-1$æ›´æ–°$i$ï¼Œå¦‚æ˜¯åšç»†èŠ‚å°‘ã€æ€è€ƒéš¾åº¦å°ï¼‰ ç„¶åè½¬ç§»çš„æ—¶å€™ä¹Ÿè¦é¡ºä¾¿è®¡ç®—$[i,i,i]$çš„æ•°é‡ã€‚è€Œç”±äºå¦‚æœå­˜åœ¨ä¸‰ä¸ª$[i,i+1,i+2]$ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥æ‹†æˆä¸‰ä¸ª$[i,i,i]$ï¼Œä¸‰ä¸ª$[i+1,i+1,i+1]$, ä¸‰ä¸ª$[i+2,i+2,i+2]$å³å¯ã€‚ 1234567891011cin &gt;&gt; N &gt;&gt; M ; memset(dp, -1, sizeof(dp)), dp[0][0][0] = 0 ;for (i = 1 ; i &lt;= N ; ++ i) Sum[ qrd() ] ++ ;for (i = 1 ; i &lt;= M ; ++ i)&#123; for (j = 0 ; j &lt; 3 ; ++ j) for (k = 0 ; k &lt; 3 ; ++ k) for (l = 0 ; l &lt; 3 ; ++ l) if (Sum[i] &lt; j + k + l) continue ; else dp[i][k][l] = max(dp[i][k][l], dp[i - 1][j][k] + (Sum[i] - j - k - l)/3 + l) ;&#125;cout &lt;&lt; dp[M][0][0] &lt;&lt; endl ; return 0 ; $E$ é¢˜ç›®ç®€è¿°ï¼šç»™å®šæ•°åˆ—$c$å’Œ$t$ï¼Œæ¯æ¬¡æ“ä½œéƒ½å¯ä»¥é€‰æ‹©ä¸€ä¸ª$1&lt;i&lt;n$ï¼Œä»¤$c_i$å˜æˆ$c_iâ€™$ï¼Œå…¶ä¸­$c_iâ€™=c_{i+1}+c_{i-1}-c_i$ã€‚é—®æ˜¯å¦å¯ä»¥ç»è¿‡è‹¥å¹²æ¬¡æ“ä½œï¼Œä½¿å¾—$\forall c_i=t_i$. â€¦â€¦æˆ‘ç®¡è¿™ç§é¢˜å«åšâ€œç–¯ç‹‚æš—ç¤ºé¢˜â€ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€ç§åšé¢˜æŠ€å·§çš„é—®é¢˜ã€‚æ‰“å®Œæ¯”èµ›åæ€äº†ä¸€ä¸‹ï¼Œä¼¼ä¹æœ‰å¥½å‡ ä¸ªå…³é”®ä¿¡æ¯æ²¡æœ‰æ•æ‰åˆ°ã€‚æ¯”å¦‚è¯´â€œè‹¥å¹²æ¬¡æ“ä½œâ€ï¼Œæ²¡æœ‰é™å®šæ“ä½œæ¬¡æ•°ï¼Œå°±è¯´æ˜æ— è®ºæ€ä¹ˆæ“ä½œï¼Œå…¶èƒŒåä¸€å®šæœ‰æŸäº›æœ¬è´¨ä¸å˜çš„ä¸œè¥¿ï¼Œå¦åˆ™åº”è¯¥å‡ºæˆä¸€ä¸ªäº¤äº’é¢˜ï¼Œåœ¨$k$æ­¥ä¹‹å†…å®Œæˆä»»åŠ¡çš„é‚£ç§æ„Ÿè§‰ã€‚è€ŒåŒæ—¶ï¼Œæ¯æ¬¡æ“ä½œä¸€ä¸ª$c_i$ï¼Œéƒ½åªä¼šè·Ÿ$c_{i-1}$ã€$c_{i+1}$æœ‰å…³ã€‚æ‰€ä»¥ï¼Œä¸€åˆ‡çš„ä¸€åˆ‡éƒ½åœ¨å¼•å¯¼æˆ‘ä»¬å‘å·®åˆ†é æ‹¢ã€‚ æˆ‘ä»¬æ€è€ƒå¯¹äºä¸€ä¸ª$c_i$ï¼Œä»¤å…¶æ»¡è¶³$c_{i-1}+d_1=c_i, ~c_i+d_2=c_{i+1}$ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ–°çš„$c_iâ€™$å°±æ˜¯ $$c_iâ€™=c_i-d_1+c_i+d_2-c_i=c_i-d_1+d_2$$é‚£ä¹ˆæˆ‘ä»¬å°±ä¼šå‘ç°$$c_{i+1}-c_iâ€™ = d_1\\ c_iâ€™-c_{i-1} = d_2$$ æ¢å¥è¯è¯´ï¼Œå…¶å®å°±æ˜¯ç›¸é‚»ä¸¤ä¸ªå·®æ¢äº†ä½ç½®ï¼é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´æ— è®ºæ€æ ·ï¼Œå·®åˆ†æ•°ç»„é‡Œé¢æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°éƒ½æ˜¯ä¸å˜çš„ï¼Œç›´æ¥æ’ä¸ªåºæ£€æŸ¥å°±å¥½ã€‚ 12345678cin &gt;&gt; N ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;A[i]) ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;B[i]) ; if (A[1] != B[1] || A[N] != B[N]) return puts("No"), 0 ; for (i = 2 ; i &lt;= N ; ++ i) Da[i] = A[i] - A[i - 1] ; for (i = 2 ; i &lt;= N ; ++ i) Db[i] = B[i] - B[i - 1] ; sort(Da + 2, Da + N + 1), sort(Db + 2, Db + N + 1) ; for (i = 2 ; i &lt;= N ; ++ i) if (Da[i] != Db[i]) return puts("No"), 0 ; puts("Yes") ; æ„Ÿè§‰å…¶å®$C/D/E$éƒ½æ˜¯æ¯”è¾ƒå¥½çš„æ€ç»´é¢˜â€¦â€¦ä½†æ˜¯æ¥ä¸‹æ¥ä¸€ä¸ªå°±ä¸æ˜¯äº†ã€‚ $F$ é¢˜ç›®ç®€è¿° ï¼šç»™å®šä¸€æ£µä»¥$1$ä¸ºæ ¹çš„$n$ä¸ªèŠ‚ç‚¹æœ‰æ ¹æ ‘ï¼Œ ç»™å®š$m$æ¬¡è¯¢é—®ï¼Œ å½¢å¦‚ v l rï¼Œ è¾“å‡ºä»¥$v$ä¸ºèµ·ç‚¹ï¼Œç»ˆç‚¹ç¼–å·ä¸º$l$ ~$r$ä»¥å†…çš„å¶å­ä¸­æœ€çŸ­çš„è·¯å¾„è·ç¦»ã€‚ æ ¹æ®dfsåºçš„ç›¸å…³çŸ¥è¯†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€æ£µçº¿æ®µæ ‘æ¥ç»´æŠ¤dfsåºä¸Šçš„è·¯å¾„é•¿åº¦æœ€å°å€¼ã€‚ä½†æ˜¯å¾ˆå¤šäººï¼ˆæ¯”å¦‚æˆ‘ï¼‰ä¼šè®¤ä¸ºä¸€å®šéœ€è¦çº¿æ®µæ ‘ä¸Šä¸ªæ ‘ä»€ä¹ˆçš„ï¼Œä½†å…¶å®æœ‰æ›´ç®€å•çš„ç­–ç•¥ã€‚ ä¸å¦¨ç›´æ¥ä»¤å½“å‰ç‚¹åˆ°å…¶ä»–æ‰€æœ‰çš„ç‚¹çš„è·ç¦»æ˜¯ä¸€ä¸ªæ•°ç»„$dis$ã€‚æ€è€ƒå¦‚æœæˆ‘ä»¬æŠŠå½“å‰ç‚¹çš„å½“å‰å­èŠ‚ç‚¹è®¾ä¸º$x$, é‚£ä¹ˆæˆ‘ä»¬å¦‚æœå‘ä¸‹é€’å½’$x$ï¼Œå°±ä¼šæœ‰$x$åˆ°$x$å­æ ‘å†…çš„æ‰€æœ‰èŠ‚ç‚¹çš„$dis$ï¼Œæ¯”å…¶çˆ¶äº²çš„diséƒ½å°ä¸€ä¸ª$E[k].v$ï¼Œ$x$åˆ°å…¶ä»–èŠ‚ç‚¹çš„è·ç¦»éƒ½ä¼šå¤§ä¸€ä¸ª$E[k].v$ï¼Œé‚£ä¹ˆå°±å¦‚åŒçŠ¶æ€è½¬ç§»ä¸€æ ·ï¼Œæ¯æ¬¡å‘ä¸‹é€’å½’çš„æ—¶å€™å…ˆç»Ÿè®¡ä¸€é$Ans$ï¼Œå†æ›´æ–°ä¸€ä¸‹è·ç¦»å³å¯ã€‚ å…¶å®è¿™ä¸ªé¢˜æ˜¯ä¸€ä¸ª$tricky$é¢˜ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸ºäº†ç”¨ä¸€ä¸ªdisæ•°ç»„è¡¨ç¤ºåˆ°å¶å­çš„è·ç¦»ï¼Œå¯ä»¥æŠŠéå¶å­ä¹‹é—´çš„è·ç¦»éƒ½è®¾æˆ$\rm{Inf}$ ï¼›æ¯”å¦‚æˆ‘ä»¬ä¸ºäº†é£é€Ÿç»Ÿè®¡ç­”æ¡ˆï¼Œå¯ä»¥æŠŠè¯¢é—®ç¦»çº¿ä¸‹åˆ°ä¸€ä¸ªvectoré‡Œé¢ï¼Œåœ¨dfsçš„æ—¶å€™ç›´æ¥ç»Ÿè®¡å‡ºå…¨éƒ¨ç­”æ¡ˆã€‚ ä¸å¤±ä¸ºä¸€é“å¥½é¢˜å•Šqwq 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374#define rr register #define MAXN 500020#define ll long long #define to(k) E[k].to#define Inf (1LL &lt;&lt; 55)using namespace std ;struct Edge&#123; int to, next ; ll c ;&#125;E[MAXN &lt;&lt; 1] ; int N, M, A, i, q ; ll tag[MAXN &lt;&lt; 2], S[MAXN &lt;&lt; 2], Ans[MAXN], dis[MAXN], B ;int cnt, head[MAXN], Last[MAXN], Lr[MAXN], Rr[MAXN] ; vector &lt;int&gt; query[MAXN] ;inline ll min(const ll &amp;a, const ll &amp;b)&#123; return a &lt; b ? a : b ; &#125;inline ll max(const ll &amp;a, const ll &amp;b)&#123; return a &gt; b ? a : b ; &#125;void dfs(int u, int f)&#123; Last[u] = u ; for (int k = head[u] ; k ; k = E[k].next)&#123; if (to(k) == f) continue ; dis[to(k)] = dis[u] + E[k].c ; dfs(to(k), u), Last[u] = max(Last[u], Last[to(k)]) ; &#125;&#125;inline void Add(int u, int v, ll w)&#123; E[++ cnt].to = v, E[cnt].c = w, E[cnt].next = head[u], head[u] = cnt ; E[++ cnt].to = u, E[cnt].c = w, E[cnt].next = head[v], head[v] = cnt ;&#125;inline void push_up(int rt)&#123; S[rt] = min(S[rt &lt;&lt; 1], S[rt &lt;&lt; 1 | 1]) ; &#125;inline void push_down(int rt)&#123; if (tag[rt] == 0) return ; rr int lc = rt &lt;&lt; 1, rc = rt &lt;&lt; 1 | 1 ; tag[lc] += tag[rt], tag[rc] += tag[rt], S[lc] += tag[rt], S[rc] += tag[rt], tag[rt] = 0 ; &#125;inline void update(int rt, int l, int r, int ul, int ur, ll k)&#123; if(ul &lt;= l &amp;&amp; ur &gt;= r)&#123; S[rt] += k, tag[rt] += k ; return ; &#125; push_down(rt) ; rr int mid = (l + r) &gt;&gt; 1 ; if (ul &lt;= mid) update(rt &lt;&lt; 1, l, mid, ul ,ur, k) ; if (ur &gt; mid) update(rt &lt;&lt; 1 | 1, mid + 1, r, ul, ur, k) ; push_up(rt) ;&#125;void build(int rt, int l, int r)&#123; if (l == r)&#123; S[rt] = dis[l] ; return ; &#125; rr int mid = (l + r) &gt;&gt; 1 ; build(rt &lt;&lt; 1, l, mid), build(rt &lt;&lt; 1 | 1, mid + 1, r), push_up(rt) ;&#125;inline ll querys(int rt, int l, int r, int ql, int qr)&#123; if (ql &lt;= l &amp;&amp; r &lt;= qr) return S[rt] ; rr int mid = (l + r) &gt;&gt; 1 ; rr ll res = Inf ; push_down(rt) ; if (ql &lt;= mid) res = min(res, querys(rt &lt;&lt; 1, l, mid, ql, qr)) ; if (qr &gt; mid) res = min(res, querys(rt &lt;&lt; 1 | 1, mid + 1, r, ql, qr)) ; return res ;&#125;inline void work(int u, int f)&#123; for (int k : query[u]) Ans[k] = querys(1, 1, N, Lr[k], Rr[k]) ; for (int k = head[u] ; k ; k = E[k].next)&#123; if (to(k) == f) continue ; update(1, 1, N, 1, N, E[k].c), update(1, 1, N, to(k), Last[to(k)], -(E[k].c &lt;&lt; 1)), work(to(k), u) ; update(1, 1, N, 1, N, -E[k].c), update(1, 1, N, to(k), Last[to(k)], E[k].c &lt;&lt; 1) ; &#125;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M ; for (i = 2 ; i &lt;= N ; ++ i) scanf("%d%I64d", &amp;A, &amp;B), Add(A, i, B) ; for (i = 1 ; i &lt;= M ; ++ i) scanf("%d%d%d", &amp;q, &amp;Lr[i], &amp;Rr[i]), query[q].push_back(i) ; dfs(1, 0) ; for (i = 1 ; i &lt;= N ; ++ i) if (i != Last[i]) dis[i] = Inf ; build(1, 1, N) ; // by _pks work(1, 0) ; for (i = 1 ; i &lt;= M ; ++ i) printf("%I64d\n", Ans[i]) ; return 0; // by _pks by _pks by _pks by_pks&#125; by_pkså…¶å®æ˜¯ç”¨æ¥å ä½çš„å› ä¸ºæˆ‘å–œæ¬¢åŒä¸€ä¸ªä»£ç å—é‡Œï¼Œæ¯ä¸€è¡Œçš„é•¿åº¦éƒ½æ˜¯é€’å¢çš„XD $G$ é¢˜ç›®å¤§æ„ï¼šç»™å‡ºä¸€æ£µNä¸ªç‚¹çš„æ ‘ï¼Œåˆå§‹æ—¶æŸäº›èŠ‚ç‚¹æ˜¯ç™½è‰²ï¼Œå…¶ä»–èŠ‚ç‚¹æ²¡æœ‰é¢œè‰²ï¼Œæœ‰ä¸¤ä¸ªäººåœ¨æ ‘ä¸Šåšå¼ˆã€‚æ¯ä¸€å›åˆï¼Œä¸€æ–¹å¯ä»¥å°†ä¸€ä¸ªæ²¡æœ‰é¢œè‰²çš„ç‚¹æŸ“æˆç™½è‰²ï¼Œç„¶åå¦ä¸€æ–¹å¯ä»¥å°†ä¸€ä¸ªæ²¡æœ‰é¢œè‰²çš„ç‚¹æŸ“æˆé»‘è‰²ã€‚å¦‚æœåœ¨æŸæ¬¡æŸ“è‰²åæ ‘ä¸Šå­˜åœ¨ä¸‰ä¸ªç‚¹ABCæ»¡è¶³æœ‰è¾¹$(A,B)(B,C)$ä¸”ABCéƒ½æœ‰é¢œè‰²ä¸”é¢œè‰²ç›¸åŒï¼Œåˆ™è¯¥é¢œè‰²å¯¹åº”çš„äººè·èƒœã€‚å‡è®¾ä¸¤äººç»é¡¶èªæ˜ï¼Œé—®æœ€åç»“æœå¦‚ä½•ã€‚$T\leq 5e5,\sum n\leq 5e5$ emmmmä¸€é“æˆ‘ä¸ä¼šçš„é¢˜ã€‚å…¶å®æ€»è§‰å¾—è¿™ç§åšå¼ˆè®ºæœ‰ä¸€ç§ä¸€è„‰ç›¸æ‰¿çš„ç²¾å¦™ä¹‹å¤„ï¼Œä½†æ˜¯è‡ªå·±æ€»æ˜¯ä¸èƒ½ç¨”ç†Ÿäºå¿ƒâ€¦â€¦GG ç„¶åæˆ‘é€‰æ‹©æ¬äº†Itstå·¨ä½¬çš„æ€è·¯è¿‡æ¥ 0x01é¦–å…ˆæˆ‘ä»¬è€ƒè™‘ï¼Œé»‘è‰²æ˜¯ä¸å¯èƒ½è·èƒœçš„ï¼Œæ¯•ç«ŸåŸæ¥å°±å·²ç»æœ‰ä¸€å †ç™½ç‚¹äº†â€¦â€¦ å…¶æ¬¡æˆ‘ä»¬è€ƒè™‘å…ˆå¿½ç•¥åŸæ ‘ä¸­çš„æ‰€æœ‰å·²ç»è¢«æŸ“è¿‡è‰²çš„ç‚¹ï¼Œç„¶åç”¨ä¸€ç§æ¯”è¾ƒå‰å«çš„æ–¹å¼æ¥åˆ†ç±»è®¨è®ºâ€”â€”åº¦æ•°è®¨è®ºæ³•ã€‚ å‡è®¾æœ‰ä¸€ä¸ªç‚¹çš„åº¦æ•°$\geq 4$ï¼Œæ¢å¥è¯è¯´è¿™ä¸ªè”é€šå—çš„ç‚¹çš„ä¸ªæ•°è¦$\geq 5$ï¼Œé‚£ä¹ˆæ ¹æ®ç™½è‰²å…ˆæ‰‹çš„åŸåˆ™ï¼Œç™½è‰²çš„ä¸€å®šå¯ä»¥å–$3$ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¸€å®šå¯ä»¥å–$3$ä¸ªè¿ç»­çš„èŠ‚ç‚¹ã€‚æ‰€ä»¥ç™½è‰²èµ¢ï¼› å¦‚æœå­˜åœ¨ä¸€ä¸ªç‚¹çš„åº¦æ•°$=3$ï¼Œä¸”å®ƒæ‰€è¿çš„$3$ä¸ªç‚¹è‡³å°‘æœ‰$2$ä¸ªç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚æœè€ƒè™‘è®²æ ‘å¹³å±•å¼€ä¹‹åï¼Œå…ˆé€‰ä¸­é—´çš„ç‚¹ï¼Œå°±å¯ä»¥ä¿è¯ç™½è‰²èµ¢ï¼› å…¶ä½™çš„æƒ…å†µæˆ‘ä»¬å¯ä»¥è€ƒè™‘å¤§åŠ›åˆ†ç±»è®¨è®ºæ ‘çš„å½¢æ€ï¼š æˆ‘ä»¬å‘ç°ï¼Œå¯¹äºå‰ä¸¤ç§æƒ…å†µéƒ½æ˜¯drawçš„ã€‚è€Œå¯¹äºç¬¬ä¸‰ç§æƒ…å†µï¼Œå¦‚æœæ€»ç‚¹æ•°æ˜¯å¥‡æ•°ä¸ªï¼Œé‚£ä¹ˆç™½è‰²å¿…èµ¢ã€‚æˆ‘ä»¬è€ƒè™‘ä»å·¦å‘å³æŸ“è‰²ï¼Œç™½è‰²ç¬¬ä¸€æ¬¡è€ƒè™‘æŸ“ä»å·¦å¾€å³ç¬¬äºŒä¸ªéå¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆé»‘è‰²åªèƒ½æŸ“ç¬¬ä¸€ä¸ªï¼›ç™½è‰²æŸ“ç¬¬å››ä¸ªï¼Œé»‘è‰²åªèƒ½æŸ“ç¬¬ä¸‰ä¸ªâ€¦â€¦ä»¥æ­¤ç±»æ¨ã€‚åˆ°æœ€åä¸€å®šä¼šå‡ºç°ç™½è‰²æŸ“äº†$2n$è¿™ä¸ªç‚¹ï¼Œé»‘è‰²å»æŸ“$2n-1$è¿™ä¸ªç‚¹ï¼Œé‚£ä¹ˆç™½è‰²æ¥ä¸‹æ¥å°±å¯ä»¥æŸ“$2n+1$è¿™ä¸ªç‚¹ï¼ŒWinnerï¼ 0x02æ¥ä¸‹æ¥æˆ‘ä»¬å¦‚æœè¦ç®—ä¸ŠåŸæœ¬å°±æ˜¯ç™½è‰²çš„ç‚¹å‘¢ï¼Ÿå¯¹äºè¿™ç§æƒ…å†µï¼Œä¸€èˆ¬éƒ½æ˜¯è½¬åŒ–å›æˆ‘ä»¬å·²ç»è®¨è®ºå®Œçš„0x01å»ã€‚æˆ‘ä»¬è€ƒè™‘æŠŠä¸€ä¸ªç™½è‰²ç‚¹æ‹†æˆ$4$ä¸ªæ— è‰²ç‚¹ã€‚ å…¶ä¸­Aå°±æ˜¯åŸæ¥çš„$1$å·ç‚¹ï¼ŒåŸå›¾ä¸Šå“ªäº›ç‚¹è·Ÿ$1$è¿äº†è¾¹ï¼Œç°åœ¨ä¹Ÿå’Œ$A$è¿ï¼Œæ¢å¥è¯è¯´å°±æ˜¯$A$å¤šäº†ä¸€æ£µä¸‰ä¸ªèŠ‚ç‚¹çš„å­æ ‘ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬è€ƒè™‘å…¶å¯è¡Œæ€§ã€‚ å¦‚æœ$A$è¢«æŸ“æˆé»‘è‰²ï¼Œé‚£ä¹ˆç™½è‰²æ²¡æœ‰å¿…è¦å†æŸ“å­æ ‘å†…çš„ç‚¹ï¼Œè¿™ç§æƒ…å†µç­‰ä»·äºä¸è¿å­æ ‘ã€‚ å¦‚æœ$A$è¢«æŸ“æˆç™½è‰²ï¼Œé‚£ä¹ˆé»‘è‰²ä¸€å®šè¦æŸ“$B$ç‚¹ï¼Œé‚£ä¹ˆæ­¤æ—¶è¿™æ£µå­æ ‘åˆæ²¡ç”¨äº†ï¼Œæ‰€ä»¥ä¹Ÿç­‰ä»·äºä¸è¿å­æ ‘ã€‚ å—¯ï¼Œç„¶åè¿™ä¸ªé¢˜å°±å®Œäº†ã€‚æˆ‘ä»¬å¯ä»¥å‘ç°å°±æ˜¯ä¸€ä¸ªå¤§åŠ›åˆ†ç±»è®¨è®ºçš„è¿‡ç¨‹â€”â€”é¢˜è¿˜æ˜¯æŒºå¥½çš„ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;cstdio&gt;#include &lt;iostream&gt;#define MAXN 500020#define to(k) E[k].tochar Input[MAXN] ;using namespace std ;struct Edge&#123; int to, next ;&#125;E[MAXN &lt;&lt; 1] ; int In[MAXN], qaq ;int T, N, head[MAXN], A, qwq, B, i, j, ans, cnt ;inline void Add(int u, int v)&#123; E[++ cnt].to = v, In[v] ++ ; E[cnt].next = head[u], head[u] = cnt ; E[++ cnt].to = u, In[u] ++ ; E[cnt].next = head[v], head[v] = cnt ;&#125;int main()&#123; cin &gt;&gt; T ; while (T --)&#123; scanf("%d", &amp;N), ++qwq ; fill(In, In + N + 4, 0) ; fill(head, head + N + 4, 0), ans = 0, qaq = 0 ; for (i = 1 ; i &lt; N ; ++ i) scanf("%d%d", &amp;A, &amp;B), Add(A, B) ; scanf("%s", Input) ; if (N &lt; 3) puts("Draw") ; else if (N == 3)&#123; for (i = 0 ; i &lt; N ; ++ i) ans += Input[i] == 'W' ; puts(ans &gt;= 2 ? "White" : "Draw") ; &#125; else &#123; int Linshi = 0 ; for (i = 0 ; i &lt; N ; ++ i) if (Input[i] == 'W')&#123; head[++ N] = 0, Add(i + 1, N), In[N] = 3 ; &#125; for (i = 1 ; i &lt;= N &amp;&amp; ans &lt;= 0; ++ i)&#123; if (In[i] &gt; 3) ans ++ ; else if (In[i] == 3)&#123; Linshi = 0 ; for (j = head[i] ; j ; j = E[j].next) Linshi += (In[to(j)] &gt;= 2) ; ans += Linshi &gt; 1, qaq ++ ; &#125; &#125; if (qaq == 2 &amp;&amp; (N % 2)) ans ++ ; puts(ans ? "White" : "Draw") ; &#125;// if (qwq == 20) return 0 ; &#125;&#125; æ€»ç»“Global Roundçš„é¢˜ç›®è´¨é‡ä¸ä½è›¤ã€‚]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>é¢˜è§£</tag>
        <tag>æ ‘æ¨¡å‹</tag>
        <tag>åŠ¨æ€è§„åˆ’-æ™®é€šDP</tag>
        <tag>CodeForces</tag>
        <tag>æ€ç»´é¢˜/æ„é€ </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸»å¸­æ ‘ä¸Šçš„ä¸é è°±è§£æ³•]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F04%2F05%2F%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%C2%B7%E4%B8%8D%E9%9D%A0%E8%B0%B1%E7%9A%84%E5%81%9A%E6%B3%95%E2%80%94%E2%80%94%E4%B8%BB%E5%B8%AD%E6%A0%91%E4%B8%8A%E4%BA%8C%E5%88%86%2F</url>
    <content type="text"><![CDATA[$\rm{0x00~}Preface$æŸå¤©æœºæˆ¿é‡Œï¼Œå…¬è®¤çš„ezi lwyè·Ÿwxléšå£è¯´äº†ä¸€é“luoguä¸Šçš„é¢˜ï¼Œwxlæ¥äº†å…´è¶£ï¼Œè¢«pkså¬è§äº†ï¼Œäºæ˜¯pkså°±ç…äº†ä¸€çœ¼è¿™é¢˜ï¼Œç„¶åè¯´äº†ä¸€å¥â€è¿™ä¸å°±æ˜¯sbä¸»å¸­æ ‘ä¸ŠäºŒåˆ†å—ï¼Ÿéšä¾¿ä¸€ä¸ª$\Theta(n \log^2n)$å°±å¯ä»¥è¿‡å•Šâ€ ç„¶åpksé‚£ä¸€æ•´ä¸ªæ™šä¸Šéƒ½åœ¨æè¿™ä¸ªå‡ç®—æ³•ï¼Œ$\rm{QAQ}$ äºæ˜¯å°±æœ‰äº†æœ¬æ–‡ï¼Œæ•´ç†äº†ä¸¤é“ä¸»å¸­æ ‘çš„æ­£ç¡®ï¼ˆï¼Ÿï¼‰åº”ç”¨ã€‚ $\rm{0x01~}$faebdcçš„çƒ¦æ¼ä¼ é€é—¨ï¼šhttps://www.luogu.org/problemnew/show/P1997 å‘ƒï¼Œå…¶å®è¿™ä¸æ˜¯ä¸€é“å¾ˆéš¾çš„é¢˜ã€‚å› ä¸ºæœ¬æ¥å°±ä¿è¯äº†æ•°åˆ—ä¸é™ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è®°å½•ä¸€ä¸‹æ¯ä¸ªæ•°å‡ºç°åŒºé—´çš„å·¦å³ç«¯ç‚¹ï¼Œçæå°±å¥½ã€‚ä½†æ˜¯æ—¢ç„¶æˆ‘è¯´äº†è¦ä¸»å¸­æ ‘ä¸ŠäºŒåˆ†ï¼Œå°±ä¸€å®šè¦å†™å†™çœ‹å§qaq æˆ‘ä»¬è€ƒè™‘åœ¨æˆ‘çš„è¿™ç¯‡åšå®¢é‡Œé¢æ›¾ç»ä»‹ç»è¿‡çš„$T3$ä¸­çš„ç®—æ³•ï¼Œæˆ‘ä»¬ç›´æ¥å»æŸ¥è¯¢å·¦å³å„¿å­å€¼åŸŸåŒºé—´å†…ä¸­æ•°çš„ä¸ªæ•°ï¼Œçœ‹çœ‹å“ªä¸ªå¯è¡Œï¼Œç„¶åæš´åŠ›æ‰¾å°±å¥½ã€‚ ä½†æ˜¯â€¦ä»–TLEäº†ä¸¤ä¸ªç‚¹ï¼Œå› ä¸ºæˆ‘æ˜¯è¿™ä¹ˆå†™çš„ï¼š 123456789101112131415161718192021222324252627282930int query(const int &amp;Left,const int &amp;Right,const int &amp;l, const int &amp;r, const int &amp;k)&#123; if (l == r) return aft[l] ; register int mid = (l + r) &gt;&gt; 1, qwq ; if (sum[Right] - sum[Left] &lt; k) return -1 ; int x = sum[L[Right]] - sum[L[Left]], y = sum[R[Right]] - sum[R[Left]] ; if (x &gt;= k) if ((qwq = query(L[Left], L[Right], l, mid, k)) &gt; 0) return qwq ; if (y &gt;= k) if ((qwq = query(R[Left], R[Right], mid + 1, r, k)) &gt; 0) return qwq ; return -1 ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M ; for (i = 1; i &lt;= N; i ++) base[i] = qr() + ADD, aft[i] = base[i] ; sort (aft + 1, aft + N + 1),Len = unique(aft + 1, aft + N + 1) - (aft + 1), T[0] = build(1, Len) ; for (i = 1; i &lt;= N; i ++) pos = lower_bound(aft + 1, aft + Len + 1, base[i]) - aft, T[i] = update(T[i - 1], 1, Len, pos) ; for (i = 1; i &lt;= M; i ++)&#123; scanf("%d%d", &amp;a, &amp;b) ; register int l = 1, r = b - a + 1, ans = 1 ; while (l &lt;= r)&#123; register int mid = (l + r) &gt;&gt; 1 ; if (query(T[a - 1], T[b], 1, Len, mid) &gt; 0) ans = mid, l = mid + 1 ; else r = mid - 1 ; &#125; printf("%d\n", ans) ; &#125;&#125; å¥½åƒå¾ˆæ­£å¸¸ï¼Ÿä½†æ˜¯ï¼Œè¿™ä¸ªå¤æ‚åº¦æ˜¯å®Œå…¨é”™è¯¯çš„ã€‚æœ€å¤§çš„æ—¶å€™ç”šè‡³å¯ä»¥åˆ°è¾¾å•æ¬¡$m \log n$çš„å¤æ‚åº¦â€”â€”æ³¨æ„æ˜¯å•æ¬¡ã€‚å› ä¸ºæˆ‘ä»¬æ¯æ¬¡è¯¢é—®çš„æ—¶å€™ï¼Œå¦‚æœæŸ¥è¯¢äº†å·¦åŒºé—´ä¸åˆæ³•ï¼Œé‚£ä¹ˆä¸ä»£è¡¨å³åŒºé—´åˆæ³•â€”â€”æ¯•ç«Ÿæ˜¯äºŒåˆ†é‡Œçš„checkç¯èŠ‚ã€‚è€Œä¸Šä¸€ä¸ªç±»ä¼¼æ–¹æ³•çš„é¢˜ï¼Œå¯ä»¥ä¿è¯æˆ‘ä»¬å¦‚æœå·¦åŒºé—´çš„æ•°çš„å‡ºç°æ¬¡æ•°ä¸è¶…è¿‡$\frac{1}{2}$ï¼Œé‚£ä¹ˆå³åŒºé—´ä¸€å®šæ»¡è¶³â€”â€”ä½†æ˜¾ç„¶çš„æ˜¯ï¼Œæœ¬é¢˜ä¸å…·æœ‰è¿™ä¸ªæ€§è´¨ã€‚ æ‰€ä»¥ï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œä¸»å¸­æ ‘ä¸Šä¸å¯ä»¥äºŒåˆ†ã€‚ ä½†æ˜¯å¦‚æœæˆ‘ä»¬åŠ ä¸€ç‚¹å‰ªæå‘¢ï¼Ÿ æˆ‘ä»¬è€ƒè™‘ï¼Œå¯¹äºä¸»å¸­æ ‘ä¸Šçš„æ¯ä¸€ä¸ªç‚¹ç»´æŠ¤ä¸€ä¸ª$maxx$ä¸€ä¸ª$minx$ï¼Œè®°å½•åŒºé—´å†…å•ä¸ªæ•°å€¼å‡ºç°çš„æœ€å¤§æ¬¡æ•°å’Œæœ€å°æ¬¡æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨$check$çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥ç”¨è¿™ç§æ–¹å¼åˆ¤â€”â€”å¦‚æœ$r$ç‰ˆæœ¬çš„ä¸»å¸­æ ‘å†…å‡ºç°çš„æœ€å¤§æ¬¡æ•°å‡å»$l-1$ç‰ˆæœ¬å†…å‡ºç°çš„æ•°çš„æœ€å°æ¬¡æ•°$k&lt;q$ï¼ˆ$q$æ˜¯äºŒåˆ†å‡ºçš„$val$ï¼‰ï¼Œé‚£ä¹ˆä¸€å®šä¸æ»¡è¶³ã€‚ æ¯”è¾ƒæ˜¾ç„¶çš„æ˜¯ï¼Œè¿™ä¸æ˜¯ä¸€ç§æœ€ä¼˜æ€§å‰ªæï¼Œè€Œæ˜¯ä¸€ç§å¯è¡Œæ€§å‰ªæã€‚ä½†æ˜¯å¯¹ä»˜è¿™é“é¢˜å´æœ‰ç€ä¸é”™çš„æ•ˆæœï¼Œè·‘çš„å¥‡å¿«ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;cstdio&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#define il inline#define ADD 393216#define rr register#define MAXN 100073using namespace std ;int a, b, c, pos, N, base[MAXN], mx[(MAXN &lt;&lt; 5) + 1], mn[(MAXN &lt;&lt; 5) + 1], aft[MAXN], M, i ;int cnt, Len, T[(MAXN &lt;&lt; 5) + 1], L[(MAXN &lt;&lt; 5) + 1], R[(MAXN &lt;&lt; 5) + 1], sum[(MAXN &lt;&lt; 5) + 1] ;il int qr()&#123; register int k = 0, f = 1 ; char c = getchar() ; while(!isdigit(c))&#123; if (c == '-') f = -1 ; c = getchar() ; &#125; while(isdigit(c)) k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k * f ;&#125;int update(const int &amp;last, const int &amp;l, const int &amp;r, const int &amp;x)&#123; register int rt = ++ cnt, mid ; sum[rt] = sum[last] + 1, R[rt] = R[last], L[rt] = L[last] ; if (l == r)&#123; mx[rt] = mn[rt] = sum[rt] ; return rt ; &#125; mid = (l + r) &gt;&gt; 1 ; if (x &lt;= mid) L[rt] = update(L[last], l, mid, x) ; else R[rt] = update(R[last], mid + 1, r, x) ; mn[rt] = min(mn[L[rt]], mn[R[rt]]), mx[rt] = max(mx[L[rt]], mx[R[rt]]) ; return rt ;&#125;bool query(const int &amp;Left,const int &amp;Right,const int &amp;l, const int &amp;r, const int &amp;k)&#123; if (l == r) return 1 ; rr int mid = (l + r) &gt;&gt; 1, qwq ; if (mx[L[Right]] - mn[L[Left]] &gt;= k &amp;&amp; query(L[Left], L[Right], l, mid, k)) return 1 ; if (mx[R[Right]] - mn[R[Left]] &gt;= k &amp;&amp; query(R[Left], R[Right], mid + 1, r, k)) return 1 ; return 0 ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M; for (i = 1; i &lt;= N ; ++ i) base[i] = qr() + ADD, aft[i] = base[i] ; sort (aft + 1, aft + N + 1), Len = unique(aft + 1, aft + N + 1) - (aft + 1) ; for (i = 1; i &lt;= N ; ++ i) pos = lower_bound(aft + 1, aft + Len + 1, base[i]) - aft, T[i] = update(T[i - 1], 1, Len, pos) ; for (i = 1; i &lt;= M ; ++ i)&#123; a = qr(), b = qr() ; register int l = 1, mid, r = b - a + 1, ans = 1 ; while (l &lt;= r)&#123; mid = (l + r) &gt;&gt; 1 ; if (query(T[a - 1], T[b], 1, Len, mid)) ans = mid, l = mid + 1 ; else r = mid - 1 ; &#125; printf("%d\n", ans) ; &#125;&#125; $\rm{0x02~}CF840D~Destiny$ä¼ é€é—¨ï¼šhttp://codeforces.com/problemset/problem/840/D ç®€åŒ–ç‰ˆé¢˜æ„ï¼šæ¯æ¬¡ç»™å‡ºä¸‰ä¸ªå‚æ•°$l,r,k$ï¼Œè¯¢é—®åŒºé—´$[l,r]$å†…æ˜¯å¦å­˜åœ¨å‡ºç°æ¬¡æ•°ä¸¥æ ¼å¤§äº$\frac{r-l+1}{k}$çš„æ•°ã€‚å¦‚æœå­˜åœ¨å°±è¾“å‡ºæœ€å°çš„é‚£ä¸ª$ans$ï¼Œå¦åˆ™è¾“å‡º$-1$. è¿™ä¸ªä¸œè¥¿â€¦â€¦å°±ç›´æ¥æŸ¥è¯¢å°±å¥½äº†å•Šâ€¦â€¦ç”±äºä¸ç”¨äºŒåˆ†ï¼Œæ‰€ä»¥å¤æ‚åº¦ç›¸å¯¹æ¥è¯´ç¨³å®šäº†ä¸€äº›ã€‚äºæ˜¯æˆ‘å°±æ²¡æœ‰åŠ ä¸Šæ–‡ä¸­æåˆ°è¿‡çš„é‚£ä¸ªè¯¡å¼‚çš„ä¼˜åŒ–ã€‚æˆ‘ä»¬æ¯æ¬¡å…ˆæŸ¥å·¦åŠè¾¹ï¼Œå°±å¯ä»¥ä¿è¯åœ¨å€¼åŸŸä¸Šæœ€å°ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡æˆ‘ä»¬éƒ½å¯ä»¥æ±‚å‡ºæœ€å°çš„åˆæ³•$ans$äº†ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546il int build(int l, int r)&#123; int rt = ++ cnt ; sum[rt] = 0 ; if(l &lt; r)&#123; L[rt] = build(l, mid) ; R[rt] = build(mid + 1, r) ; &#125; return rt;&#125;il int update(int last, int l, int r, int x)&#123; int rt = ++ cnt ; sum[rt] = sum[last] + 1 ; R[rt] = R[last] ; L[rt] = L[last] ; if (l &lt; r)&#123; if (x &lt;= mid) L[rt] = update(L[last], l, mid, x) ; else R[rt] = update(R[last], mid + 1, r, x) ; &#125; return rt ;&#125;il int query(int Left, int Right, int l, int r, int k)&#123; if (l == r) return aft[l] ; int qwq ; // if (sum[Right] - sum[Left] &lt;= k) return -1 ; int x = sum[L[Right]] - sum[L[Left]], y = sum[R[Right]] - sum[R[Left]] ; if (x &gt; k) if ((qwq = query(L[Left], L[Right], l, mid, k)) &gt; 0) return qwq ; if (y &gt; k) if ((qwq = query(R[Left], R[Right], mid + 1, r, k)) &gt; 0) return qwq ; return -1 ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M; for(i = 1; i &lt;= N; i ++) base[i] = qr(), aft[i] = base[i] ; sort(aft + 1, aft + N + 1) ; Len = unique(aft + 1, aft + N + 1) - (aft + 1) ; T[0] = build(1, Len) ; for(i = 1; i &lt;= N; i ++)&#123; pos = lower_bound(aft + 1, aft + Len + 1, base[i]) - aft; T[i] = update(T[i - 1], 1, Len, pos) ; &#125; for(i = 1; i &lt;= M; i ++)&#123; scanf("%d%d%d", &amp;a, &amp;b, &amp;c) ; int k = (b - a + 1) / c ; cout &lt;&lt; query(T[a - 1], T[b], 1, Len, k) &lt;&lt; endl ; &#125; return 0 ; &#125; äº‹å®ä¸Šï¼ŒåŠ ä¸Šé‚£ä¼˜åŒ–ä¹‹åï¼Œæ€»ç”¨æ—¶å¤§çº¦$27000ms$ï¼Œè€Œæˆ‘è¿™ä¸ªä¸åŠ ä¼˜åŒ–çš„ç‰ˆæœ¬è¶³è¶³è·‘äº†$56677ms$â€¦â€¦çœŸä¸¢äººå•Š]]></content>
      <categories>
        <category>é¢˜è§£</category>
      </categories>
      <tags>
        <tag>å¯æŒä¹…åŒ–/å¯æŒä¹…åŒ–çº¿æ®µæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é˜²å®ˆæˆ˜çº¿[ZJOI2013] & å¿—æ„¿è€…æ‹›å‹Ÿ[NOI2008]]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F04%2F05%2Ffszx-and-zyzzm%2F</url>
    <content type="text"><![CDATA[$\rm{0x01}$ [ZJOI2013]é˜²å®ˆé˜µçº¿ä¼ é€é—¨ï¼šhttps://www.luogu.org/problemnew/show/P3337 é¦–å…ˆå°±æ˜¯è¦æ˜ç™½æ€ä¹ˆå»ºæ¨¡ï¼Œå¤§æ¦‚å°±æ˜¯ï¼š $$\text{æœ€å°åŒ–} \quad \sum c_ix_i \quad(i = 1,2,3\cdots n)\\\\text{æ»¡è¶³çº¦æŸ} \quad \sum \limits_{j=l_i}^{r_i} x_{j} \geq d_i \quad (i = 1,2,3\cdots m)$$ å…¶ä¸­$x_j$è¡¨ç¤º$j$è¿™ä¸ªåœ°æ–¹æœ‰å‡ åº§å¡”ã€‚ é‚£æˆ‘ä»¬é¦–å…ˆæŠŠå®ƒå¯¹å¶è¿‡å»ï¼Œå°±ä¼šå¾—åˆ°ï¼š$$\text{æœ€å¤§åŒ–} \quad \sum d_iy_i \quad(i = 1, 2,3 \cdots m) \\\\text{æ»¡è¶³çº¦æŸ} \quad \sum \limits_{j=l_i}^{r_i} y_{j} \leq c_i\quad (i = 1,2,3\cdots n)$$ç„¶åæˆ‘ä»¬è€ƒè™‘ï¼Œä¼¼ä¹ä»·å€¼ä¸èƒ½å¸¦å°æ•°å•Šï¼Œæ¯•ç«Ÿé¢˜ç›®ä¸­è§„å®šäº†ä»·å€¼éƒ½ä¸ºæ•´æ•°(äº‹å®ä¸Šå¹¶æ²¡æœ‰è§„å®šä½†æ˜¯æ•°æ®æ˜¯è¿™æ ·ç»™çš„)ï¼Œæ¢å¥è¯è¯´æˆ‘ä»¬ä¸èƒ½å­˜åœ¨å»ºæŸåº§å¡”çš„ä¸€éƒ¨åˆ†(æ¯”å¦‚åªå»ºä¸€åŠ)ã€‚ é‚£ä¹ˆè¿™å°±æ˜¯æ•´æ•°çº¿æ€§è§„åˆ’é—®é¢˜ï¼Œæ¢å¥è¯è¯´å°±æ˜¯è‡ªå˜é‡å–å€¼èŒƒå›´æ˜¯$\Z$çš„çº¿æ€§è§„åˆ’ã€‚ å‘ƒï¼Œè¿™é—®é¢˜å·²ç»è¢«è¯æ˜æ˜¯$\rm{NP-Hard}$çš„é—®é¢˜äº†â€¦ä½†æ˜¯ï¼Œæœ‰ä¸€ç§çŸ©é˜µå«åšå…¨å¹ºæ¨¡çŸ©é˜µï¼Œå³å…ƒç´ åªä¼šæ˜¯$\boldsymbol{0,1,-1}$çš„çŸ©é˜µï¼Œè¢«è¯æ˜è‚¯å®šè‡³å°‘æœ‰ä¸€ç»„æœ€ä¼˜è§£ä¿è¯æ•´æ•°çº¿æ€§è§„åˆ’ä¸å®æ•°çº¿æ€§è§„åˆ’çš„æ–¹æ¡ˆä¸€è‡´ã€‚ å•¥ï¼Œä½ è¯´å•¥ï¼Ÿä½ è¦å…³äºå…¨å¹ºæ¨¡çŸ©é˜µè¿™ä¸ªæ€§è´¨çš„äº‰é¸£ï¼Ÿæ˜¯ç™¾å®¶äº‰é¸£é‚£ä¸ªäº‰é¸£å—ï¼Ÿå­¦OIå‘¢åˆ«çè®¨è®ºå†å² ç„¶åå°±å¯ä»¥ä¸€å‘å•çº¯å½¢ç»™è‰¹è¿‡å»å•¦~å¼€å¿ƒå¿ƒ~ 123456789101112131415161718192021222324252627282930313233const double eps = 1e-8, INF = 1e9 ;using namespace std ; double A[MAXN][MAXM] ;int N, M, B, E, i, j, k, p ; double res, t, cost[MAXM], _need[MAXM] ;inline void Pivot(int e, int l)&#123; cost[l] /= A[l][e], t = A[l][e], A[l][e] = 1; for (i = 1 ; i &lt;= M ; ++ i) if (i != e) A[l][i] /= t ; for (i = 1 ; i &lt;= N ; ++ i) if (i != l &amp;&amp; abs(A[i][e]) &gt; eps)&#123; cost[i] -= A[i][e] * cost[l] ; for (p = 1 ; p &lt;= M ; ++ p) if (p != e) A[i][p] -= A[i][e] * A[l][p] ; A[i][e] = - A[i][e] * A[l][e] ; &#125; res += _need[e] * cost[l] ; for (i = 1 ; i &lt;= M ; ++ i) if (i != e) _need[i] -= _need[e] * A[l][i] ; _need[e] = - _need[e] * A[l][e] ;&#125;double simplex()&#123; while (true)&#123; double MINX = INF ; j = 0, k = 0 ; for (j = 1 ; j &lt;= M ; ++ j) if (_need[j] &gt; eps) break ; if (j &gt; M) return res ; for (i = 1 ; i &lt;= N ; ++ i) if (A[i][j] &gt; eps &amp;&amp; MINX &gt; cost[i] / A[i][j]) k = i, MINX = cost[i] / A[i][j] ; if (MINX &gt;= INF) return INF ; Pivot(j, k) ; &#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%lf", &amp;cost[i]) ; for (i = 1 ; i &lt;= M ; ++ i)&#123; scanf("%d%d%lf", &amp;B, &amp;E, &amp;_need[i]) ; //çº¦æŸ for (j = B ; j &lt;= E ; ++ j) A[j][i] = 1.0 ; &#125; printf("%d\n", (int)(simplex() + 0.5)) ; return 0 ;&#125; æ€ä¹ˆè¯´å‘¢ï¼Œä¼¼ä¹å•çº¯å½¢æœ‰å¥½å¤šåœ°æ–¹çš„å†™æ³•éƒ½æ¯”è¾ƒçµæ´»è®©æˆ‘ä¸çŸ¥é“èƒŒä»€ä¹ˆæ ·çš„æ¿å­ä¼šæ›´å¥½ $\rm{0x02}$ [NOI2008] å¿—æ„¿è€…æ‹›å‹Ÿä¼ é€é—¨ï¼šhttps://www.luogu.org/problemnew/show/P3980 ä»€ä¹ˆé¬¼å•Šè¿™ä¸æ˜¯ä¸Šé¢çš„é‚£é“é¢˜å— è¿˜æ˜¯ï¼š$$\text{æœ€å°åŒ–} \quad \sum c_ix_i \quad(i = 1,2,3\cdots m)\\\\text{æ»¡è¶³çº¦æŸ} \quad \sum \limits_{j=1}^{m} w_{i,j}x_{j} \geq A_i \quad (i = 1,2,3\cdots n)$$å…¶ä¸­$x_j$è¡¨ç¤ºé€‰æ‹©çš„ç¬¬$j$ç±»å¿—æ„¿è€…çš„ä¸ªæ•°ï¼Œ$w_{i,j}$è¡¨ç¤ºåœ¨ç¬¬$i$å¤©ï¼Œç¬¬$j$ç±»å¿—æ„¿è€…èƒ½å¦é€‰æ‹©ã€‚é‚£ä¹ˆè¿˜æ˜¯è€æ ·å­ï¼Œå¯¹å¶è¿‡å»å°±å¯ä»¥å¾—åˆ°ï¼š$$\text{æœ€å¤§åŒ–} \quad \sum A_ix_i \quad(i = 1,2,3\cdots n)\\\\text{æ»¡è¶³çº¦æŸ} \quad \sum \limits_{j=1}^{m} w_{i,j}x_{j} \leq c_i \quad (i = 1,2,3\cdots m)$$æ€ä¹ˆè¯´å‘¢â€¦â€¦è¿™ä¸ªä¸€å¼€å§‹çš„å»ºæ¨¡æ¯”ä¸Šä¸€ä¸ªé¢˜è¿˜æ˜¯æœ‰éš¾åº¦çš„ï¼Œå› ä¸ºä¸Šä¸€ä¸ªé¢˜çš„$L_i,R_i$è·Ÿçº¦æŸæœ‰å…³ï¼Œè€Œè¿™æ¬¡çš„$L_i,R_i$åˆ™æ˜¯è·Ÿç›®æ ‡å‡½æ•°æœ‰å…³â€”â€”æˆ–è®¸ä¸åº”è¯¥è¿™ä¹ˆè¯´ï¼Œä½†æ˜¯çœ‹ä¸Šå»ç¡®å®ä¸å¦‚ä¸Šé¢é‚£é¢˜è·Ÿçº¦æŸæœ‰å…³ç³»å°±å¯¹äº†(æˆ‘åœ¨BBä¸€å †ä»€ä¹ˆå•Š) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;cmath&gt; #include &lt;cstdio&gt;#include &lt;iostream&gt;#define INF 1e9#define MAXN 1035#define MAXM 10010const double eps = 1e-8 ; double res ;using namespace std ; int b[MAXM], e[MAXM] ; int N, M, i, j, k ; double C[MAXM], _need[MAXM], A[MAXM][MAXN] ; inline void Pivot(int posN, int posC)&#123; C[posC] /= A[posC][posN] ; // constraint divided by A_&#123;l,e&#125; for (int p = 1 ; p &lt;= N ; ++ p) if (p != posN) A[posC][p] /= A[posC][posN] ;//this line Booom A[posC][posN] = 1 ; // Pivot is above, taking it back is below for (int p = 1 ; p &lt;= M ; ++ p)//taking back to constraints if (p != posC &amp;&amp; fabs(A[p][posN]) &gt; eps)&#123; C[p] -= A[p][posN] * C[posC] ; for (i = 1 ; i &lt;= N ; ++ i) if (i != posN) A[p][i] -= A[p][posN] * A[posC][i] ; A[p][posN] = 0 ; &#125; res += _need[posN] * C[posC] ;//this time results in a better INIT-Sol for (int p = 1 ; p &lt;= N ; ++ p) if (p != posN) _need[p] -= _need[posN] * A[posC][p] ; _need[posN] = - _need[posN] * A[posC][posN] ;&#125;inline double simplex()&#123; while(1)&#123; j = 0, k = 0 ; double MAX = INF ; for (j = 1 ; j &lt;= N ; ++ j) if (_need[j] &gt; eps) break ; /*1*/ if (j &gt; N) return res ; //make-it-sure if go on for (i = 1 ; i &lt;= M ; ++ i) if (A[i][j] &gt; eps &amp;&amp; MAX &gt; C[i] / A[i][j]) MAX = C[i] / A[i][j], k = i ; //find the min_val constraint if (MAX &gt;= INF) return INF ; /* this task is unbounded */ Pivot(j, k) ; &#125;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M ; for (i = 1 ; i &lt;= N ; ++ i) cin &gt;&gt; _need[i] ; for (i = 1 ; i &lt;= M ; ++ i)&#123; scanf("%d%d%lf", &amp;b[i], &amp;e[i], &amp;C[i]) ; for (j = b[i] ; j &lt;= e[i] ; ++ j) A[i][j] = 1 ; &#125; printf("%d\n", (int)(simplex()+0.5)) ; return 0 ;&#125; $\rm{Reference}$ $[1]$ :$Candy?$çš„$blog$ $^{^{[\nearrow ]}}$]]></content>
      <categories>
        <category>é¢˜è§£</category>
      </categories>
      <tags>
        <tag>çº¿æ€§è§„åˆ’/å•çº¯å½¢æ³•</tag>
        <tag>çº¿æ€§è§„åˆ’/å¯¹å¶å®šç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œæµ24é¢˜ä¸“é¢˜1Â·è¾ƒç®€å•çš„è´¹ç”¨æµ]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F29%2Fnw-flow-24-1%2F</url>
    <content type="text"><![CDATA[$\rm{Preface}~$å…³äºç½‘ç»œæµï¼Œä¸€ç›´æ˜¯æˆ‘çš„ä¸€ä¸ªé˜´å½±â€¦â€¦å› ä¸ºå»å¹´æš‘å‡ï¼Œå¤§å®¶éƒ½ä¼šè€Œç½‘ç»œæµï¼Œæˆ‘å› ä¸ºè§‰å¾—è¿™ä¸ªç®—æ³•æ²¡æ„æ€å°±æ²¡å­¦ï¼Œç»“æœrqyæ¥ç»™æˆ‘ä»¬è€ƒè¯•ç½‘ç»œæµé‚£é¢˜è¢«å…¨åœºæ‰“çˆ†äº†â€”â€”é™¤äº†æˆ‘qaqã€‚ äºæ˜¯å†³å®šå¼€å§‹åšè¿™äº›é¢˜ï¼Œæ¯é“é¢˜éƒ½ä¼šæ ‡æ³¨æˆ‘çœ‹é¢˜è§£ç¨‹åº¦å¤šå°‘ï¼Œå¦‚æœå¤ªé«˜çš„è¯ä¼šè¢«è‡ªå·±å«Œå¼ƒçš„qaqâ€¦â€¦å¸Œæœ›è‡ªå·±èƒ½äº‰æ°”ä¸€ç‚¹ã€‚ $\rm{0x01}$ è¿è¾“é—®é¢˜ä¼ é€é—¨ï¼šhttps://www.luogu.org/problemnew/show/P4015 çœ‹äº†ï¼Œç¨‹åº¦å¤§æ¦‚80%â€¦â€¦å‘ƒæˆ‘çŸ¥é“è¿™ä¸ªé¢˜ä¸éš¾ï¼Œä½†æ˜¯æ¯•ç«Ÿæˆ‘ä¸Šæ¬¡å†™è´¹ç”¨æµå¯æ˜¯å‡ ç™¾å¹´ä¹‹å‰äº†å•Šâ€¦â€¦qaq å…¶å®å°±æ˜¯$$S\stackrel{f = a_i,c = 0}{\longrightarrow}i \stackrel{f = Inf,c = c_{i,j}}{\longrightarrow}j \stackrel{f = b_j,c=0}{\longrightarrow}T$$ å…¶ä¸­$i$ä»£è¡¨ä»“åº“çš„ç¼–å·ï¼Œ$j$ä»£è¡¨å•†åº—çš„ç¼–å·ï¼Œå»ºå®Œå›¾è·‘è´¹ç”¨æµå³å¯ã€‚ ç”±äºSPFAæ­»äº†ï¼Œæ‰€ä»¥å°±ä¸€ç›´ç”¨$dijk$åšè´¹ç”¨æµï¼Œåªä¸è¿‡éš¾èƒŒä¸€ç‚¹â€¦â€¦ç„¶åç¬¬äºŒé—®çš„è¯å°±æŠŠæƒå€¼å–è´Ÿé‡æ–°åšä¸€ä¸‹è´¹ç”¨æµå°±å¥½ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œè¿™ä¸ªé¢˜ä¼¼ä¹æ˜¯æ¯”è¾ƒè£¸çš„è´¹ç”¨æµçš„é¢˜äº†ï¼Ÿä¸€èˆ¬è´¹ç”¨æµå¤§æ¦‚éƒ½æ˜¯ç”¨æ¥æ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜çš„å§qwqâ€¦â€¦ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051struct Edge&#123; int to, next, f, c ;&#125;E[MAXN] ; int head[MAXN], cnt = -1 ;int S, T, N, M, dist[MAXN], i, j, k, t[MAXN], x ; struct node&#123; int dist, num ; bool operator &lt;(const node &amp; now) const&#123;return dist &gt; now.dist ; &#125;&#125;; priority_queue&lt;node&gt; q ; bool vis[MAXN] ; int Last[MAXN], F[MAXN], H[MAXN], Pre[MAXN], MAX_C ;inline void Add(const int &amp;u, const int &amp;v, const int &amp;f, const int&amp; c)&#123; E[++ cnt].to = v, E[cnt].c = c, t[cnt] = f ; E[cnt].f = f, E[cnt].next = head[u], head[u] = cnt ; E[++ cnt].to = u, E[cnt].c = -c, t[cnt] = 0 ; E[cnt].f = 0, E[cnt].next = head[v], head[v] = cnt ;&#125;inline bool dijkstra()&#123; q.push((node)&#123;0, S&#125;) ; vis[S] = dist[S] = 0, F[0] = Inf ; for (i = 1 ; i &lt;= T ; ++ i) dist[i] = F[i] = Inf, vis[i] = 0 ; while (!q.empty())&#123; node now = q.top() ; q.pop() ; int fr = now.num, sec = now.dist ; if (vis[fr]) continue ; for (vis[fr] = 1, k = head[fr] ; k != -1 ; k = E[k].next)&#123; int nowc = sec + E[k].c + H[fr] - H[to(k)] ; if (E[k].f &gt; 0 &amp;&amp; !vis[to(k)] &amp;&amp; dist[to(k)] &gt; nowc)&#123; dist[to(k)] = nowc, q.push((node)&#123;dist[to(k)], to(k)&#125;) ; F[to(k)] = min(F[fr], E[k].f), Pre[to(k)] = fr, Last[to(k)] = k ; &#125;//!!!!! &#125; &#125; return dist[T] &lt; Inf ;&#125;void MCMF(int qwq)&#123; int _Ed ; MAX_C = 0 ; while (dijkstra())&#123; _Ed = T, MAX_C += (dist[T] - H[S] + H[T]) * F[T] ; while(_Ed != S) E[Last[_Ed]].f -= F[T], E[Last[_Ed] ^ 1].f += F[T], _Ed = Pre[_Ed] ; for (i = 0 ; i &lt;= T ; ++ i) H[i] += dist[i] ; /* cout &lt;&lt; MAX_C &lt;&lt; endl ; */ &#125; cout &lt;&lt; MAX_C * qwq &lt;&lt; endl ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M, S = 0 ; T = N + M + 1, memset(head, -1, sizeof(head)) ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;x), Add(S, i, x, 0) ; for (i = N + 1 ; i &lt;= N + M ; ++ i) scanf("%d", &amp;x), Add(i, T, x, 0) ; for (i = 1 ; i &lt;= N ; ++ i) for (j = N + 1 ; j &lt;= N + M ; ++ j) scanf("%d", &amp;x), Add(i, j, Inf, x) ;// for (i = 0 ; i &lt;= cnt ; ++ i) printf("%d %d %d\n", E[i].to + 1, E[i].f, E[i].c) ; MCMF(1) ; for (i = 0 ; i &lt;= cnt ; ++ i) E[i].f = t[i], E[i].c = -E[i].c ; MCMF(-1) ; return 0 ;&#125; $\rm{0x02~}$ åˆ†é…é—®é¢˜ä¼ é€é—¨ï¼šhttps://www.luogu.org/problemnew/show/P4014 è¿™é“é¢˜ç”±äºå®åœ¨å¤ªæ°´äº†ï¼Œæ‰€ä»¥æ²¡æœ‰çœ‹é¢˜è§£(çªƒå–œ å…¶å®å°±æ˜¯å»º$2n$ä¸ªç‚¹ï¼Œç„¶å$i \stackrel{f = Inf,c = base_{i,j}}{\longrightarrow} j$å°±è¿å®Œäº†ã€‚ ä¸å¾—ä¸è¯´â€¦å»ºè¾¹çœŸçš„æ˜¯å¤ªæ°´äº†ï¼Œå¤ªæ°´äº†ï¼Œqaq 1234567891011121314151617181920æ­¤å¤„æ˜¯dijkstraâ€¦â€¦void MCMF(int qwq)&#123; int _Ed ; MAX_C = 0 ; while (dijkstra())&#123; _Ed = T, MAX_C += (dist[T] - H[S] + H[T]) * F[T] ; while(_Ed != S) E[Last[_Ed]].f -= F[T], E[Last[_Ed] ^ 1].f += F[T], _Ed = Pre[_Ed] ; for (i = 0 ; i &lt;= T ; ++ i) H[i] += dist[i] ; /* cout &lt;&lt; MAX_C &lt;&lt; endl ; */ &#125; cout &lt;&lt; MAX_C * qwq &lt;&lt; endl ;&#125;int main()&#123; memset(head, -1, sizeof(head)) ; cin &gt;&gt; N ; S = 0, T = N &lt;&lt; 1 | 1 ; for (i = 1 ; i &lt;= N ; ++ i) Add(S, i, 1, 0) ; for (i = N + 1 ; i &lt;= N + N ; ++ i) Add(i, T, 1, 0) ; for (i = 1 ; i &lt;= N ; ++ i) for (j = N + 1 ; j &lt;= N + N ; ++ j) cin &gt;&gt; x, Add(i, j, Inf, x) ; MCMF(1) ; for (i = 0 ; i &lt;= cnt ; ++ i) E[i].c = -E[i].c, E[i].f = t[i] ; MCMF(-1) ; return 0 ;&#125; $\rm{0x03}~$æ•°å­—æ¢¯å½¢é—®é¢˜ä¼ é€é—¨ï¼šhttps://www.luogu.org/problemnew/show/P4013 çœ‹é¢˜è§£ï¼š$90\%$+â€¦æˆ‘æ˜¯çœŸæ²¡è§è¿‡è¿™ç§å»ºè¾¹æ–¹å¼å•Šå–‚ï¼Œå¹¶ä¸”æˆ‘ä¸€å¼€å§‹å»ºçš„è¾¹å¾ˆè¿·â€¦æˆ‘æ²¡æœ‰çœ‹åˆ°ï¼Œå‘ƒï¼Œæ¢å¥è¯è¯´ï¼Œæˆ‘çœ‹åˆ°äº†ç„¶åå¿˜äº†ï¼Œä¸€ä¸ªæ•°åªèƒ½å‘æ­£ä¸‹æ–¹å’Œå³ä¸‹æ–¹èµ°â€¦â€¦ ç¬¬ä¸€é—®Â·å®Œå…¨ä¸ç›¸äº¤çš„è·¯å¾„æˆ‘çœŸæ˜¯è¦èœæ­»äº†ï¼Œé¢˜è§£é‡Œé¢è¯´â€æ‹†ç‚¹å·²ç»æ˜¯çƒ‚å¤§è¡—çš„$trick$äº†â€ï¼Œæˆ‘ï¼šï¼Ÿï¼Ÿï¼Ÿ å¤§æ¦‚å°±æ˜¯æ¯ä¸ªç‚¹æ‹†æˆä¸¤ä¸ªç‚¹ï¼ŒåŸå› æ˜¯æˆ‘ä»¬éœ€è¦æŠŠç‚¹ä¸Šçš„é™åˆ¶è½¬åŒ–æˆè¾¹ä¸Šçš„é™åˆ¶ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œæ‹†ç‚¹ï¼Œç„¶åå¯¹äºæŸä¸ªç‚¹å’Œå®ƒçš„å‰¯æœ¬è¿ä¸€æ¡$f=1,c=-base[x]$çš„è¾¹ï¼Œæ¯•ç«Ÿæ˜¯æ±‚æœ€å¤§å€¼ã€‚ç„¶å$S$å’Œæœ€é¡¶ä¸Šçš„è¿$f=1,c=0$çš„è¾¹ï¼Œ$T$å’Œæœ€ä¸‹é¢ä¸€å±‚è¿$f=1,c=0$ï¼Œå°±å®Œäº†ã€‚ ç¬¬äºŒé—® Â· è¾¹ä¸ç›¸äº¤çš„è·¯å¾„æˆ‘ä»¬è€ƒè™‘æ­¤æ—¶å…¶å®æ˜¯åˆ é™¤äº†ç‚¹çš„é™åˆ¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†æ¯ä¸ªç‚¹å’Œè‡ªå·±çš„å‰¯æœ¬ä¹‹é—´çš„è¾¹å®¹é‡æ”¹æˆ$Inf$ï¼Œå¹¶æŠŠ$T$ä¸æœ€åº•ä¸‹çš„æ‰€æœ‰ç‚¹çš„å®¹é‡æ‰©ä¸º$Inf$å³å¯ã€‚æ³¨æ„ååŠéƒ¨åˆ†çš„æ‰©å®¹ï¼Œå…¶ç›®çš„åœ¨äºé˜²æ­¢ä¸­é—´èŠ‚ç‚¹çš„æ‰©å®¹è¢«é™åˆ¶ã€‚ ç¬¬ä¸‰é—® Â· éšä¾¿çš„è·¯å¾„æ—¢ç„¶éƒ½éšä¾¿äº†ï¼Œå°±ç›´æ¥æŠŠæ‰€æœ‰çš„è¾¹éƒ½è®¾ç½®æˆ$Inf$ï¼Œä½†æ˜¯æ˜¾ç„¶çš„æ˜¯æˆ‘ä»¬ä¸èƒ½æ‰©$S$è¿å‡ºå»çš„è¾¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859inline bool dijk()&#123; for (i = 0 ; i &lt;= tot + 2 ; ++ i) dist[i] = F[i] = Inf, vis[i] = 0 ; dist[S] = 0, q.push((Node)&#123;S, 0&#125;) ; while (!q.empty())&#123; Node now = q.top() ; q.pop() ; int num = now.num, dis = now.dist ; if (vis[num]) continue ; for (int k = head[num] ; k != -1 ; k = E[k].next)&#123; int DIS = E[k].c + H[num] - H[to(k)] + dis ; if (DIS &lt; dist[to(k)] &amp;&amp; !vis[to(k)] &amp;&amp; E[k].f) F[to(k)] = min(F[num], E[k].f), dist[to(k)] = DIS, q.push((Node)&#123;to(k), DIS&#125;), Pre[to(k)] = num, Last[to(k)] = k ; &#125; &#125; return dist[T] &lt; Inf ;&#125;inline void MCMF()&#123; Ans = 0 ; while (dijk())&#123; _End = T, Ans += (dist[T] - H[S] + H[T]) * F[T] ; while (_End) E[Last[_End]].f -= F[_End], E[Last[_End] ^ 1].f += F[_End], _End = Pre[_End] ; for (i = 0 ; i &lt;= tot + 2 ; ++ i) H[i] += dist[i] ; /*cout &lt;&lt; -Ans &lt;&lt; endl ;*/ &#125;&#125;int L1, R1, L ;int main()&#123; memset(head, -1, sizeof(head)) ; cin &gt;&gt; M &gt;&gt; N ; S = 0, T = 1 ; for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt; M + i ; ++ j) cin &gt;&gt; base[i][j], Id[i][j] = (tot += 2) ; for (i = 1 ; i &lt;= M ; ++ i) Add(S, Id[1][i], 1, 0) ; L = cnt + 1 ; for (L1 = cnt + 1, i = 1 ; i &lt;= N + M ; ++ i) Add(Id[N][i] + 1, T, 1, 0) ; for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt; M + i ; ++ j) Add(Id[i][j], Id[i][j] + 1, 1, -base[i][j]) ; R1 = cnt ; for (i = 1 ; i &lt;= N ; ++ i) for (j = 1 ; j &lt; M + i ; ++ j) if (i &lt; N) Add(Id[i][j] + 1, Id[i + 1][j], 1, 0), Add(Id[i][j] + 1, Id[i + 1][j + 1], 1, 0) ; MCMF() ; cout &lt;&lt; -Ans &lt;&lt; endl ; for (i = 0 ; i &lt;= cnt ; ++ i) E[i].f = t[i] ; for (i = L1 ; i &lt; R1 ; i += 2) E[i].f = Inf ; for (i = L1 + 1 ; i &lt;= R1 ; i += 2) E[i].f = 0 ; MCMF() ; cout &lt;&lt; -Ans &lt;&lt; endl ; for (i = 0 ; i &lt;= cnt ; ++ i) E[i].f = t[i] ; for (i = L ; i &lt; cnt ; i += 2) E[i].f = Inf ; for (i = L + 1 ; i &lt;= cnt ; i += 2) E[i].f = 0 ; MCMF() ; cout &lt;&lt; -Ans &lt;&lt; endl ; return 0 ;/* ä»¥ä¸‹æ˜¯é”™è¯¯çš„å»ºè¾¹ for (i = 1 ; i &lt;= M ; ++ i) cin &gt;&gt; base[++ tot], Add(S, tot, 1, -base[tot]) ; for (i = 1 ; i &lt; N ; ++ i) for (j = 1 ; j &lt;= M + i ; ++ j)&#123; cin &gt;&gt; base[++ tot] ; int sd = (2 * M + i - 2) * (i - 1) / 2 + 1 ; for (int k = sd ; k &lt;= (2 * M + i - 1) * i / 2 ; ++ k) Add(k, tot, Inf, -base[tot]) ; &#125; for (T = tot + 1, i = tot - (N + M - 1) + 1 ; i &lt;= tot ; ++ i) Add(i, T, 1, 0) ; ++ tot, MCMF() ; cout &lt;&lt; -Ans &lt;&lt; endl ; */ /*MCMF() ; cout &lt;&lt; -Ans &lt;&lt; endl ; */&#125; å—¯ï¼Œå¤§æ¦‚è¿™ä¸‰ä¸ªé¢˜å°±å…ˆåˆ†æˆä¸€ç»„å§ï¼]]></content>
      <categories>
        <category>ç½‘ç»œæµäºŒåå››é¢˜</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œæµ24é¢˜</tag>
        <tag>è´¹ç”¨æµ/æœ€å°è´¹ç”¨æµ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšæƒ³ä¸ƒÂ·è¨€å¶ä¹‹åº­]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F28%2F%E9%9A%8F%E6%83%B3%E4%B8%83%C2%B7%E8%A8%80%E5%8F%B6%E4%B9%8B%E5%BA%AD%2F</url>
    <content type="text"><![CDATA[â€‹ Hello darkness my old friend. é»¯æ·¡å¦‚æ—§ï¼Œä»Šæ—¶é‡é€¢ã€‚â€‹ Iâ€™ve come to talk with you again. é˜”åˆ«ä¹…æ—¥ï¼Œå¯èµ´ä½å™ï¼Ÿâ€‹ Because a vision softly creeping. å¦‚æ¢¦å¦‚å¹»ï¼Œäºæˆ‘å¿ƒè¦ã€‚â€‹ Left its seeds while I was sleeping. é—ä¹‹å…¥æ¢¦ï¼Œé½æˆ‘å¿ƒåŒã€‚â€‹ And the vision that was planted in my brain. ä¸çŸ¥å½’å¤„ï¼Œä¸çŸ¥å½’å¤„ã€‚â€‹ Still remains with the sound of silence. è¡ŒèˆŸå¦‚é£ï¼Œé£èˆŸè¿Ÿæš®ã€‚â€‹ In restless dreams I walk alone. å¾å¿ƒç‹¬è¡Œï¼Œå…°çš‹æ­¢æ¯ã€‚â€‹ Narrow streets of cobble stone. è¶Šé™Œåº¦é˜¡ï¼Œå¯æœ‰ä¸€é†‰ï¼Ÿâ€‹ Beneath the hallo of a street lampâ€™, å¦‚å…‰åŒ–å½±ï¼Œäºæˆ‘å¿ƒå¯‚ã€‚â€‹ I turned my collar to the cold and damp. æµŠå¯’å…¥è¥Ÿï¼Œåˆºæˆ‘å¿ƒåº•ã€‚â€‹ When my eyes were stabbled. æ‰€è§çš†å¹»ï¼Œæ‰€è§çš†æ˜ã€‚â€‹ By the flash of a neon light. ä¸‡ç‰©çš†è™šï¼Œä¸‡ç‰©çš†å…ã€‚â€‹ That split the night. ä¸çŸ¥å½’å¤„ï¼Œä¸çŸ¥å½’å¤„ã€‚â€‹ And touched the sound of silence æ˜Ÿç€šç¿æ¼«ï¼Œè¡Œäººæ…¢èµ°ã€‚ â€‹ â€”â€”ã€$\rm{The ~Sound~of~Silence}$ã€å¯‚é™ä¹‹å£° éšæƒ³ç³»åˆ—ç›®æ¬¡è¡¨ï¼šæˆ³æˆ‘ è¿™æ¬¡å¤§æ¦‚ä¼šå†™çš„æ—¶é—´çº¿å¾ˆè·³è·ƒï¼Œä½†æˆ‘çœŸçš„æ˜¯è¢«è¿™ä¸ªæ•…äº‹å©å‡»äº†å¿ƒè„æœ€æ·±å¤„çš„åœ°æ–¹ã€‚ $\rm{Part~1}$æœˆè€ƒç»“æŸäº†ã€‚æˆ‘ç»ˆäºæœ‰æ—¶é—´æŠŠè¿™æœ¬ä¹¦è¯»å®Œã€‚ ä¹‹å‰æ˜¯ä¸€æ¬¡å‘¨æœ«ï¼Œå›ºå®šçš„å¥¥èµ›æ—¶é—´ã€‚ä¸­é€”è¯¾ä»¶å»å­¦æ ¡çš„ä¹¦åº—é€›â€”â€”ä¸€ä¸ªä¸é”™çš„ä¹¦å§ï¼Œä¹¦å¢¨é¦™é€ç€å°èµ„æƒ…è°ƒã€‚ æˆ‘åœ¨ä¸èµ·çœ¼çš„åœ°æ–¹ï¼Œå¶ç„¶å‘ç°äº†ä¸€æœ¬ã€Šè¨€å¶ä¹‹åº­ã€‹â€”â€”çœ‹èµ·æ¥æ˜¯æœ€åä¸€æœ¬äº†ï¼Œæƒ³éƒ½æ²¡æƒ³å°±ä¹°äº†ã€‚38å…ƒï¼Œä¸ä¾¿å®œï¼Œè–„è–„çš„ä¸€æœ¬ï¼Œä½†æ˜¯å°é¢å´æ˜¯ä¸€ç‰‡ä»¤äººèµå¿ƒæ‚¦ç›®çš„æµ“ç»¿â€”â€”æ˜¯ç”¨æ²¹å½©ç”»çš„æ ‘å¶ï¼Œå¾ˆæ¼‚äº®â€”â€”é‚è§‰å¾—ä¸ç®—ç‰©ä¸æŠµä»·ã€‚ ä½†ä¹°å›æ¥æ‰å‘ç°ï¼Œä¸æ˜¯æ–°æµ·è¯šçš„å†™çš„ï¼Œè€Œæ˜¯ä»–çš„ä¸€ä¸ªâ€œå¥½åŸºå‹â€åŠ çº³æ–°å¤ªï¼Œç«™åœ¨ç§‹æœˆå­é›„çš„ç«‹åœºå†™çš„ã€‚å‰§æƒ…å¤§ä½“ä¸Šè·Ÿæˆ‘ä¸€å¹´ä¹‹å‰çœ‹è¿‡çš„46åˆ†é’Ÿçš„çŸ­ç‰‡å·®ä¸å¤šï¼Œâ€œå°±å½“ä¹°äº†æ”¶è—å§â€æˆ‘æƒ³ã€‚ ã€Šè¨€å¶ä¹‹åº­ã€‹æ˜¯æˆ‘å»å¹´åˆšæ¥å®éªŒéƒ¨çš„æ—¶å€™æ¥è§¦çš„æ–°é²œä¸œè¥¿ä¹‹ä¸€â€”â€”åˆä¸­æ—¶åªæ‡µæ‡‚åœ°çœ‹è¿‡ã€Šä½ çš„åå­—ã€‹ï¼Œè¢«é‡Œé¢è¶…è¶Šæ—¶ç©ºçš„çˆ±æƒ…å¸å¼•çš„ä¸è¦ä¸è¦çš„ã€‚å½“æ—¶çœ‹å®Œç¡®å®è§‰å¾—æ˜¯éƒ¨å¥½ç‰‡ï¼Œå› ä¸ºå‰§æƒ…å¾ˆå¸å¼•äººâ€”â€”å½“ç„¶ï¼Œå¤§å¤šæ•°éƒ½æ˜¯æˆ‘çš„ä¸»è§‚æ„Ÿæƒ…åœ¨èµ·ä½œç”¨ï¼Œå› ä¸ºå½“æ—¶æ‡µæ‡‚çš„æˆ‘æ­£å¥½è¿«åˆ‡åœ°æ¸´æœ›ä¸€æ¬¡è¯´èµ°å°±èµ°çš„çˆ±æƒ…ã€‚ é‚£æœ¬è–„è–„çš„ä¹¦åˆå¸¦æˆ‘å›æƒ³èµ·äº†ç¬¬ä¸€æ¬¡çœ‹ã€Šè¨€å¶ä¹‹åº­ã€‹æ—¶çš„æ»¡è¶³å’Œæ„‰æ‚¦ï¼Œäºæ˜¯ä¾¿å†³å®šä¹°æ–°æµ·è¯šçš„åŸç‰ˆæ¥çœ‹ã€‚æˆ‘å¹¶ä¸è®¤ä¸ºæ–°æµ·è¯šçš„åŸç‰ˆä¼šæ¯”åŠ ç‰ˆæˆ–åŠ¨ç”»ç‰ˆå¥½å¤šå°‘ï¼Œæ¯•ç«Ÿæ•…äº‹å°±æ˜¯é‚£ä¹ˆä¸ªæ•…äº‹ï¼Œæ— éæ˜¯è§†è§’ä¸ä¸€æ ·ç½¢äº†ã€‚ å¹¶ä¸”æˆ‘ä¹Ÿè§‰å¾—ï¼Œä¼¼ä¹åŠ ç‰ˆå’Œç”µå½±ç‰ˆåˆ»ç”»çš„äººç‰©éƒ½å¤ªå•è–„äº†ï¼Ÿåæ­£æˆ‘åœ¨çœ‹å®ŒåŠ ç‰ˆä¹‹åï¼Œåˆé‡çœ‹äº†ä¸€éç”µå½±ç‰ˆï¼Œå‘ç°ä¸å…‰äººç‰©å¥½å‡ å¤„ç”»å´©äº†ï¼Œæœ‰äº›ä¸œè¥¿å†™çš„ä¼¼ä¹å¤ªå°‘â€”â€”ä¸åªæ˜¯æ„çŠ¹æœªå°½äº†ï¼Œæ›´åƒæ˜¯è¿è¯´éƒ½æ²¡è¯´å®Œã€‚æ‰€ä»¥æˆ‘ä¸€ç›´æœŸå¾…ç€èƒ½å¤Ÿèµ¶ç´§æœˆè€ƒå®Œï¼Œå¥½è®©æˆ‘åœ¨è€å¸ˆå¿™äºè®²é¢˜+é˜…å·ã€æ²¡ç©ºå¸ƒç½®ä½œä¸šçš„æ—¶å€™ï¼Œæœ‰ç©ºçœ‹ä¸€ä¸‹æ–°æµ·è¯šçš„åŸç‰ˆâ€”â€”åŸç‰ˆæ˜¯æœˆè€ƒå‰çš„å¤§ä¼‘æ¥çš„è´§ï¼Œä¹¦å°çš„ä¸»è‰²è°ƒæ˜¯ç™½è‰²çš„ï¼Œå°1æ˜¯ä¸€å¼ åŠ¨ç”»ç”µå½±é‡Œçš„æˆªå›¾â€”â€”ä¸€åªç¡è²ï¼Œèººåœ¨ä¸‹ç€é›¨çš„æ²³é‡Œã€‚ æˆ–è®¸é‚£æ—¶æˆ‘è¿˜ä¸çŸ¥é“ï¼Œæˆ‘å°†ä¼šçœ‹åˆ°ä¸€ä¸ªæ€æ ·å®Œæ•´ã€ä¼˜ç§€ã€ç»†è…»çš„æ•…äº‹â€”â€”ç”µå½±å’ŒåŠ ç‰ˆï¼Œå’ŒåŸç‰ˆæ¯”èµ·æ¥ï¼Œç®€ç›´è´»ç¬‘å¤§æ–¹ã€‚ $\rm{Part~2}$æ„ŸåŠ¨ï¼Œæ»¡è¶³ï¼Œå¹¸ç¦ï¼Œç¾å¥½â€¦â€¦éƒ½æ˜¯æˆ‘çœ‹å®Œçš„ç¬¬ä¸€æƒ³æ³•ï¼›ç‹¬æ­¥å¤©ä¸‹ï¼Œç»æ— ä»…æœ‰â€¦â€¦åˆ™æ˜¯ç¬¬äºŒæƒ³æ³•ã€‚ è¿ç»­ä¸¤ä¸ªä¸­åˆæœªçœ ï¼Œå†åŠ ä¸Šè€ƒå®Œè¯•çš„è½»æ¾ï¼Œè®©æˆ‘åœ¨$3$æœˆ$28$æ—¥ä¸­åˆè¯»å®Œäº†è¿™æœ¬ä¹¦ã€‚è¿˜æœ‰äºŒååˆ†é’Ÿæ‰å¹èµ·åºŠå“¨ï¼Œé‚å†³å®šå°çœ ç‰‡åˆ»ï¼Œè°çŸ¥æ¢¦é‡Œæœ¦èƒ§çš„ï¼Œå…¨æ˜¯è¨€å¶é‡Œé¢çš„å†…å®¹ï¼Œå…¨æ˜¯é›ªé‡å’Œå­é›„ï¼Œå…¨æ˜¯æ£‰èŠ±ç³–ä¸€æ ·æŸ”è½¯é¦™ç”œçš„æ¢¦å¹»ï¼Œåœ¨æˆ‘çš„è„‘æµ·é‡Œæ¬ºè´Ÿã€æ²‰æ·€ã€å·ç¼©ã€èˆ’å¼ â€”â€”é‚£çœŸæ˜¯æˆ‘æœ‰ç”Ÿä»¥æ¥ç»å†è¿‡çš„æœ€å•çº¯è€Œåˆç¾å¥½çš„æ—¶å…‰ä¹‹ä¸€ã€‚ æˆ‘æ›´åŠ åšå®šåœ°è®¤ä¸ºï¼Œè¿™ç§åªå±äºæ¢¦å¹»çš„ä¸œè¥¿ï¼Œè¿™ç§â€œå¤©ä¸Šè¯­â€ï¼Œâ€œå¤©ç±ä¹‹éŸ³â€ï¼Œéƒ½åº”è¯¥ç•™åœ¨é‚£ä¸ªæ¢¦å¹»çš„ä¸–ç•Œé‡Œâ€”â€”å¤§æŠµä¸Šå°±æ˜¯è¦æŠŠâ€œç°å®â€å’Œâ€œæ¢¦å¹»â€å‰²è£‚å¼€æ¥å§ã€‚æˆ‘è®¤ä¸ºï¼ŒæŠŠè¿™ç§â€œæ­¤æ›²åªåº”å¤©ä¸Šæœ‰ï¼Œäººé—´éš¾å¾—å‡ å›é—»â€çš„ç¾å¥½ï¼Œå¸¦åˆ°è¿™ä¸ªç°å®çš„ã€ä»¤äººå¤±æœ›çš„ä¸–ç•Œï¼Œæ˜¯ä¸€ç§å¯¹å®ƒçš„ä¾®è¾±ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä¸æ‰“ç®—å»çœ‹çŸ¥ä¹çš„è¯„è®ºï¼Œä¸æ„¿å»çœ‹ä¹¦è¯„ï¼Œä¸æ„¿å»ä¸åˆ«äººèŠèµ·è¿™éƒ¨å°è¯´â€”â€”æˆ‘åªæƒ³æŠŠè¿™ç§æœ€å•çº¯çš„æ¢¦å¹»ï¼Œç•™ç»™æœ€çº¯ç²¹çš„ä¸–ç•Œï¼Œç²¾å¿ƒåœ°å‘µæŠ¤ã€‚ â€¦â€¦ è¯´èµ·åŸå› ï¼Œå¤§æŠµä¸Šæœ‰å¾ˆå¤šã€‚æ¯”å¦‚ç”µå½±é‡Œå‰§æƒ…çš„æ·¡è–„ï¼Œåœ¨è¿™éƒ¨å°è¯´é‡Œå¾—åˆ°äº†å¾ˆå¥½çš„å……å®ï¼Œè®©æˆ‘æ»¡è¶³å¾—å¾ˆï¼›æ¯”å¦‚é›ªé‡å’Œå­é›„ä¹‹é—´æœªæ›¾è¨€æ˜ï¼Œä½†æ˜¯å´æ— æ¯”çœŸæŒšã€æ— æ¯”çº¯ç²¹ã€æ— æ¯”åšå›ºçš„çˆ±æƒ…â€”â€”é‚£æ˜¯æœ€ç¾å¥½çš„çˆ±æƒ…äº†å§ï¼Œå®å®ˆï¼Œé™ªä¼´å¤§æ¦‚æ˜¯æœ€é•¿æƒ…çš„å‘Šç™½ï¼›æ¯”å¦‚ä¹¦ä¸­æ¯ä¸ªäººçš„å¿ƒç†æ´»åŠ¨ï¼Œç»†è…»ï¼ŒçœŸåˆ‡ï¼Œè¯»èµ·æ¥ä¸€æ°”å‘µæˆï¼›æ¯”å¦‚â€¦â€¦ ä½†æ˜¯æˆ‘æ€»æ„Ÿè§‰ï¼Œè¿™äº›å…¶ä¸­çš„æŸä¸ªï¼Œæˆ–è€…æ˜¯ä»–ä»¬çš„å¹¶é›†ï¼Œä»å®¢è§‚ä¸Šè®²ï¼Œéƒ½ä¸èƒ½æˆä¸ºè®©æˆ‘å¦‚æ­¤åŠ¨å®¹çš„ç†ç”±ã€‚ ç°åœ¨æƒ³æ¥ï¼Œä¸Šä¸€æ¬¡å¦‚æ­¤æ„ŸåŠ¨è‡³æ·±ï¼Œè¿˜æ˜¯åœ¨çœ‹çœŸäººç”µå½±ç‰ˆçš„ã€Šæˆ‘æƒ³åƒæ‰ä½ çš„èƒ°è„ã€‹çš„æ—¶å€™ã€‚æˆ‘è‡ªè®¤ä¸ºåƒè¿™ç§å…·æœ‰å¼ºå¤§æ„ŸæŸ“åŠ›çš„æ–‡è‰ºä½œå“ï¼Œç”¨åŠ¨ç”»å»è¡¨ç°å®åœ¨æ˜¯å¤ªå•è–„äº†â€”â€”æˆ–è®¸éœ€è¦å¥½çš„æ¼”å‘˜ï¼Œæˆ–è®¸éœ€è¦å¥½çš„æ–‡å­—ï¼Œæ€»ä¹‹ï¼Œå°è¯´å’ŒçœŸäººç”µå½±ï¼Œéƒ½è¦æœ‰æ›´å¥½çš„æ•ˆæœâ€”â€”å½“æ—¶å“­çš„ç¨€é‡Œå“—å•¦çš„ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“åˆ°åº•ä¸ºä½•è€Œå“­ï¼Œæ˜æ˜ç”·å¥³ä¸»ä¹‹é—´éƒ½æ²¡æœ‰ä»¤äººç¾¡æ…•çš„çˆ±æƒ…ï¼Œæ˜æ˜å¥³ä¸»æœ€åéƒ½å·²ç»åœ¨åŠç”·ä¸»å¿˜æ‰å¥¹ï¼Œæ˜æ˜æƒ…èŠ‚å°±æ˜¯é‚£ä¹ˆçš„ç®€å•ä¿—å¥—â€¦â€¦ æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚ æ€»ä¹‹ï¼Œå¾ˆç¾å°±å¯¹äº†ã€‚æˆ‘å¤§æ¦‚éœ€è¦å†è¿‡å¥½å¤šå¥½å¤šå¤©æ‰èƒ½ç¼“è¿‡æ¥å§ã€‚ç°åœ¨çš„çŠ¶æ€å¤§æ¦‚æ˜¯ä¸€é—²ä¸‹æ¥å°±ä¼šæƒ³èµ·è¨€å¶é‡Œé¢çš„å†…å®¹ï¼Œæ¯å½“ç‹¬è‡ªä¸€ä¸ªäººæ—¶ï¼Œè„‘å­é‡Œä¾¿å…¨æ˜¯$1.$ç™¾é¦™é‡Œå’Œå­é›„ä¹‹é—´å¦‚æ½ºæ½ºä¸ç»çš„æµæ°´ä¸€æ ·çš„çœŸæŒšæ„Ÿæƒ…$2.$ç™¾é¦™é‡Œæ˜¯å¦‚ä½•ä¸€ä¸ªäººæ‰›è¿‡é‚£äº›å²æœˆçš„$3.$ä»–ä»¬æœ€åç›¸é‡ä»¥åä¼šæ€æ ·ï¼Œåœ¨ä¸€èµ·ä¹‹åä¼šæ€æ ·çš„å¿«ä¹â€¦â€¦æ„Ÿè§‰è‡ªå·±ä»¿ä½›å˜æˆäº†ä¸€ä¸ªå¤šæƒ…ç»†è…»çš„å°å§‘å¨˜ï¼Œé‡å¤å›æƒ³ç€ä¹¦ä¸­çš„ä¸€å¹•å¹•ã€‚â€œå¦‚æœç«™åœ¨æ–°æµ·è¯šçš„ä½œå®¶ç«‹åœºä¸Šçœ‹ï¼Œä»–è¿™æœ¬ä¹¦å¯¹æˆ‘è¿™ä¸ªè¯»è€…æ¥è¯´ï¼Œå·²ç»æ˜¯æä¸ºæˆåŠŸçš„äº†å§â€æˆ‘å¿ƒæƒ³ã€‚ æˆ‘ç”šè‡³ä¼šå¹»æƒ³ä¸–ç•Œä¸ŠçœŸæœ‰ä¸€ä¸ªç™¾é¦™é‡Œï¼Œä¸€ä¸ªå­é›„ï¼Œä»–ä»¬åœ¨æŸä¸ªæ—¶é—´ç‚¹ç›¸é‡ã€ç›¸ä¼´ã€ç›¸æºã€ç›¸çŸ¥ã€ç›¸çˆ±â€¦â€¦é‚£è¯¥æ˜¯å¤šç¾å¥½çš„ç«¥è¯å•Šã€‚æˆ–è®¸ç™¾é¦™é‡Œç»å†çš„ä¸€åˆ‡ï¼Œå…¶èƒŒåçš„åŸå› éƒ½æ˜¯é‚£ä¹ˆçš„æ— å˜å¤´ã€ç”šè‡³æ˜¯è’è°¬â€”â€”æ¯•ç«Ÿæ˜¯é’æ˜¥æœŸçš„å­©å­ä¸€é¦–é…¿æˆçš„é”™è¯¯â€”â€”ä½†æˆ–è®¸è€å¤©æ˜¯ä¸ºäº†æœ‰ä¸ªåˆ©ç”¨å¥–èµç»™å¥¹ä¸€ä»½å®Œç¾çš„ã€ç«¥è¯èˆ¬çš„çˆ±æƒ…ï¼Œæ‰ä¼šå…ˆè®©å¥¹ç»å†ä¸€äº›ç—›è‹¦å§ã€‚æ¯•ç«Ÿå¦‚æœé›ªé‡ä¸ç»å†è¿™äº›ï¼Œæˆ–è®¸ä»–è·Ÿå­é›„å°±ä¼šæ˜¯æ°¸è¿œé™Œç”Ÿäººäº†â€¦â€¦ çªç„¶æ„Ÿè§‰è‡ªå·±çœŸçš„â€¦å±…ç„¶éƒ½å¼€å§‹ç›¸ä¿¡ä¸»è§‚å”¯å¿ƒä¸»ä¹‰äº†â€¦çœŸæ˜¯ä¸å¯æ•‘è¯åœ°æ²‰æµ¸åœ¨è¿™æœ¬ä¹¦é‡Œäº†å•Šã€‚ è¿™ç»å¯¹æ˜¯æˆ‘è¯»è¿‡çš„æœ€ç¾çš„æ•…äº‹äº†ã€‚ $\rm{Part3}$ç°åœ¨æ˜¯$3.27$çš„ä¸­åˆï¼Œæˆ‘èººåœ¨å¯‚é™çš„å®¿èˆé‡Œï¼Œçœ‹ç€ã€Šè¨€å¶ä¹‹åº­ã€‹â€”â€”å¤§æ¦‚ï¼Œâ€œä¸‰åˆ†ä¹‹ä¸€æ˜¯è¯»å®Œäº†å§?â€æˆ‘æƒ³ã€‚ â€œè¿™æœ¬ä¹¦å¤§æŠµä¸Šæ˜¯æ–°æµ·è¯šåœ¨æ‹ã€Šè¨€å¶ä¹‹åº­ã€‹ä¹‹å‰å†™çš„å§ï¼Œâ€æˆ‘æƒ³ï¼Œâ€œæ‰€ä»¥æˆ–è®¸ä¼šè·Ÿå¾ˆæ— èŠï¼Œæ¯•ç«Ÿæƒ…èŠ‚æ˜¯éƒ½çŸ¥é“çš„â€ã€‚ç¡®å®ï¼Œçœ‹å®ŒåŠ ç‰ˆã€é‡æ¸©å®Œç”µå½±ç‰ˆä¹‹åï¼Œå¦‚æœæ˜¯ç›¸åŒçš„å†…å®¹ï¼Œå¯¹æˆ‘æ¥è¯´ç¡®å®æ˜¯æœ‰ç‚¹æ¯ç‡¥ã€‚ ä½†æ˜¯å½“æˆ‘ç°åœ¨çœ‹åˆ°ä¸»è§’ä¸ºâ€œç§‹æœˆç¿”å¤ªâ€è¿™ä¸€ç« æ—¶ï¼Œä¼¼ä¹æ„Ÿåˆ°äº†ä»€ä¹ˆå¥‡æ€ªçš„äº‹æƒ…å‘ç”Ÿäº†â€”â€”ä¹¦ä¸­å¯¹ç”·ä¸»å“¥å“¥çš„æå†™å¾—å¦‚æ­¤è¯¦ç»†ï¼Œç”šè‡³ç»å¤§éƒ¨åˆ†æƒ…èŠ‚éƒ½æ˜¯åŸä½œé‡Œé¢æ²¡æœ‰çš„ã€‚è™½ç„¶å‰é¢å‡ èŠ‚é‡Œé¢ä¹Ÿæœ‰æˆ–å¤šæˆ–å°‘çš„æƒ…èŠ‚æ²¡åœ¨ç”µå½±é‡Œå‡ºç°ï¼Œä½†æ˜¯ä¸€æ•´ç« çš„å†…å®¹å…¨éƒ¨ææ‰ï¼Œä¹Ÿæœªå…å¤ªç‹ å¿ƒäº†å§ã€‚ æˆ‘çªç„¶å¼€å§‹ç€è¿·èµ·æ¥ï¼Œå¼€å§‹è§‰å¾—æ–°æµ·è¯šæ˜¯ä¸ªå°å¤©æ‰äº†â€”â€”å…¶æƒ…èŠ‚è®¾ç½®çš„æ˜¯å¦‚æ­¤çš„åˆç†ï¼Œè®©æˆ‘è¶Šæ¥è¶Šæ„Ÿåˆ°æ»¡è¶³ã€‚åŸæœ¬å›°å€¦çš„æˆ‘ä¼¼ä¹æ¥äº†ç²¾ç¥ï¼Œâ€œä¸€å®šè¦èµ¶ç´§è¯»å®Œâ€ï¼Œæˆ‘å¿ƒæƒ³ã€‚ â€¦â€¦ è¯»å®Œä¹‹åï¼Œåè®°é‡Œé¢æ–°æµ·è¯šæ˜¯è¿™ä¹ˆæè¿°çš„ï¼š æˆ‘ä¸€ç›´å•æ‹ç€å°è¯´ã€‚ä¸åªæ˜¯å°è¯´ï¼Œæˆ‘è§‰å¾—è‡ªå·±ä¹Ÿä¸€ç›´å•æ‹ç€æ¼«ç”»ã€ç”µå½±ã€åŠ¨ç”»ä¸ç°å®ä¸­çš„é£æ™¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ˜¯ä¸€ç§ã€Œæˆ‘å–œæ¬¢å¯¹æ–¹ï¼Œå¯¹æ–¹å´å¯¹æˆ‘æ²¡ä»€ä¹ˆå…´è¶£ã€çš„çŠ¶æ€ã€‚æˆ‘ä¹ŸçŸ¥é“è‡ªå·±æ˜¯å››åå‡ å²çš„æˆå¹´äººäº†ï¼Œä¸è¯¥å†æƒ³è¿™äº›æ²¡æœ‰æ„ä¹‰çš„äº‹ï¼Œä½†æˆ‘å´æ€ä¹ˆæ ·ä¹Ÿæ‘†è„±ä¸äº†è¿™ç§æƒ…ç»ªã€‚ â€¦â€¦ å†™å°è¯´æ˜¯å¾ˆæ„‰å¿«çš„ï¼Œæˆ‘èƒ½å¤Ÿå°½æƒ…å†™å‡ºåŠ¨ç”»è¡¨è¾¾ä¸å‡ºæ¥çš„æƒ…èŠ‚ï¼Œæˆ–æ˜¯å¾ˆéš¾çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œå†™åˆ°ã€Œå¥¹çš„è„¸ä¸Šæµ®ç°è¿·é€”å­©å­èˆ¬çš„å¾®ç¬‘ã€ï¼Œæˆ‘å°±ä¼šï¼ˆå¯¹èº«ä¸ºåŠ¨ç”»å¯¼æ¼”çš„è‡ªå·±ï¼‰ç¤ºå¨ï¼šã€Œæ€æ ·ï¼ã€æ€æ ·ï¼Ÿè¿™å¥è¯å¾ˆéš¾ç”¨å½±åƒè¡¨ç°å§ï¼æ¼”å‘˜èƒ½æ°å¦‚å…¶åˆ†è¯ é‡Šå‡ºã€Œè¿·é€”å­©å­èˆ¬çš„è¡¨æƒ…ã€å—ï¼ŸåŠ¨ç”»å¸ˆèƒ½ç”»å‡ºæ¯ä¸ªäººä¸€çœ‹å°±çŸ¥é“æ˜¯ã€Œè¿·é€”å­©å­ã€çš„è„¸å—ï¼Ÿä¸å¯èƒ½ï¼ä¸å®‰çš„è¡¨æƒ…æˆ–è®¸å¯ä»¥åŠåˆ°ï¼Œä½†æ˜¯ã€Œè¿·é€”å­©å­èˆ¬çš„ã€è¿™ç§ç®€æ´æ˜ç™½çš„å½¢å®¹ï¼Œå¾ˆéš¾åˆ©ç”¨å½±åƒå‘ˆç°ã€‚åˆæˆ–æ˜¯å½“æˆ‘å†™åˆ°ï¼šã€Œé—¨å¤–çš„å–§é—¹å£°ï¼Œå®›å¦‚ä»è€³æœºé‡Œå¤–æº¢çš„å£°éŸ³â€¦â€¦ã€ï¼Œæˆ‘å°±ä¼šç‹ç¬‘å¿ƒæƒ³ï¼šã€Œè¿™ä¸ªä½ ï¼ˆå½±åƒï¼‰ä¹Ÿåšä¸åˆ°å§ï¼Ÿã€è§‚ä¼—æ— æ³•ä»æ•™å®¤çš„ç¯å¢ƒéŸ³è”æƒ³åˆ°è€³æœºå£°éŸ³å¤–æº¢äº‘äº‘ã€‚æˆ‘é€è¿‡å†™ä½œåˆ‡èº«æ„Ÿå—åˆ°ï¼Œå°è¯´çš„ä¹è¶£å°±åœ¨äºæ–‡å­—çš„è¿ç»“ã€‚æˆ‘æ³¨æ„åˆ°è‡ªå·±åˆ©ç”¨å†™åè®°çš„æ–¹å¼æ¥å›é¡¾é‚£æ®µæ—¶å…‰æ—¶ï¼Œå°±ä¼šç‹¬è‡ªæ„Ÿåˆ°é›€è·ƒä¸å·²ï¼Œæ€»ä¹‹å°±æ˜¯éå¸¸åœ°å¹¸ç¦ã€‚ â€¦â€¦ å†™å®Œä¸€æœ¬ä¹¦æœ€å¤§æ”¶è·ï¼Œåè€Œæ˜¯æ›´åŠ æ·±äº†æˆ‘å¯¹äºå°è¯´å’ŒåŠ¨ç”»çš„å•æ‹æƒ…æ€€ã€‚åæ­£æˆ‘æœ¬æ¥å°±ä¸æœŸå¾…ä¸¤æƒ…ç›¸æ‚¦ã€‚æˆ‘æœ‰æ—¶ä¼šæƒ³åˆ°ï¼Œå­é›„å¯¹é›ªé‡çš„æ„Ÿæƒ…ï¼Œæ˜¯å¦ä¹Ÿæœ‰ç›¸ä¼¼çš„ä¸œè¥¿ï¼Ÿè‹¥è¿™ä¹ˆè¯´æ¥ï¼Œæœ¬ä¹¦é‡Œçš„è§’è‰²å¤šå¤šå°‘å°‘éƒ½åœ¨å•æ‹ã€‚æˆ‘é‡æ–°ä½“æ‚Ÿåˆ°è‡ªå·±æƒ³å†™çš„ï¼Œå°±æ˜¯äººä»¬çš„è¿™ç§å¿ƒæƒ…â€”â€”å­¤å•æ¸´æœ›æŸä¸ªäººã€æŸé¡¹äº‹ç‰©çš„å¿ƒç¼–ç»‡å‡ºè¿™ä¸ªä¸–ç•Œã€‚è€Œæœ¬ä¹¦æƒ³è¦æè¿°çš„å°±æ˜¯è¿™ç‚¹ã€‚åœ¨ã€Œçˆ±ã€ä»¥å‰ï¼Œè¿™æ˜¯æ®µã€Œå­¤ç‹¬å¸Œæ±‚ã€çš„æ•…äº‹ã€‚è¿™å¥è¯æ˜¯ç”µå½±ç‰ˆçš„å®£ä¼ æ–‡æ¡ˆã€‚æƒ³å¿…ç°ä»£ä¹Ÿæœ‰ä¸å°‘äººå¯¹äºè¿œåœ¨ä¸€åƒä¸‰ç™¾å¹´å‰çš„ä¸‡å¶æ—¶ä»£ï¼Œå°†ã€Œæ‹çˆ±ã€è¿™ä¸ªå­—ï¼Œå†™ä½œã€Œå­¤æ‚²ï¼ˆå­¤å¯‚æ‚²ä¼¤ï¼‰ã€æ·±è¡¨åŒæ„Ÿã€‚ æˆ‘æƒ³ï¼Œè¿™å¤§æ¦‚ä¹Ÿæ˜¯è¿™éƒ¨å°è¯´è¿·äººçš„å› ç´ ä¹‹ä¸€å§â€”â€”åŸæœ¬å°±å·²ç»å¾ˆå®Œæ•´çš„æƒ…èŠ‚ï¼ŒåŠ ä¸Šå¦™ç¬”çš„å‹¾å‹’ï¼Œç¬é—´æ´»çµæ´»ç°èµ·æ¥ã€‚ $\rm{Part~4}$é€‰äº†å‡ æ®µæ”¾åˆ°è¿™é‡Œï¼Œç•™ä½œçºªå¿µã€‚ é¦–å…ˆæ˜¯æœ€åï¼Œå­é›„å’Œé›ªé‡é‡é€¢çš„æƒ…æ™¯ï¼š èµ°è¿‡æ—¥æœ¬åº­å›­çš„æœ¨æ¡¥ï¼Œé›¨å£°åˆèµ·äº†äº›å¾®å˜åŒ–ã€‚æ ‘å¶æ‘‡æ›³çš„å£°éŸ³ï¼Œèƒœè¿‡é›¨æ»´æ•²æ‰“æ°´é¢çš„å£°éŸ³ã€‚è‡ªåˆ¶çš„é›•èŠ±çš®é‹ï¼Œç¼“ç¼“è¸åœ¨åœŸå£¤ä¸Šçš„è„šæ­¥å£°ï¼Œä¼´ç€ç»¿ç»£çœ¼æ¸…è„†çš„é¸£å•­ã€‚è¶Šè¿‡æ—¥æœ¬é»‘æ¾æ‰€è§åˆ°çš„æ°´é¢ã€æœé¹ƒèŠ±å€’æ˜ åœ¨æ°´é¢ä¸Šçš„ç²‰çº¢è‰²ã€åƒå¤´èµ¤æ¾æ ‘çš®çš„çº¢è‰²ï¼Œä»¥åŠæ«å¶çš„ç¿ç»¿è‰²ã€‚å­é›„çš„åèƒŒåŒ…é‡Œè£…ç€ä¸ºé‚£ä¸ªäººæ‰“é€ çš„é‹å­ã€‚é‚£æ˜¯ä¸€åŒçº¦äº”å…¬åˆ†é«˜çš„å°å·§å°–å¤´é«˜è·Ÿé‹ï¼Œé‹å°–æ˜¯æµ…ç²‰çº¢è‰²ï¼Œé‹èº«æ˜¯è¿‘ä¹ç™½è‰²çš„æµ…è‚¤è‰²ï¼Œè„šè¸µå¤„æ˜¯ä»¿ä½›é˜³å…‰ç…§è€€çš„æŸ æª¬é»„è‰²ï¼Œç¼ ç»•åœ¨è„šè¸ä¸Šçš„é•¿è„šè¸å¸¦ä¸Šç¼ç€æ«å¶çš„å½¢çŠ¶ã€‚è¿™åŒé‹æ˜¯ä¸ºäº†é‚£ä¸ªäººæ‰“é€ ï¼Œä¸€å®šå¯ä»¥èµ°å¾—æ›´é•¿æ›´è¿œã€‚ä¸çŸ¥ä»ä½•å¤„ä¼ æ¥è€ä¹Œé¸¦å¼ºæœ‰åŠ›çš„é¸£å«ï¼Œè¿œæ–¹çš„å¤©ç©ºéšçº¦å“èµ·äº†é›·é¸£å£°ã€‚â€”â€”éšçº¦é›·é¸£ã€‚å­é›„è„±å£è€Œå‡ºè¿™å¥è¯ã€‚ä¸€è‚¡é¢„æ„Ÿå……æ»¡å…¨èº«ã€‚å·²ç»å¯ä»¥çœ‹åˆ°æµ¸æ¹¿æ«å¶åä¾§çš„å‡‰äº­ï¼Œé‚£é‡Œåç€ä¸€ä¸ªäººã€‚å­é›„å¸å…¥é›¨æ°´çš„æ°”å‘³ï¼Œå…‹åˆ¶ä½è‡ªå·±çš„å¿ƒæƒ…ï¼Œç»§ç»­èµ°å‘å‡‰äº­ï¼Œç©¿è¿‡å±‚å±‚æ ‘å¶åï¼Œæ•´åº§å‡‰äº­æ˜ å…¥çœ¼å¸˜ã€‚é‚£æ˜¯ä¸€ä½ç©¿ç€æµ…ç»¿è‰²è£™å­çš„å¥³äººã€‚å­é›„åœä¸‹è„šæ­¥ã€‚æœ‰ç€ä¸€å¤´å‰ªè‡³é½è‚©æŸ”è½¯çŸ­å‘çš„å¥³äººï¼Œæ­£æŠŠå’–å•¡ä¸¾åˆ°å˜´è¾¹ï¼Œå¥¹è½»è½»ç¥äº†ä»–ä¸€çœ¼ã€‚çœ‹ç€é›ªé‡ä»å¿«è¦å“­å‡ºæ¥çš„ç´§ç»·è¡¨æƒ…ï¼Œé€æ¸ç»½å¼€ç¬‘å®¹ã€‚å­é›„å¿ƒæƒ³ï¼Œé›¨å¥½åƒåœäº†ã€‚ ç„¶åæ˜¯å­é›„è¡¨ç™½å®Œã€é›ªé‡æ‹’ç»åï¼Œé›ªé‡çš„å¿ƒå£°ï¼š ã€Œå¯æ˜¯ä½ çš„è¡£æœè¿˜æ²¡å¹²â€¦â€¦ã€é›ªé‡æœ›ç€ä»–è¿œå»çš„èƒŒå½±ï¼Œä¸ç”±å¾—å¤§å«ã€‚ä¸å¯¹ï¼Œè¿™æ ·æ­£å¥½ã€‚é›ªé‡é€¼è‡ªå·±æ”¶å›è§†çº¿ï¼Œä½å¤´çœ‹ç€æ‰‹ä¸­çš„å’–å•¡æ¯ï¼Œéšçº¦å¬è§ä»–å…³ä¸Šæ›´è¡£é—´çš„é—¨ã€‚é›ªé‡æŠŠè¿˜æ²¡å–ä¸Šä¸€å£çš„å’–å•¡æ¯ä¸¾åˆ°å˜´è¾¹ï¼Œè¢…è¢…å‡èµ·çš„çƒ­æ°”å¾®å¾®æ²¾æ¹¿äº†ç«æ¯›ã€‚å¥¹æƒ³è¦å–å’–å•¡ï¼Œå´è§‰å¾—æ¯å­æ²‰é‡å¼‚å¸¸ï¼Œåªå¾—æŠŠå®ƒæ”¾å›æ¡Œä¸Šã€‚é›ªé‡ä½“å†…æœ‰ä¸€å›¢åƒåˆºçŒ¬èˆ¬å¸¦åˆºçš„æƒ…ç»ªï¼Œç¬¨æ‹™åœ°å››å¤„ä¹±é—¯ã€‚è¿™æƒ…ç»ªä¼¼ä¹æ˜¯åæ‚”å’Œå†…ç–šï¼Œæ­£ä¸€é˜µé˜µåˆºç—›é›ªé‡çš„å¿ƒå¹¶æ²‰é»˜åœ°è´£æ€ªå¥¹ã€‚ä¸ç„¶æˆ‘è¯¥æ€ä¹ˆåšï¼Ÿé›ªé‡å‡ ä¹å°±è¦å“­å‡ºæ¥äº†ã€‚æˆ‘ä»ä¸€å¼€å§‹å°±æ²¡æœ‰é€‰æ‹©çš„ä½™åœ°ã€‚æˆ‘æ˜æ˜é‚£ä¹ˆçœŸè¯šåœ°å¯¹å¾…æ¯ä¸€ä¸ªäººï¼Œæ˜æ˜æƒ³æˆä¸ºåƒé˜³èœå­è€å¸ˆé‚£æ ·æ¸©æŸ”ä½“è´´çš„å¤§äººï¼Œæ˜æ˜åŠªåŠ›å›åº”ä»»ä½•ä¸€ä¸ªéœ€è¦æˆ‘çš„äººã€‚é›ªé‡çœ‹ç€é€æ¸ç¨€è–„çš„å’–å•¡çƒ­æ°”ã€‚æˆ‘ä¸è¦å¾…åœ¨ä¸–ç•Œçš„å¤–å›´ï¼Œæˆ‘æƒ³è¿›åˆ°ä¸–ç•Œçš„é‡Œé¢ï¼Œæˆ‘æƒ³æˆä¸ºè¿™ä¸ªè€€çœ¼ä¸–ç•Œçš„ä¸€éƒ¨åˆ†ã€‚æˆ‘ä»¥ä¸ºåªè¦é•¿å¤§ï¼Œä¸€åˆ‡å°±ä¼šé¡ºåˆ©ï¼›æˆ‘ä»¥ä¸ºç…§è¿™æ ·ä¸‹å»ï¼Œå°±èƒ½å’Œå¤§å®¶ä¸€æ ·æ­£å¸¸ç”Ÿæ´»ã€‚å¯æ˜¯ï¼Œå´å‘ç°è‡ªå·±è¢«å·å…¥é‚£äº›åƒæ·‹é›¨èˆ¬é¿ä¸æ‰çš„ç¾éš¾é‡Œã€‚å…ˆæ˜¯ä¼Šè—¤è€å¸ˆå‡ºç°ï¼Œç„¶åç‰§é‡åŒå­¦å‡ºç°ï¼Œæœ€åç›¸æ³½åŒå­¦ä¹Ÿå‡ºç°ï¼Œæˆ‘çš„ç”Ÿæ´»å˜å¾—ä¸€å›¢ç³Ÿã€‚å¥½ä¸å®¹æ˜“æ¥åˆ°å±‹æªä¸‹å¯ä»¥èº²èº²é›¨ï¼Œè¿™å›ç§‹æœˆå‡ºç°äº†ã€‚æ¯ä¸ªäººéƒ½åœ¨æ‰°ä¹±æˆ‘çš„å¿ƒï¼Œæˆ‘æƒ³è¦é™é™åœ°å¾…ç€ã€‚ä½†æˆ‘ä¸€ä¸ªäººå°±è¿åªæ˜¯ç«™ç€ï¼Œéƒ½å¦‚æ­¤å‹‰å¼ºï¼Œæ¯å¤©å…‰æ˜¯ä¸è®©è‡ªå·±è¹²ä¸‹ï¼Œå°±å¿…é¡»è€—è´¹è«å¤§çš„åŠ›æ°”ã€‚å¬è§è„šæ­¥å£°æ…¢æ…¢ç§»è¿‘ï¼Œé›ªé‡æŠ¬èµ·å¤´ã€‚ä»–ç«™åœ¨æµ…æµ…çš„é’ç»¿è‰²å½±å­é‡Œï¼Œèº«ä¸Šå·²ç»æ¢ä¸Šåº”è¯¥è¿˜æ˜¯åŠå¹²çš„åˆ¶æœã€‚ã€Œé‚£ä¸ªï¼Œæˆ‘è¦èµ°äº†ã€‚å„æ–¹é¢æ¥è¯´ï¼Œéå¸¸æ„Ÿè°¢ä½ ã€‚ã€ä»–é™é™è¯´å®Œï¼Œæ·±æ·±ä¸€é èº¬ï¼Œä¸ç­‰é›ªé‡å›åº”ä¾¿æœç€ç„å…³èµ°å»ã€‚ã€Œå•Šï¼ã€é›ªé‡ä¸è‡ªè§‰ç¦»åº§èµ·èº«ã€‚ç­‰ç­‰ï¼Œå¤šå¾…ä¸€ä¼šå„¿å§ã€‚ä½ æ²¡æœ‰å¸¦ä¼ï¼Œå¯¹å§ï¼Ÿç­‰é›¨åœå†èµ°å§ï¼Ÿâ€”â€”ä¸å¯¹ï¼Œä¸æ˜¯è¿™æ ·ï¼Œä¸å¯ä»¥è¿™æ ·è¯´ã€‚é›ªé‡é»˜ç„¶ä¸è¯­ï¼Œåˆä¸€æ¬¡æ…¢æ…¢åå›æ¤…å­ä¸Šã€‚ä»–çš„è„šæ­¥å£°æ„ˆæ¥æ„ˆè¿œï¼Œç©¿é‹çš„å£°éŸ³ï¼Œè½¬å¼€é—¨æŠŠçš„å£°éŸ³ã€‚ç„¶åâ€”â€” å•ªå—’ã€‚å…³é—¨çš„å£°éŸ³ã€‚é‚£ä¸€ç¬é—´ï¼Œé›ªé‡çªç„¶æ„Ÿåˆ°å¾ˆæ°”æ„¤ã€‚ã€Œç¬¨è›‹ï¼ã€å¥¹å¤§å¼ä¸€å£°ï¼ŒæŠ“èµ·åç€çš„æ¤…å­ä½œåŠ¿è¦æ‰”å‡ºå»ï¼Œå¯æ˜¯ï¼Œå¥¹æ€’è§†çš„å‰æ–¹å·²ç»æ²¡æœ‰åŠä¸ªäººåœ¨ã€‚å¥¹é¡¿æ—¶æ³„æ°”åœ°æ…¢æ…¢æ”¾ä¸‹æ¤…å­ï¼Œå†æ¬¡åäº†ä¸‹æ¥ã€‚ã€Œâ€¦â€¦ç¬¨è›‹ã€‚ã€å¥¹å°å£°åœ°åˆè¯´äº†ä¸€æ¬¡ã€‚ç§‹æœˆé‚£ä¸ªç¬¨è›‹ã€‚ä¸€å‰¯å•æ–¹é¢è¢«ç”©çš„å—å®³è€…è¡¨æƒ…ã€ä¸€å‰¯è‡ªå·±æ²¡åšé”™ä»»ä½•äº‹çš„è¡¨æƒ…ï¼Œä½ æ ¹æœ¬ä¸çŸ¥é“ä½ æ²¡æ¥å‡‰äº­çš„æš‘å‡é‡Œï¼Œæˆ‘æ˜¯æ€€æŠ±ç€ä»€ä¹ˆæ ·çš„å¿ƒæƒ…åº¦è¿‡ã€‚ä½ çš„é«˜ä¸€æš‘å‡ä¸€å®šè¿‡å¾—å¾ˆæ¬¢ä¹å§ï¼ä½ å¯ä»¥æ¯å¤©å’Œå®¶äººä¸€èµ·åƒé¥­ï¼Œå¯ä»¥å’Œç­ä¸Šå¥³åŒå­¦å»å–èŒ¶ï¼Œä½ æ ¹æœ¬å®Œå…¨æ— æ³•æƒ³åƒå¤§ä½ åäºŒå²çš„å¥³äººè¿‡ç€ä»€ä¹ˆæ ·çš„ç”Ÿæ´»ã€‚ä¸€é˜µé¼»é…¸ï¼Œçƒ­æ°”å µä½å–‰å’™ï¼Œèƒ¸å£è‹¦é—·éš¾å—ï¼Œçœ¼çœ¶æ¸—å‡ºæ³ªæ°´ï¼Œå¥¹ä»¥æ‰‹æŒç´§ç´§æŒ‰ä½åŒçœ¼é˜»æ­¢è¿™ä¸€åˆ‡ï¼Œæ¹¿çœ¼çš®å†…ä¾§æµ®ç°çŠ¹å¦‚ç»†çª„è¿·å®«èˆ¬çš„ç™½è‰²çº¹è·¯ã€‚å§‹ç»ˆæåœ¨æ¡Œä¸Šçš„é‚£æ¯å’–å•¡ï¼Œä»åœ¨æ— å£°æ— æ¯åœ°æŒç»­å†·å´ç€ã€‚â€”â€”ç»“æŸè¿™æ®µæ—¶å…‰çš„äººï¼Œæ˜¯ä½ å•Šï¼é›ªé‡ä¸ç¦æœ‰äº›åŸ‹æ€¨ã€‚ä½ æœçœŸè¿˜æ˜¯ä¸ªå­©å­ã€‚å¦‚æœä½ ä¸è¯´é‚£ç§è¯ï¼Œæˆ‘ä»¬è¯´ä¸å®šè¿˜èƒ½ä¸€èµ·åƒé¥­ã€äº¤æ¢è¿ç»œæ–¹å¼ï¼Œæˆ–æ˜¯ä½ ä¼šåœ¨æˆ‘è¦å›è€å®¶é‚£å¤©æ¥é€æˆ‘ï¼Œè¯´ä¸å®šæˆ‘ä»¬è¿˜èƒ½å¤Ÿä»¥æ¸©å’Œå¹³é™ã€ç—›è‹¦æœ€å°‘çš„æ–¹å¼ï¼Œé™é™åœ°ç»“æŸæˆ‘ä»¬çš„å…³ç³»ã€‚å…¶å®æˆ‘ä¸€ç›´åœ¨å¿è€ã€‚å…¶å®æˆ‘ä¸€ç›´æ²¡æœ‰è¯´å‡ºå£ã€‚å…¶å®æˆ‘ä¸€ç›´æ²¡æœ‰è¯´å‡ºæ¥è¿‡â€”â€” æˆ‘å–œæ¬¢ä½ ã€‚ è¿˜æœ‰ä¸¤æ®µæ®µå¾ˆæœ‰åçš„æ‘˜å½•ä¸‹æ¥ï¼š äºŒåä¸ƒå²çš„æˆ‘ï¼Œä¸æ¯«ä¸æ¯”åäº”å²æ—¶å€™çš„æˆ‘èªæ˜ã€‚é›ªé‡æœ›ç€é˜³å…‰æ„ˆæ¥æ„ˆç‚«ç›®ã€å½±å­é€æ¸åŠ æ·±çš„åº­å›­ï¼Œå¸¦ç€æœ‰äººåœ¨ä¸ºè‡ªå·±æ‰“åˆ†æ•°çš„å¿ƒæƒ…ï¼Œå¦‚æ­¤æƒ³ç€ã€‚ è¿˜æœ‰å­é›„çš„æƒ…æ„Ÿçˆ†å‘ï¼š å­é›„æ•…æ„æ‰“æ–­å¥¹çš„è¯ï¼Œä»€ä¹ˆä¹Ÿä¸æƒ³å¬ï¼Œã€Œé›ªé‡å§ï¼Œè¯·ä½ å¿˜äº†æˆ‘åˆšæ‰è¯´çš„è¯ã€‚ã€ä»¿ä½›äº‹å…ˆèƒŒå¥½çš„å°è¯ï¼Œå­é›„å¾ˆè‡ªç„¶ã€å¹²è„†åœ°è¯´å‡ºè¿™å¥è¯ã€‚ä»–ç›´ç›´æœ›ç€é›ªé‡ï¼Œè¯´å‡ºå¿…é¡»è¯´çš„è¯ï¼Œè¯´å‡ºä»–è§‰å¾—ä¸ºäº†å¥¹åº”è¯¥è¦è¿™ä¹ˆè¯´çš„è¯ï¼šã€Œæˆ‘å…¶å®å¾ˆè®¨åŒä½ ã€‚ã€å¹è¿›æ¥çš„é›¨æ»´æ‰“åœ¨è„¸é¢Šä¸Šã€‚é›ªé‡ååˆ†å“€ä¼¤åœ°çœ¯ç€çœ¼ã€‚å­é›„çœŸçš„è§‰å¾—è‡ªå·±éå¸¸åŒæ¶äº‹åˆ°å¦‚ä»Šæ‰éœ²å‡ºè¿™å‰¯è¡¨æƒ…çš„å¥¹ã€‚ã€Œæˆ‘ä¸€å¼€å§‹å°±è§‰å¾—ä½ è¿™ä¸ªäººâ€¦â€¦æœ‰å¤Ÿè®¨åŒï¼Œä¸€å¤§æ—©å°±åœ¨å…¬å›­é‡Œå–å•¤é…’ï¼Œè¿˜ç•™ä¸‹è«åå…¶å¦™çš„å’Œæ­Œã€‚ã€å­é›„è¯´ç€ã€‚è¿‡å»å› ä¸ºè¿™ä¸ªé›¨å¥³è€Œå°åˆ°çš„å›°æƒ‘ã€ç„¦èºã€å«‰å¦’ã€æ†§æ†¬ã€æœŸç›¼ã€ç¥ˆæ±‚ã€å¸Œæœ›ã€ç»æœ›ç­‰æ‰€æœ‰æƒ…ç»ªï¼Œé€æ¸åŒ–ä¸ºæ€’æ„ã€‚ä»–å†ä¹Ÿç®¡ä¸ä½è‡ªå·±çš„å˜´å·´ã€‚ã€Œä½ ä»æ¥ä¸è¯´è‡ªå·±çš„äº‹ï¼Œå´è€æ˜¯æ¢å¬æˆ‘çš„äº‹ã€‚ä½ æ—©å°±çŸ¥é“æˆ‘æ˜¯ä½ çš„å­¦ç”Ÿå§ï¼Ÿä½ è¿™ç§åšæ³•æœ‰å¤Ÿå‘é„™ï¼ã€è®¨åŒï¼æˆ‘è®¨åŒè¿™ä¸ªå¥³äººã€‚ä¸€å‰¯å—åˆ°ä¼¤å®³çš„è¡¨æƒ…ï¼Œç°åœ¨åˆä¸€å‰¯è¦å“­çš„æ ·å­ï¼Œæˆ‘æœ€è®¨åŒå¥¹äº†ï¼ã€Œå¦‚æœçŸ¥é“ä½ æ˜¯è€å¸ˆï¼Œæˆ‘ç»å¯¹ä¸ä¼šå‘Šè¯‰ä½ é‹å­çš„äº‹ã€‚åæ­£ä½ ä¼šè§‰å¾—é‚£æ˜¯åšä¸åˆ°ï¼Œä¹Ÿä¸å¯èƒ½å®ç°çš„æ¢¦æƒ³ï¼Œå¯¹å§ï¼Ÿä½ ä¸ºä»€ä¹ˆä¸é‚£æ ·è¯´ï¼Ÿè¿˜æ˜¯ä½ è§‰å¾—è¿™åªæ˜¯å°å­©å­è®²çš„è¯ï¼Œéšä¾¿åº”ä»˜ä¸€ä¸‹å°±å¥½ï¼Ÿã€è®¨åŒï¼æˆ‘è®¨åŒè‡ªå·±åƒå­©å­ä¸€æ ·ï¼Œä¸ºè¿™ç§äº‹æƒ…åš·åš·ã€‚ã€Œä½ ä¸€å¼€å§‹å°±çŸ¥é“æˆ‘å‘å¾€ä»€ä¹ˆã€æ†§æ†¬è°ï¼Œä¹ŸçŸ¥é“é‚£ä¸ªäººä¸ä¼šæ¥å—ã€ç›®æ ‡æ°¸è¿œä¸ä¼šå®ç°ã€‚ä½ éƒ½çŸ¥é“ï¼ã€æˆ‘è®¨åŒè‡ªå·±åœ¨å¥³äººé¢å‰å“­å¾—è¿™ä¹ˆéš¾çœ‹ï¼Œæˆ‘ä¸€ç›´ä¸€ç›´åŠªåŠ›å½“ä¸ªå¤§äººï¼Œä½ å´æŠŠæˆ‘å˜æˆè¿™å‰¯æ¨¡æ ·ã€‚æˆ‘è®¨åŒä½ ï¼ã€Œâ€¦â€¦æ—¢ç„¶å¦‚æ­¤ï¼Œä½ åº”è¯¥ä¸€å¼€å§‹å°±å¯¹æˆ‘è¯´å•Šï¼è¯´æˆ‘ç¢äº‹ï¼è¯´è‡­å°å­å¿«å»ä¸Šå­¦ï¼è¯´ä½ è®¨åŒæˆ‘ï¼ã€ä½†å¦‚æœä¸è¿™ä¹ˆåšï¼Œæˆ‘ä¼šä¸€è¾ˆå­éƒ½çˆ±ç€ä½ ã€‚å¥½å–œæ¬¢å¥½å–œæ¬¢å¥½å–œæ¬¢ï¼Œå°±è¿ç°åœ¨çš„æ¯ä¸€åˆ†æ¯ä¸€ç§’ä¹Ÿæ›´åŠ å–œæ¬¢ä½ ã€‚ã€Œä½ å°±ä¸€ç›´é‚£æ ·â€¦â€¦ã€â€”â€”å¼€ä»€ä¹ˆç©ç¬‘ï¼Œæ€ä¹ˆè¿ä½ ä¹Ÿå“­äº†ï¼Ÿã€Œä½ å°±ä¸€ç›´é‚£æ ·ï¼Œæ‘†å‡ºè‹¥æ— å…¶äº‹çš„è¡¨æƒ…â€¦â€¦ã€ç§‹æœˆçš„æ³ªæ°´æ»´æ»´ç­”ç­”æ»‘è½ï¼Œå¤§å¼ç€ã€‚ã€Œâ€”â€”ä¸€ç›´å­¤å•ä¸€äººï¼Œåº¦è¿‡ä¸€ç”Ÿå§ï¼ã€ â€¦â€¦ ä»Šå¤©æ˜¯ä¸‰æœˆäºŒåä¹æ—¥ï¼Œæˆ‘çªç„¶å¥½åƒæ˜ç™½äº†è‡ªå·±å¦‚æ­¤ç€è¿·ä¸è¿™ä¸ªæ•…äº‹çš„åŸå› ã€‚ å­¤ç‹¬ã€‚ å¯¹ï¼Œå°±æ˜¯è¿™ä¸ªè¯ï¼Œå­¤ç‹¬ã€‚ æ— è®ºæ˜¯ã€Šæˆ‘æƒ³åƒæ‰ä½ çš„èƒ°è„ã€‹çœŸäººç”µå½±ä¹Ÿå¥½ï¼Œã€Šè¨€å¶ä¹‹åº­ã€‹ä¹Ÿå¥½ï¼Œç”·ä¸»ä¸€ç›´æ˜¯å­¤ç‹¬çš„â€”â€”åªä¸è¿‡ä»–ä»¬è‡ªå·±ä¸è§‰å¾—å­¤ç‹¬ï¼Œä½†æ˜¯å´æœ‰ä¸€ç§å‘¼ä¹‹æ¬²å‡ºçš„å­¤ç‹¬æ„Ÿï¼›ç´§æ¥ç€ä»–ä»¬åˆ†åˆ«é‡åˆ°äº†å¥³ä¸»ï¼Œä»æ­¤å¼€å§‹ä¸å†å­¤ç‹¬â€”â€”å­é›„å¯ä»¥æ¯é€¢é›¨å¤©å»äº­å­é‡Œå’Œé›ªé‡ç›¸è§ï¼Œæ˜¥æ ‘ä¹Ÿå¯ä»¥æ¯å¤©æœ‰æ¨±è‰¯ä¸ºä¼´â€”â€”è™½ç„¶ä¸æ¸…æ¥šæ˜¥æ ‘åˆ°åº•å–œä¸å–œæ¬¢è¿™æ ·ã€‚ æ€»ä¹‹ï¼Œæœ¬æ¥å•è°ƒçš„ç”Ÿæ´»ï¼Œçªç„¶å°±å¤šå½©äº†èµ·æ¥ï¼šçœ¼å‰æ˜¯æœªæ›¾è§è¿‡çš„äº®ä¸½æ™¯è‰²ã€‚ä¸€åˆ‡ä»¿ä½›æ˜¯å‘½ä¸­æ³¨å®šï¼Œæœ‰ç§å¤©èµçš„ä½¿å‘½æ„Ÿè®©ä½ çˆ±å¥¹ï¼Œè€Œå¥¹ä¹Ÿè®©ä½ çš„ç”Ÿæ´»çœ‹èµ·æ¥æ²¡æœ‰é‚£ä¹ˆæ— èŠâ€”â€”â€œæ¯ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­ã€‚éƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿâ€ï¼Œå¥¹æˆ–è®¸å°±æ˜¯ä½ ç”Ÿå‘½ä¸­çš„é¢†èˆè€…ã€‚æ€»ä¹‹ï¼Œå¿ƒä¸­å¦‚åŒæ‹¨äº‘è§æ—¥äº†ä¸€æ ·ï¼Œæœ‰ç€æ˜å¿«çš„èŠ‚å¥å’Œçˆ½æœ—çš„æ—‹å¾‹ã€‚ æˆ–è®¸æ–°æµ·è¯šå·²ç»è¯´å‡ºæ¥äº†ï¼Œä»–æƒ³è¥é€ çš„å°±æ˜¯â€œå­¤ç‹¬â€çš„æ°”æ°›ï¼Œè€Œè¿™å†°å‡‰å†°å‡‰çš„å­¤ç‹¬å¦‚åŒä¸€æŠŠæœ‰ç€æ°´èœœæ¡ƒé¦™æ°”çš„ç®­ï¼Œç©¿è¿‡æˆ‘èƒ¸è…”å‰è–„è–„çš„å‡ å±‚è‚Œè‚¤ï¼Œç›´æˆ³æˆ‘å†…å¿ƒæœ€æŸ”è½¯çš„åœ°æ–¹â€”â€”æˆ‘å¥½å­¤ç‹¬å•Šã€‚ æˆ–è®¸ä¸€æ—¦æˆ‘å¿™èµ·æ¥ï¼Œæˆ‘å°±ä¸å†å¯¹ã€Šè¨€å¶ã€‹æœ‰è¿™ä¹ˆæ·±åšçš„æ„Ÿæƒ…äº†ï¼›æˆ–è®¸ä¸€æ—¦æˆ‘æœ‰äº†å¯ä»¥è®©æˆ‘çš„ç”Ÿæ´»çƒ­é—¹èµ·æ¥çš„äººï¼Œæˆ‘å°±ä¸å†å¯¹ã€Šè¨€å¶ã€‹æœ‰è¿™ä¹ˆæ·±å±‚æ¬¡çš„å…±é¸£äº†ï¼›æˆ–è®¸â€¦â€¦ ä½†æˆ‘æ²¡æœ‰å•Šï¼Œå“ˆã€‚ ä½†æ˜¯æˆ‘å› æ­¤è€Œæ‚²ä¼¤å—ï¼Ÿæˆ–è®¸å§ã€‚ä½†æˆ‘æ›´åº†å¹¸å¯ä»¥æœ‰è¿™ä¸ªæœºä¼šï¼Œæƒ³æœªè°™ä¸–äº‹çš„å°å¥³å­©ä¸€æ ·è‚†æ„å¹»æƒ³è¿™ä¸ªä¸–ç•Œä¸Šæœ€ç¾å¥½çš„ä¸œè¥¿ã€‚è¿™å¯¹æˆ‘æ¥è¯´ï¼Œæˆ–è®¸å·²ç»è¶³å¤Ÿäº†ã€‚ å¤©è¾¹æ˜¯ä¸€æŠ¹é£˜é€¸çš„é±¼è‚šç™½ï¼Œç‚¹ç¼€ç€ä¸€åªé‡‘é»„è‰²çš„å¤ªé˜³ï¼Œéšå·èˆ’çš„äº‘åœ¨ç¢§è“çš„å¤©ç©ºä¸­æ‘‡æ›³ï¼Œæœ‰ç€åˆ«è‡´çš„ç¾æ„Ÿã€‚ $\rm{Part~5/Ending}$ä»Šå¤©æ˜¯$3$æœˆ$31$æ—¥ï¼Œæˆ‘ç»ˆäºå¯ä»¥ç›´é¢ä¸€äº›ä¸œè¥¿äº†ã€‚æ¯”å¦‚æˆ‘åœ¨å¬åˆ°è¨€å¶çš„ä¸»é¢˜æ›²æ—¶ï¼Œä¸åœ¨æ„Ÿåˆ°å­¤ç‹¬å’Œå‹æŠ‘ï¼Œæ›´å¤šçš„åˆ™æ˜¯å¯¹æ–°ç”Ÿæ´»çš„ç›¼æœ›ã€‚ æˆ‘ä¸€ç›´åœ¨æƒ³ï¼Œè¿™æœ¬ä¹¦åˆ°åº•èƒ½å¸¦ç»™æˆ‘ä»€ä¹ˆã€‚ æ˜¯å¦‚ä½•å°å¿ƒåœ°å‘µæŠ¤ä¸€ä¸ªäººå—ï¼Ÿæ˜¯ä¸ºäº†ä¸€ä¸ªç›®æ ‡ï¼ˆæ¯”å¦‚å­é›„å¯¹åˆ¶é‹ï¼‰è¦ä¸æ–­æŠ«è†æ–©æ£˜å—ï¼Ÿæ˜¯è¦åšå¼ºå—ï¼Ÿæ˜¯è¦çæƒœèº«è¾¹æ¯ä¸€ä¸ªäººå—ï¼Ÿæ˜¯â€¦â€¦ï¼Ÿâ€¦â€¦ æˆ‘ä¸çŸ¥é“ï¼Œä½†æˆ‘è§‰å¾—æˆ‘åˆ—ä¸¾çš„æ¯ä¸ªç›®çš„éƒ½å¤ªè‚¤æµ…ã€‚ æˆ–è®¸è¯»ä¹¦ï¼Œè¯»ä¸€ä¸ªä»¤äººæ„ŸåŠ¨çš„æ•…äº‹ï¼ŒçœŸçš„ä¸ä¼šå¸¦æ¥ä»€ä¹ˆç‰¹åˆ«çš„ä¸œè¥¿ã€‚ä½†é‚£ä¼šåŒ–æˆè¡€ä¸è‚‰ï¼Œå¡«å……è¿›æˆ‘çš„èº«ä½“ï¼›ä¼šåŒ–æˆä¸€ç¼•é’çƒŸï¼Œè¿·è’™åœ¨æˆ‘çš„è„‘æµ·é‡Œï¼Œæœ€ç»ˆæ²‰ç§¯ä¸‹æ¥ï¼Œåˆ°å®ƒåº”è¯¥åˆ°çš„åœ°æ–¹å»ã€‚ è¯´çš„å¤ªæ¨¡ç³Šäº†ï¼Œâ€œåˆ°å®ƒåº”è¯¥åˆ°çš„åœ°æ–¹å»â€ï¼Œç©¶ç«Ÿæ˜¯åˆ°å“ªå»å‘¢ï¼Ÿæ˜¯æ²‰ç§¯åˆ°è„‘è¢‹é‡Œï¼Œæ²‰ç§¯åœ¨å¿ƒé‡Œï¼Œè¿˜æ˜¯æ²‰ç§¯åœ¨æˆ‘èº«ä½“ä¸Šéšä¾¿å“ªä¸ªå™¨å®˜ä¸Šï¼Ÿåˆæˆ–è®¸å®ƒæ ¹æœ¬ä¸ä¼šåœç•™ï¼Œäºæˆ‘è€Œè¨€åªæ˜¯ä¸€ä¸ªè¿‡å®¢ï¼Œå¯ä»¥çªç„¶ä»æˆ‘èº«ä¸Šè’¸å‘èµ°å‘¢â€¦â€¦ï¼Ÿ æˆ‘ä¸ä¼šçŸ¥é“â€”â€”æ¯•ç«Ÿï¼Œæˆ‘è¿è‡ªå·±çš„è·¯éƒ½ä»ä¸çŸ¥è¦å¦‚ä½•å»èµ°ï¼Œæˆ‘è¿è‡ªå·±çš„å»å¤„éƒ½ä»ä¸çŸ¥è¯¥ä½•å¤„å¯»è§…ï¼Œè¿™ç§äº‹æƒ…æˆ‘ä¹Ÿæ›´ä¸ä¼šçŸ¥é“äº†å§ã€‚ $\mathfrak{Orchidany, 3,31,2019}$]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>éšæƒ³/ä¸‹ä¸‹ç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¿æ€§è§„åˆ’å…¥é—¨Â·å¯¹å¶å®šç†]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F19%2F%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E5%AF%B9%E5%81%B6%E5%AE%9A%E7%90%86%2F</url>
    <content type="text"><![CDATA[$\rm{Preface:} About~Duality~Theorm$çº¿æ€§è§„åˆ’å¯¹å¶å®šç†ï¼šæˆ‘ä»¬æœ´ç´ çš„çº¿æ€§è§„åˆ’å¤§è‡´å¦‚ä¸‹ï¼š$$\text{æœ€å¤§åŒ–}\quad \sum c_ix_i \quad(i = 1, 2,3 \cdots n) \\\text{æ»¡è¶³çº¦æŸ} \quad \sum \limits_{j=1}^{n} a_{i,j}x_{j} \leq b_i\quad (i = 1,2,3\cdots m) \\ \qquad \qquad \qquad \quad x_j \geq 0\quad (j=1,2,3\cdots n)$$é‚£ä¹ˆæˆ‘ä»¬ç§°å®ƒçš„å¯¹å¶ä¸ºå½¢å¦‚ä¸‹çš„çº¿æ€§è§„åˆ’ï¼š$$\text{æœ€å°åŒ–}\quad \sum b_iy_i \quad(i = 1, 2,3 \cdots m) \\\text{æ»¡è¶³çº¦æŸ} \quad \sum \limits_{j=1}^{m} a_{i,j}y_{j} \geq c_i\quad (i = 1,2,3\cdots n) \\ \qquad \qquad \qquad \quad y_j \geq 0\quad (j=1,2,3\cdots m)$$ æ¢åšçŸ©é˜µè¡¨ç¤ºå°±ä¼šæ˜¯è¿™æ ·ï¼š$$\text{æœ€å°åŒ–}\quad \boldsymbol{b^Ty} \\\text{æ»¡è¶³çº¦æŸ} \quad A^T\boldsymbol{y\geq c} \\\\it{\qquad \qquad \quad} \boldsymbol {y} \geq 0$$é‚£å…¶å®æ¯”è¾ƒæ˜¾ç„¶çš„æ˜¯ï¼Œæˆ‘ä»¬åŸæ¥çº¿æ€§è§„åˆ’ä¸­çš„çº¦æŸå‘é‡ä¸ç›®æ ‡å‡½æ•°é‡Œçš„ç³»æ•°å‘é‡äº¤æ¢ï¼Œç›®æ ‡å‡½æ•°çš„æœ€å¤§åŒ–å˜æˆäº†æœ€å°åŒ–ã€‚ç°åœ¨æˆ‘ä»¬æ€è€ƒå¯¹å¶çš„æ„ä¹‰ã€‚ é¦–å…ˆå‡è®¾æˆ‘ä»¬æœ‰è¿™ä¹ˆä¸€ä¸ªçº¿æ€§è§„åˆ’ï¼š$$\text{æœ€å°åŒ–}\quad \sum b_iy_i \quad(i = 1, 2,3 \cdots m) \\\text{æ»¡è¶³çº¦æŸ} \quad \sum \limits_{j=1}^{m} a_{i,j}y_{j} \geq c_i\quad (i = 1,2,3\cdots n) \\ \qquad \qquad \qquad \quad y_j \geq 0\quad (j=1,2,3\cdots m)$$å…¶å®å°±æ˜¯ä¸Šé¢é‚£ä¸ª æˆ‘ä»¬çš„ç›®çš„å…¶å®ç­‰ä»·äºç¡®å®šç›®æ ‡å‡½æ•°çš„ä¸‹ç•Œã€‚æˆ‘ä»¬è§‚å¯Ÿæ¯ä¸€ç»„çº¦æŸï¼Œå‡è®¾æœ‰ä¸€ç»„çº¦æŸæ˜¯$$\quad \sum \limits_{j=1}^{m} a_{p,j}y_{j} \geq c_p\quad (i = 1,2,3\cdots n)$$å¹¶ä¸”æˆ‘ä»¬ä¿è¯æœ‰ï¼š$$\forall a_{p,j} \in \boldsymbol{a_p},\forall b_i \in{\boldsymbol{b}},\quad i=j \Longrightarrow b_i\geq a_{p,j}$$å¥½åƒå†™çš„å¾ˆä¸è§„çŸ©â€¦â€¦æ„æ€å°±æ˜¯å¯¹åº”é¡¹çš„ç³»æ•°ï¼Œç›®æ ‡å‡½æ•°éƒ½æ¯”è¿™ä¸ªçº¦æŸé‡Œçš„å¤§ã€‚ é‚£ä¹ˆå› ä¸º$\forall x\geq 0$ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¿è¯ç›®æ ‡å‡½æ•°çš„æœ€å°å€¼ä¸€å®šä¼šæ˜¯$c_p$ã€‚è¿™ä¸ªç»“è®ºæ˜¯æ˜¾ç„¶çš„ã€‚ æ›´è¿›ä¸€æ­¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ€åç¡®å®šçš„ä¸‹ç•Œä¸€å®šä¼šæ˜¯è¿™æ ·çš„ï¼ˆæ­¤å¤„ä¸€ç‚¹ä¹Ÿä¸ä¸¥è°¨åœ°ä½¿ç”¨äº†$\Omega$ç¬¦å·ï¼‰ï¼š$$\Omega(\rm{Aim}) = \it{\sum \limits_{j = 1}^{n}t_j\cdot\sum\limits_{i=1}^{n}\sum \limits_{k=1}^{m}a_{i,k}y_k}\\\\forall t_j \geq 0$$ è€Œå› ä¸ºæˆ‘ä»¬å¯¹äºåŸæ¥çš„çº¦æŸæœ‰$$\quad \sum \limits_{j=1}^{m} a_{i,j}y_{j} \geq c_i\quad (i = 1,2,3\cdots n)$$æ‰€ä»¥æˆ‘ä»¬å°†å…¶ä»£å›æˆ‘ä»¬ç”»å¥½çš„å¼å­é‡Œé¢ï¼š$$\Omega(\rm{Aim}) \geq \it{\sum\limits_{j=1}^{n}t_jc_j}$$é‚£ä¹ˆâ€¦â€¦ç›®æ ‡å‡½æ•°çš„ä¸‹ç•Œå°±å˜æˆäº†ä¸€ä¸ªå’Œå¼çš„ä¸Šç•Œâ€”â€”åˆå˜æˆäº†ä¸€ä¸ªæ±‚è§£ç›®æ ‡å‡½æ•°æœ€å¤§å€¼çš„é—®é¢˜ã€‚ é‚£ä¹ˆè¿™æˆ–è®¸æ„Ÿæ€§è¯æ˜äº†å¯¹å¶å®šç†çš„æ­£ç¡®æ€§ï¼Ÿ $\rm{Afterword:}Some~Typical~Problem$æ²¡è§è¿‡å§ï¼Œä¸€ç¯‡æ–‡ç« åªæœ‰å‰è¨€å’Œæ€»ç»“ å…¶å®åšä¸»å°±æ˜¯åœ¨ç–¯ç‹‚åˆ’æ°´/æ‘¸é±¼ å…¶å®å¸¸è§çš„å¯¹å¶é—®é¢˜æœ‰å¾ˆå¤šï¼Œåšä¸»åŠŸåŠ›ä¸å¤Ÿï¼Œäºæ˜¯åªèƒ½æ•´ç†ä¸€ä¸ªæ¯”è¾ƒå½¢å¼åŒ–çš„ç»“è®ºï¼š $~$æœ€å¤§æµé—®é¢˜å½¢å¼åŒ–çš„æœ€å¤§æµé—®é¢˜çš„çº¿æ€§è§„åˆ’å¦‚ä¸‹ï¼š$$\text{æœ€å¤§åŒ–}\quad \quad \quad ~f_{s\to t} \quad ~ \quad \quad \quad \quad \quad \quad \\\text{æ»¡è¶³çº¦æŸ} \quad \quad f_{u\to v} \leq L_{u \to v}\qquad (u,v) \in E \\ \qquad \quad \quad ~\sum\limits_{u}f_{u \to v} = \sum\limits_{v}f_{v \to u}\qquad u\in V \\ \qquad \qquad \qquad ~~\quad f_{u\to v} \geq 0 \qquad (u,v) \in E ~\cup \text{e(s,t)}$$å…¶ä¸­$e(u,v)$è¡¨ç¤ºé“¾æ¥$u,v$çš„è·¯å¾„é›†åˆï¼Œ$f$è¡¨ç¤ºæµé‡ï¼Œ$L$è¡¨ç¤ºå®¹é‡(Limit)ã€‚ å…¶å¯¹å¶è¿‡å»å°±ä¼šæ˜¯ï¼š$$\text{æœ€å°åŒ–}\quad \quad \quad \sum_{(u,v)\in E}L_{u\to v}d_{u \to v} \quad ~ \quad \quad \quad\\\text{æ»¡è¶³çº¦æŸ} \quad \quad d_{u\to v}-p_u+p_v \geq 0\qquad (u,v) \in E \\ \qquad \quad \quad \quad \quad \quad ~~p_s - p_t \geq 1\qquad u\in V \\ \qquad \qquad \qquad \quad p_i,d_{i\to j}\in\{0,1\} ~\qquad$$é‡Œé¢$d_{i\to j}$è¡¨ç¤º$i \to j$è¿™æ¡è¾¹æœ‰æ²¡æœ‰è¢«å‰²ï¼ŒåŒæ—¶å‡è®¾æˆ‘ä»¬å‰²å®Œä¹‹åï¼ŒåŸæ¥çš„å›¾åˆ†æˆäº†ä¸¤éƒ¨åˆ†$S$å’Œ$T$,é‚£ä¹ˆä¼šæœ‰$p_i = [i \in S]$ã€‚è¿™ä¸ªé™åˆ¶æ˜¯ä¸ºäº†ä¿è¯å‰²çš„é€»è¾‘æ€§â€”â€”æ‰€æœ‰çš„å‰²è¾¹éƒ½è¿æ¥ç€$S,T$ä¸¤ä¸ªé›†åˆï¼Œä¸”æºç‚¹å’Œæ±‡ç‚¹åœ¨ä¸åŒçš„é›†åˆã€‚ emmmæˆ‘å®åœ¨ä¸æƒ³å†æ•´ç†äº†(å†™å¼å­å¤ªéº»çƒ¦)ï¼Œç­‰ä»€ä¹ˆæ—¶å€™æˆ‘é€€å®Œå½¹é—²ä¸‹æ¥å†è¯´å§233 $\rm{Reference}$ $[1]$ :2016å›½å®¶é›†è®­é˜Ÿè®ºæ–‡ã€Šæµ…è°ˆçº¿æ€§è§„åˆ’ä¸å¯¹å¶é—®é¢˜ã€‹è‘£å…‹å‡¡Â· $^{^{[\nearrow]}}$ æå–ç ï¼švua4]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
        <category>çº¿æ€§è§„åˆ’</category>
      </categories>
      <tags>
        <tag>çº¿æ€§è§„åˆ’/å•çº¯å½¢æ³•</tag>
        <tag>çº¿æ€§è§„åˆ’/å¯¹å¶å®šç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤šé¡¹å¼2Â·NTTä»¥åŠä»»æ„æ¨¡æ•°NTT]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F17%2FNTT1-2%2F</url>
    <content type="text"><![CDATA[$0x01\quad \rm{Preface}$æ— ç‰¹åˆ«è¯´æ˜ï¼Œæœ¬æ–‡ä¸åŒºåˆ†$n$å’Œ$N$ä¸¤ç§ç¬¦å·ï¼Œå‡è¡¨ç¤ºå½¢å¼ä¸º$2^j(j \in \mathbb{N+})$çš„å¤šé¡¹å¼é•¿åº¦ï¼ˆæˆ–è€…ï¼Œæ¬¡æ•°ï¼‰ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äº$FFT$è€Œè¨€ï¼Œå…¶å¾—ä»¥ä¼˜åŒ–æˆ$\log$çš„æ ¹æœ¬åŸå› æ˜¯æ‰¾åˆ°äº†å•ä½å¤æ ¹è¿™ä¸ªä¸œè¥¿ï¼Œå¯ä»¥æ–¹ä¾¿å¤„ç†+è®¡ç®—ã€‚è€Œå¦ä¸€ç§æ–¹æ³•åˆ™æ˜¯åœ¨æ¨¡æ„ä¹‰ä¸‹ï¼Œåˆ©ç”¨åŸæ ¹çš„ç¾å¦™æ€§è´¨ï¼Œè¿›è¡Œå¤šé¡¹å¼å·ç§¯ã€‚ $\boldsymbol{NTT~\text{(Fast Number-Theoreti Transform)}}$ï¼Œå¿«é€Ÿæ•°è®ºå˜æ¢ã€‚åœ¨åˆ†æ$NTT$æ˜¯å¦‚ä½•åˆ©ç”¨åŸæ ¹ä¹‹å‰ï¼Œéœ€è¦å…ˆåˆ†æ$FFT$æ˜¯å¦‚ä½•åˆ©ç”¨çš„å•ä½å¤æ ¹$^{[1]}$ï¼š $\omega_n^n = 1$ã€‚ $\omega_n^1,\omega_n^2, \omega_n^3\cdots\omega_n^{n-1}$æ˜¯äº’ä¸ç›¸åŒçš„ï¼Œè¿™æ ·å¸¦å…¥è®¡ç®—æ‰èƒ½ä¿è¯æ’å‡ºä¸€ä¸ªå®Œæ•´çš„$n$æ¬¡å¤šé¡¹å¼ã€‚ {$\omega_n^2$} = {$\omega_{\frac{n}{2}}^{2}$}ï¼Œè¿™ä½¿å¾—é—®é¢˜è§„æ¨¡å¯ä»¥åœ¨è®¡ç®—çš„æ—¶å€™å‡åŠã€‚ $$\sum \limits _{k=0}^{n-1} (\omega_n^{j-i})^k = \begin{cases} 0 \quad i \neq j \newline n \quad i = j \newline \end{cases}$$ è¿™æ ·å¯ä»¥ä¿è¯æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨ç›¸åŒçš„æ–¹æ³•è¿›è¡Œé€†å˜æ¢ã€‚ é¦–å…ˆï¼ŒåŸæ ¹çš„åŸºæœ¬å®šä¹‰ï¼šè®¾$g$ä¸º$p$çš„ä¸€ä¸ªåŸæ ¹ï¼Œåˆ™æ»¡è¶³ï¼š$$ğ‘”^{ğ‘âˆ’1} \equiv 1(\mod p) \\âˆ€1â‰¤ğ‘˜&lt;ğ‘âˆ’1, ğ‘”^ğ‘˜ \not \equiv 1(\mod p)$$æ¢å¥è¯è¯´$g^0,g^1,g^2\cdots,g^{p-2} \quad (\bmod p)$ æ˜¯äº’ä¸ç›¸åŒçš„æ•°ï¼Œæ»¡è¶³æ€§è´¨äºŒã€‚ åŒæ—¶å¦‚æœæˆ‘ä»¬ä»¤$p-2$ä½œä¸ºè¿™ä¸ªç¾¤çš„é˜¶ï¼Œé‚£ä¹ˆ$g^{p-1}$å’Œ$\omega_n^n$ï¼Œå…¶å®å°±æ˜¯ç­‰ä»·çš„ï¼Œåªä¸è¿‡$$g^{p-1} \equiv1(\bmod~p) \ \omega_n^n=1$$è€Œå·²ã€‚äºæ˜¯å°±æ»¡è¶³æ€§è´¨ä¸€ã€‚ è€Œå¯¹äºæ€§è´¨ä¸‰ï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘ä¸€ä¸ªè½¬åŒ–ã€‚æˆ‘ä»¬å¦‚æœè¦å°†$g$ä½œä¸ºå•ä½æ ¹çš„æ›¿ä»£çš„è¯ï¼Œå°±éœ€è¦ç”¨åˆ°$g^{\frac{p-1}{N}}$ã€‚æ¢å¥è¯è¯´ï¼Œ$N | (p-1)$ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¾¿å¯ä»¥ä»¤$g_n^k \equiv g^{\frac{k(p-1)}{N}} (\bmod~p)$ï¼Œå¾—åˆ°ä¸€ä¸ªå’Œå•ä½æ ¹ç›¸ä¼¼çš„å½¢å¼ã€‚ é‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œå› ä¸º$p$æ˜¯ç´ æ•°ï¼Œæ‰€ä»¥åœ¨$g_n^n\equiv g^{\frac{N(p-1)}{N}}\equiv g^{p-1} \equiv 1 (\bmod ~p)$çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°$g_{2n}^{n} \equiv1\quad\text{or}\quad \text{-1} (\bmod~ p)$ï¼Œé‚£ä¹ˆå¹³æ–¹ä¹‹åæ€§è´¨ä¸‰ä¾¿æ˜¾è€Œæ˜“è§ï¼›æˆ–è€…è€ƒè™‘å¦ä¸€ç§æ€è·¯ï¼Œæˆ‘ä»¬æ ¹æ®åˆšæ‰å¾—å‡ºçš„ã€è·ŸäºŒæ¬¡å‰©ä½™æœ‰äº›ç›¸ä¼¼çš„å¼å­ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹ç»“è®ºï¼š$$ g_n^{\frac{n}{2}+k}=-g_n^k (\bmod~p)$$ å†ç»“åˆæ˜¾è€Œæ˜“è¯çš„æ¶ˆå»å¼•ç†$g_n^k \equiv g_{jn}^{jk}$ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè‡ªç„¶åƒ$FFT$è¯æ˜å•ä½å¤æ ¹çš„æŠ˜åŠæ€§ä¸€æ ·ï¼Œè¯å‡ºè¿™ä¸ªç»“è®ºã€‚ è‡³äºæ€§è´¨å››ï¼Œè¯æ˜çš„å¤§ä½“ç›¸ä¼¼äºå•ä½å•ä½å¤æ ¹ã€‚å³ï¼š$$ \sum\limits_{j =0}^{n-1}{(g_n^k)^j} \equiv \frac{(g_n^k)^n -1}{g_n^k -1} \Longrightarrow \frac{(g_n^n)^k -1}{g_n^k -1} \equiv \frac{(1)^k -1}{g_n^k -1} = 0$$ è€Œå¯¹äº$n=k$çš„æƒ…å†µï¼Œä¸é€‚ç”¨äºæ™®é€šçš„å‡ ä½•çº§æ•°æ±‚å’Œï¼Œæ‰€ä»¥ç›´æ¥å°±æ˜¯$\sum 1 =n$ ã€‚ $0x02\quad \rm{Codes}$å‘ƒï¼Œäºæ˜¯NTTå°±å®Œäº†ã€‚æ³¨æ„å› ä¸ºè¦ä¿è¯$N | (p-1)$ï¼Œä¸”$N$æ˜¯$2$çš„å¹‚æ¬¡ï¼Œæ‰€ä»¥ç´ æ•°$p$ä¸€å®šè¦æ˜¯$2^j+1$çš„å½¢å¼ã€‚ è‡³äºæ±‚åŸæ ¹ï¼Œä¸æ˜¯æœ¬ç•Œæ¢è®¨çš„å†…å®¹ã€‚æ™®é€šçš„NTTæ¨¡æ•°ï¼ŒåŸæ ¹å¯ä»¥èƒŒè¿‡ï¼›å…¶ä½™æƒ…å†µæš´åŠ›æ±‚+éªŒè¯å³å¯ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556int N, M, K, qaq ;const int MAXN = 3000010 ;LL A[MAXN], B[MAXN], Inv ;const double Pi = acos(-1.0) ;int i, j, k, l, Lim = 1, L, R[MAXN] ; const int P = 998244353, G = 3, Gi = 332748118 ; namespace IO&#123; const int ch_top=4e7+3; char ch[ch_top],*now_r=ch-1,*now_w=ch-1; inline int read()&#123; while(*++now_r&lt;'0'); register int x=*now_r-'0'; while(*++now_r&gt;='0')x=x*10+*now_r-'0'; return x; &#125; inline void write(int x)&#123; static char st[20];static int top; while(st[++top]='0'+x%10,x/=10); while(*++now_w=st[top],--top); *++now_w=' '; &#125;&#125;inline LL expow(LL a, LL b)&#123; register LL res = 1 ; while (b)&#123; if (b &amp; 1) (res *= a) %= P ; (a *= a) %= P, b &gt;&gt;= 1 ; &#125; return res ;&#125;void NTT(LL *J, int flag)&#123; for(i = 0; i &lt; Lim; i ++) if(i &lt; R[i]) swap(J[i], J[R[i]]) ; for(j = 1; j &lt; Lim; j &lt;&lt;= 1)&#123; LL Gn = expow(flag == 1 ? G : Gi, (P - 1) / (j &lt;&lt; 1)) ; for(k = 0; k &lt; Lim; k += (j &lt;&lt; 1) )&#123; LL g = 1 ; for(l = 0 ; l &lt; j ; l ++, g = (g * Gn) % P)&#123; LL Nx = J[k + l], Ny = g * J[k + j + l] % P ; J[k + l] = (Nx + Ny) % P, J[k + j + l] = (Nx - Ny + P) % P ; &#125; &#125; &#125;&#125;using namespace IO ;int main()&#123; fread(ch,1,ch_top,stdin); N = read(), M = read() ; while(Lim &lt;= N + M) Lim &lt;&lt;= 1, L ++ ; for(i = 0; i &lt;= N; i ++) A[i] = (read() + P) % P ; for(i = 0; i &lt;= M; i ++) B[i] = (read() + P) % P ; for(i = 0; i &lt; Lim; i ++ ) R[i] = (R[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; (L - 1)) ; NTT(A, 1), NTT(B, 1);for(i = 0; i &lt;= Lim; i ++) A[i] = (A[i] * B[i]) % P ; Inv = expow(Lim, P - 2) ; NTT(A, -1) ; for(i = 0; i &lt;= N + M; i ++) write((long long) (A[i] * Inv + P) % P) ; fwrite(ch, 1, now_w - ch, stdout) ; return 0 ;&#125; å…¶ä¸­Giè¡¨ç¤º$998244353$çš„åŸæ ¹çš„é€†å…ƒã€‚ $0x03\quad \rm{Extending}$æ¥ä¸ŠèŠ‚å†…å®¹ï¼Œ$NTT$æœ¬è´¨ä¸Šæ˜¯åªèƒ½å¤„ç†â€œ$NTT$æ¨¡æ•°ï¼ˆ$p=2^k+1$ï¼‰â€ã€‚ä½†æ˜¯å½“æˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œä»»æ„æ¨¡æ•°å–æ¨¡æ—¶ï¼Œå°±éœ€è¦æˆ‘ä»¬ç”¨$CRT$åˆå¹¶ã€‚ ç„¶åâ€¦æˆ‘ä¹Ÿä¸çŸ¥é“ä»å“ªæ‰¾åˆ°äº†ä¸€å¼ æ¯”è¾ƒæµ…æ˜¾çš„å›¾ï¼š ä½†æ˜¯è¿™ä¸ªåœ°æ–¹ä»ç„¶ä¼šå­˜åœ¨ä¸å°‘é—®é¢˜ï¼Œå·¨ä½¬KsClaå¦‚æ­¤è§£é‡Šï¼š å…·ä½“åšæ³•æ˜¯è¿™æ ·ï¼šå…ˆé€‰å–ä¸‰ä¸ªä¹˜ç§¯åœ¨$10^{23 }$ä»¥ä¸Šçš„ä¾¿äºä½¿ç”¨NTTçš„æ¨¡æ•°ã€‚åœ¨è¿™é‡Œæˆ‘é€‰çš„æ˜¯$m_1=998244353=223âˆ—119+1$ï¼Œ$m_2=1004535809=221âˆ—479+1$ï¼Œ$m_3=469762049=226âˆ—7+1$ã€‚é€‰è¿™ä¸‰ä¸ªæ¨¡æ•°çš„å¥½å¤„åœ¨äºå®ƒä»¬çš„åŸæ ¹éƒ½æ˜¯3ã€‚ç„¶åç”¨è¿™ä¸‰ä¸ªæ¨¡æ•°åšNTTï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¸‰æ¡å¼å­ï¼š$$~ansâ‰¡c_1~(\bmod m_1)\\\ansâ‰¡c_2~(\bmod m_2)\\\ansâ‰¡c_3~(\bmod m_3)$$è™½ç„¶è¿™ä¸‰æ¡å¼å­å¯ä»¥åœ¨$10^{23}$ä»¥å†…å”¯ä¸€å›ºå®š$ans$çš„å€¼ï¼Œä½†é—®é¢˜ä¹Ÿéšä¹‹è€Œæ¥ï¼š$m_1âˆ—m_2âˆ—m_3$å¾ˆå¤§ï¼Œæ— æ³•ç›´æ¥ç”¨long longå­˜ä¸‹ï¼Œè€Œç”¨long doubleä¹‹ç±»çš„åˆ™ä¼šä¸¢å¤±ç²¾åº¦ï¼Œæ‰€ä»¥æ— æ³•ç”¨æ™®é€šçš„$CRT$ã€‚éš¾é“è¦å†™é«˜ç²¾åº¦ï¼Ÿ ä¸ï¼Œæœ‰ä¸€ç§å¾ˆå¦™çš„æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é¦–å…ˆæ³¨æ„åˆ°è¿™é‡Œåªæœ‰ä¸‰ä¸ªæ¨¡æ•°ï¼Œè€Œä¸”ä¸¤ä¸ªæ¨¡æ•°ä¹˜èµ·æ¥æ˜¯ä¸ä¼šçˆ†long longçš„ï¼Œæ‰€ä»¥å¯ä»¥å…ˆåˆå¹¶å‰ä¸¤æ¡å¼å­ã€‚æ ¹æ®CRTï¼Œæœ‰ï¼š$$ansâ‰¡(c_1m_2Inv(m_2,m_1)+c_2m_1Inv(m_1,m_2))(\bmod m_1m_2)$$å…¶ä¸­$Inv(x,y)$è¡¨ç¤ºxå…³äºyçš„é€†å…ƒã€‚è¿™æ¡å¼å­æ¶‰åŠåˆ°ä¸¤ä¸ªå¾ˆå¤§çš„æ•°ç›¸ä¹˜ç„¶åå†å–æ¨¡ï¼Œè€Œç›´æ¥ç›¸ä¹˜ä¼šçˆ†long longã€‚å¯ä»¥ç”¨$O(\log(m_1m_2))$çš„å¿«é€Ÿä¹˜ï¼Œæˆ–è€…$O(1)$è½¬doubleåç›¸ä¹˜ã€‚ä¸ºäº†æ–¹ä¾¿ï¼ŒæŠŠä¸Šå¼åŒ–æˆè¿™æ ·çš„å½¢å¼ï¼š$$ansâ‰¡C(\bmod M)$$ç„¶åè®¾ï¼š$$ans=xM+C=ym_3+c_3$$æ¥ä¸‹æ¥çš„éƒ¨åˆ†æ‰æ˜¯ç²¾é«“ã€‚æˆ‘ä»¬æ±‚å‡º$x$åœ¨$\bmod m_3$æ„ä¹‰ä¸‹çš„å€¼ï¼š$$xMâ‰¡c_3âˆ’C(\bmod m_3)$$åœ¨$\bmod m_3$æ„ä¹‰ä¸‹ï¼Œ$ym_3$è¢«æ¶ˆæ‰äº†ã€‚ ç„¶åæœ‰ï¼š$$xâ‰¡(c_3âˆ’C)Mâˆ’1(\bmod m_3)$$ç®—å‡ºå³åŠéƒ¨åˆ†çš„å€¼ä¸º$q$ï¼Œåˆ™å¯ä»¤$x=km_3+qx=km_3+q$ã€‚å°†å…¶ä»£å…¥$ans=xM+C$ï¼š$$ans=(km_3+q)M+C=km_3M+qM+C$$ä¹Ÿå°±æ˜¯è¯´ï¼š$$ans=km_1m_2m_3+qM+C$$è€Œç”±äº$ansâˆˆ[0,m_1m_2m_3)$ï¼Œæ‰€ä»¥$k$å¿…ä¸º0ã€‚ä¹Ÿå°±æ˜¯è¯´$ans$å°±æ˜¯$qM+C$ï¼ç›´æ¥æŠŠè¿™æ¡å¼å­å¯¹é¢˜é¢è¦æ±‚çš„æ¨¡æ•°å–æ¨¡å³å¯. å—â€¦â€¦å…¶å®æˆ‘å°±æ˜¯åŠ äº†ä¸€émkdï¼Œä½†æ˜¯ä¹Ÿç®—æ˜¯å¤ä¹ äº†ä¸€éå§XDã€‚ æœ‰ä¸€ç‚¹æ˜¯éœ€è¦æ³¨æ„çš„ï¼š ä¸ºä»€ä¹ˆè¦é€‰ä¸‰ä¸ªä¹˜ç§¯å¤§äº$10^{23}$çš„è´¨æ•°ä½œä¸ºæ¨¡æ•°ï¼Ÿ ä¸ºäº†æ˜¯æœ€åçš„ç»“æœå¯ä»¥ä¸å–æ¨¡ å—¯ï¼Œç„¶åå°±æ˜¯æ¿å­ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#define rr register#define LL long longconst int G = 3 ;int N, M, K, qaq ;using namespace std ;const int MAXN = 600010 ;int i, j, k, l, Lim = 1, L, R[MAXN] ; int Mod, P, pr[] = &#123;469762049, 998244353, 1004535809&#125; ;LL Ans[4][MAXN], A[MAXN], B[MAXN], Inv, A1[MAXN], B1[MAXN] ;inline LL qr()&#123; LL k = 0, f = 1 ; char c = getchar() ; while(!isdigit(c)) &#123;if(c == '-') f = -1 ;c = getchar() ;&#125; while(isdigit(c)) k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48 ,c = getchar() ; return k * f ;&#125;inline LL expow(LL a, LL b, LL p)&#123; register LL res = 1 ; while (b)&#123; if (b &amp; 1) (res *= a) %= p ; (a *= a) %= p, b &gt;&gt;= 1 ; &#125; return res % p ;&#125;void NTT(LL *J, int flag)&#123; rr int i, j, k, l ; for(i = 0; i &lt; Lim; i ++) if(i &lt; R[i]) swap(J[i], J[R[i]]) ; for(j = 1; j &lt; Lim; j &lt;&lt;= 1)&#123; LL Gn = expow(G, (P - 1) / (j &lt;&lt; 1), P) ; for(k = 0; k &lt; Lim; k += (j &lt;&lt; 1) )&#123; LL g = 1 ; for(l = 0 ; l &lt; j ; l ++, g = (g * Gn) % P)&#123; LL Nx = J[k + l], Ny = g * J[k + j + l] % P ; J[k + l] = (Nx + Ny) % P, J[k + j + l] = (Nx - Ny + P) % P ; &#125; &#125; &#125; if (flag &gt; 0) return ; int Inv = expow(Lim, P - 2, P) ; reverse(J + 1, J + Lim) ; for (i = 0 ; i &lt;= Lim ; ++ i) J[i] = 1ll * J[i] * Inv % P ;&#125;void clear(LL *J, LL *L)&#123; for (rr int i = 0 ; i &lt; Lim ; ++ i) J[i] = L[i] = 0 ;&#125;void egg()&#123; return ; &#125;LL mul(LL a,LL b,LL p)&#123; LL re = 0; for (; b; b &gt;&gt;= 1,a = (a + a) % p) if (b &amp; 1) re = (re + a) % p; return re;&#125;void T_NTT()&#123; rr int i, j, k ; for (i = 0 ; i &lt;= 2 ; ++ i)&#123; P = pr[i] ; i ? clear(A1, B1) : egg() ; for (j = 0 ; j &lt;= N ; ++ j) A1[j] = A[j] ; for (j = 0 ; j &lt;= M ; ++ j) B1[j] = B[j] ; NTT(A1, 1), NTT(B1, 1) ; for (j = 0 ; j &lt; Lim ; ++ j) A1[j] = A1[j] * B1[j] % P ; NTT(A1, -1) ; for (j = 0 ; j &lt;= Lim ; ++ j) Ans[i + 1][j] = A1[j] ; &#125; rr LL Mo = 1ll * pr[1] * pr[0], k1, k2, a, b, c, mod = Mod ; LL inv1 = expow(pr[1] % pr[0], pr[0] - 2, pr[0]), inv0 = expow(pr[0] % pr[1], pr[1] - 2, pr[1]), inv3 = expow(Mo % pr[2], pr[2] - 2, pr[2]) ; for (i = 0 ; i &lt;= N + M ; ++ i)&#123; a = Ans[1][i], b = Ans[2][i], c = Ans[3][i] ; k1 = (mul(a * pr[1] % Mo, inv1, Mo) + mul(b * pr[0] % Mo, inv0, Mo)) % Mo ; k2 = ((c - k1 % pr[2]) % pr[2] + pr[2]) % pr[2] * inv3 % pr[2], Ans[0][i] = ((k2 % mod) * (Mo % mod) % mod + k1 % mod) % mod; &#125;/* LL a,b,c,t,k,M = 1ll * pr[0] * pr[1]; LL inv1 = inv(pr[1],pr[0]),inv0 = inv(pr[0],pr[1]),inv3 = inv(M % pr[2],pr[2]); for (int i = 0; i &lt;= deg; i++)&#123; a = fft[0].A[i],b = fft[1].A[i],c = fft[2].A[i]; t = (mul(a * pr[1] % M,inv1,M) + mul(b * pr[0] % M,inv0,M)) % M; k = ((c - t % pr[2]) % pr[2] + pr[2]) % pr[2] * inv3 % pr[2]; ans[i] = ((k % md) * (M % md) % md + t % md) % md; &#125;*/&#125;int main()&#123; rr int i ; N = qr(), M = qr(), Mod = qr() ; while(Lim &lt;= N + M) Lim &lt;&lt;= 1, L ++ ; for(i = 0; i &lt;= N; i ++) A[i] = qr() % Mod ; for(i = 0; i &lt;= M; i ++) B[i] = qr() % Mod ; for(i = 0; i &lt; Lim; i ++ ) R[i] = (R[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; (L - 1)) ; T_NTT() ; for(i = 0; i &lt;= N + M; i ++) printf("%d ", Ans[0][i]) ; return 0 ;&#125; äºæ˜¯è¿™ç©æ„å„¿è¿›è¡Œäº†9éNTTï¼Œé‚£æ˜¯çœŸçš„æ…¢ã€‚ã€‚ã€‚ $\rm{Reference}$ KsClaçš„$blog$ $^{^{[\nearrow ]}}$]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
        <category>å¤šé¡¹å¼</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>å¤šé¡¹å¼-NTT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ‰è¶£çš„æ•°å­¦é¢˜ Â· [NOI2002]Savage/[Violet Â· 5]æ¨±èŠ±]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F17%2FMath1%2F</url>
    <content type="text"><![CDATA[$\rm{[NOI2002]}$ Savageé“¾æ¥ï¼š$\color{violet}{Link}$ $\rm{Sol}$ä¸ç®—ç‰¹åˆ«éš¾â€¦å…¶å®å°±æ˜¯æ±‚æ–¹ç¨‹$$C_{i}+P_{i}x \equiv C_j+P_jx ~(\bmod ~M)$$ä¸å­˜åœ¨ä¸€ä¸ªè§£ä½¿å¾—$x \leq min(L_i,L_j)$æ—¶ï¼Œ$M$çš„æœ€å°å€¼ã€‚ç„¶åå› ä¸ºé¢˜ç›®ä¸­çš„æ•°æ®ï¼Œå‡è®¾æˆ‘ä»¬ä»¤æ¯ä¸ªé‡äººéƒ½åªæ˜¯ç»•ç€åœˆèµ°è€Œä¸é‡å¤ç»è¿‡å¯¹æ–¹çš„è·¯å¾„â€”â€”å³$M$çš„æœ€å¤§å€¼ï¼Œä¹Ÿä¸è¿‡æ˜¯$100\times 106\times 100 = O(1e6)$çš„çº§åˆ«ï¼Œäºæ˜¯è€ƒè™‘ç›´æ¥æšä¸¾$M$, ç„¶åcheckã€‚ç”±äºæœ€å¤šå…±æœ‰$15$ä¸ªé‡äººï¼Œä¸”å•æ¬¡exgcdæ˜¯$\log n $çº§åˆ«çš„ï¼Œæ‰€ä»¥å¤æ‚åº¦ä¸Šé™æ˜¯$O (Mn^2 \log C_{max}) &lt; \Omega(1e8)$çº§åˆ«çš„ã€‚å¦‚æœä¸æ˜¯ç²¾å¿ƒæ„é€ æ•°æ®çš„è¯ï¼Œå¯ä»¥ç›´æ¥è‰¹è¿‡å»ã€‚ å–œé—»ä¹è§çš„æ˜¯â€¦â€¦æˆ‘çš„exgcdä¼¼ä¹ä¸€å¼€å§‹æœ‰é—®é¢˜ï¼Ÿæˆ‘ä¸€å¼€å§‹æ˜¯è¿™ä¹ˆå†™çš„ï¼š 123456789inline bool check()&#123; for (i = 1 ; i &lt;= N ; ++ i) for(j = i + 1 ; j &lt;= N ; ++ j)&#123; int a = P[i] - P[j], b = M, x, y, w = C[j] - C[i] ; int qwq = exgcd(x, y, a, b) ; if (w % qwq) continue ; x = x * w / qwq ; while (x &lt;= 0) x += M ; if (x &lt;= min(L[i], L[j])) return 0 ; &#125; return 1 ;&#125; ç„¶åè§‰å¾—ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ï¼Œ$40pts$ä¹‹åæ„£äº†å¤§åŠå¤©ã€‚ è€Œäº‹å®ä¸Šè¿™ä¸ªåœ°æ–¹$x$åº”è¯¥æ˜¯ä¸€ä¸ªç‰¹è§£ï¼Œè€Œä¸æ˜¯æœ€å°è§£ã€‚æ¢å¥è¯è¯´æˆ‘ä¸ºäº†æ±‚å‡ºå‡†ç¡®çš„$x$ï¼Œåº”è¯¥ä¸æ–­å–æ¨¡$b/ \gcd(a,b)$ ä¸ºä»€ä¹ˆï¼Ÿè‡³äºä¸ºä»€ä¹ˆï¼Œä¸€å¼€å§‹æˆ‘ä¹Ÿæ‡µçš„å¾ˆã€‚ç›´åˆ°æˆ‘ç¿»å‡ºæ¥å¾ˆä¹…ä¹‹å‰æˆ‘çš„ä¸€ç¯‡é¢˜è§£ï¼š _è¿™æ˜¯ä¸Šé¢è¿™ä¸ªå¼å­ä¸ºä»€ä¹ˆå¯ä»¥è¿™ä¹ˆåšçš„è¯æ˜ï¼š_ è‹¥æœ‰$ax+by=c$ä¸”$a_0x+b_0y=c$ é‚£ä¹ˆä¾¿æœ‰$a(x-x_0)+b(y-y_0)=0$ä¸¤è¾¹åŒæ—¶é™¤ä»¥$gcd(a,b)$å¯å¾—ï¼š$\frac{a}{gcd(a,b)}(x-x_0)=-\frac{b}{gcd(a,b)}(y-y_0)$ $ \quad$ $(1)$ è€Œå› ä¸º $(\frac{a}{gcd(a,b)},\frac{b}{gcd(a,b)})=1$ æ‰€ä»¥ç”±$(1)$å¯å¾—$\frac{b}{gcd(a,b)}$æ•´é™¤$(x-x_0)$ æ‰€ä»¥å¾ˆæ˜¾ç„¶æœ‰$\frac{b}{gcd(a,b)}\times{t}={(x-x_0)},t \in Z$ é‚£ä¹ˆå°±æœ‰å¯¹äºä»»æ„ä¸€ä¸ª$x_i$ï¼Œæœ‰ $ x_i=x_0+\frac{b}{gcd(a,b)} \times{t} $ æˆ‘ç‰¹ä¹ˆâ€¦æ™ºå•†å·²ç»å›é€€åˆ°ä¸Šä¸ªä¸–çºªäº†å§$\rm{qaq}$ï¼Œè‡ªé—­äº†ã€‚ è¿™å°±æ˜¯æˆ‘æ•´ç†è¿™é“é¢˜çš„åŸå› â€¦â€¦è¿˜æœ‰ï¼Œä¸Šé¢$P_i-P_j$ä¼¼ä¹éœ€è¦å–æ¨¡å¹¶ä½¿å…¶å˜æˆæ­£çš„ï¼Œå› ä¸ºå¥½åƒæˆ‘çš„$exgcd$é‡Œé¢é™åˆ¶äº†$A&gt;0$çš„ç¼˜æ•…ã€‚ å¿ƒå¾—ï¼šæˆ‘é€€å½¹å§å˜¤ã€‚ 1234567891011121314151617181920int i, j, N, M, C[MAXN], P[MAXN], L[MAXN] ;int exgcd(int &amp;x, int &amp;y, int A, int B)&#123; if (!B) &#123; x = 1, y = 0 ; return A ;&#125; int t = exgcd(y, x, B, A % B) ; y -= A / B * x ; return t ; &#125;inline bool check()&#123; for (i = 1 ; i &lt;= N ; ++ i) for(j = i + 1 ; j &lt;= N ; ++ j)&#123; int a = (P[i] - P[j] + M) % M + M, b = M, x, y, w = C[j] - C[i], qwq = exgcd(x, y, a, b) ; if (w % qwq) continue ; x = x * w / qwq ; x = (x % (M / qwq) + (M / qwq)) % (M / qwq) ; if (!x) x += (M / qwq) ; if (x &lt;= min(L[i], L[j])) return 0 ; &#125; return 1 ;&#125;signed main()&#123; cin &gt;&gt; N ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d%d%d", &amp;C[i], &amp;P[i], &amp;L[i]), M = max(M, C[i]) ; for ( M ; ; ++ M) if (check()) &#123; cout &lt;&lt; M &lt;&lt; endl ; return 0 ; &#125; &#125; $\rm{[Violetï½5]}$ æ¨±èŠ±é“¾æ¥ï¼š$\color{violet}{Link}$ è¿™æ˜¯å¥½ä¹…ä¹‹å‰åšçš„ä¸€é“é¢˜ï¼Œçªç„¶è¢«æˆ‘å‘ç°äº†ã€‚å¤§æ¦‚å°±æ˜¯æ±‚æ–¹ç¨‹$$\frac{1}{x}+\frac{1}{y} = \frac{1}{n!}\quad (n \leq 1e6)$$çš„è§£çš„ç»„æ•°ã€‚ $\rm{Sol}$ä¸æƒ³æ€è€ƒç³»åˆ—é—®é¢˜ï¼Œæˆ‘è¿™ä¹ˆæ‡’è¿˜æ˜¯é€€å½¹å§ã€‚(sigh) æˆ‘ä»¬å°†æŸ¿å­å˜ä¸ªå½¢ï¼š$$\frac{x+y}{xy} = \frac{1}{n!} \\n!x + n!y = xy$$ç„¶åæˆ‘å°±ä¸ä¼šäº†ï¼Œæ­¤é¢˜å®Œç»“ ç„¶åæœ‰ä¸€æ­¥å¾ˆå¦™çš„æ˜¯ä¸¤è¾¹åŒæ—¶$+(n!)^2$å¾—åˆ°ï¼š$$(n!)^2 + n!(x+y) -n!(xy) = (n!)^2\\(n!-x)(n!-y)=(n!)^2$$ç„¶åå°±ä¼šå‘ç°æˆ‘ä»¬åªéœ€è¦æ‰¾å‡º$(n!)^2$çš„å› å­ä¸ªæ•°å°±å¥½äº†â€¦ å¥½åƒæˆ‘ä»æ¥æ²¡æœ‰å†™è¿‡$\tau$çš„æ ·å­ï¼Œæ—¢ç„¶è¿™æ ·æˆ‘å°±é¡ºä¾¿è®°ä¸€ä¸ªç®—å› å­ä¸ªæ•°çš„å…¬å¼å§ï¼ˆå…¶å®å°±æ˜¯ä¹˜æ³•åŸç†å•¦ï¼‰$$x = \prod p_ix^{a_i} \longleftrightarrow\tau(x) = \prod (a_i+1)$$å…¶å®å°±æ˜¯ä¸ºäº†æ°´å­—æ•° $upd ~on ~6.13$ : æˆ‘å‘ç°è‡ªå·±ä¼¼ä¹ä¹‹å‰å¬è¿‡è¿™ä¸ªé¢˜çš„â€å¦è§£â€ï¼Œä»¥å‰è‡ªå·±æ•´ç†è¿‡ï¼š $233$çªèŒæ€è€ƒä¸€ä¸ªæ¯”è¾ƒæ˜¾ç„¶çš„é—®é¢˜ï¼Œå°±æ˜¯ä¸€å®šä¼šæœ‰$y&gt;n!$ã€‚é‚£çªèŒä¸å¦¨è®¾$y = n!+T$ï¼Œé‚£ä¹ˆå¸¦å›åˆ°åŸå¼é‡Œé¢å°±ä¼šæœ‰$$\frac{1}{x} + \frac{1}{n!+T} = \frac{1}{n!}$$ç»§è€Œæœ‰$$x = \frac{n!^2}{T}+n!$$é‚£ä¹ˆå…¶å®ä¸€å…±å°±æœ‰$\tau(n!^2)$ä¸ªåˆæ³•ç­”æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬è½¬è€Œæ±‚$n!^2$çš„çº¦æ•°æ•°é‡ã€‚ ä½†æ˜¯æ˜¾ç„¶çš„æ˜¯æˆ‘ä»¬å¹¶ä¸å¯ä»¥ç›´æ¥æ±‚è§£ï¼Œå½“ç„¶æˆ‘ä¸çŸ¥é“é«˜ç²¾åº¦ä¹‹åä¼šæ€ä¹ˆæ ·ï¼Œä¼°è®¡$nlogn$ä¸€ä¸‹è¿˜æ˜¯æœ‰å¯èƒ½è¿‡çš„ã€‚ä½†æ˜¯è€ƒè™‘åˆ°å¸¸æ•°å·¨å¤§ï¼Œæ‰€ä»¥å¡è¿‡$1e6$åŸºæœ¬ä¸Šæ˜¯ç—´äººè¯´æ¢¦ã€‚æ‰€ä»¥æˆ‘ä»¬æ€è€ƒä¸€ç§æ¸…æ–°è„±ä¿—æˆ‘æ ¹æœ¬æƒ³ä¸å‡ºæ¥çš„åšæ³•ã€‚ çªèŒè€ƒè™‘ç­›å‡ºæ‰€æœ‰çš„$1-n$ç´ æ•°æ¥ï¼Œç„¶åå¯¹äºä¸€ä¸ªç´ æ•°è€Œè¨€ï¼Œç”±äºçªèŒè¦åˆ¤æ–­çš„å¯¹è±¡æ˜¯$n!$ï¼Œä»–æœ‰ä¸€ä¸ªå¥‡å¦™çš„æ€§è´¨å°±æ˜¯$$n!=\prod \limits_{i=1}^{n}{i}$$é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªéœ€è¦åˆ¤æ–­å¯¹äºä¸€ä¸ªå½“å‰ç»™å®šçš„ç´ æ•°$p$ï¼Œåœ¨$1-n$çš„æ‰€æœ‰æ•°é‡Œé¢ï¼Œ$p$ä½œä¸ºå› å­å‡ºç°äº†å¤šå°‘æ¬¡å³å¯ã€‚é‚£ä¹ˆä¹Ÿå°±æ˜¯è¿™ä¸ªå¼å­ï¼š $$Ans = \prod \limits _{p \in prime }^{p \leq n}{\sum \limits _{i \geq 1}^{p^i \leq n}{\lfloor \frac{n}{p^i}} \rfloor +1}$$ æˆ‘ä»¬æ¯æ¬¡éå†ä¸€éï¼Œä¿è¯åªåŠ ä¸€æ¬¡ï¼Œè­¬å¦‚è´¨æ•°$3$ï¼Œä¸‰çš„å€æ•°çš„ä¸ªæ•°äº§ç”Ÿçš„è´¡çŒ®æ˜¯ä¸€ï¼Œä¸‰çš„å¹³æ–¹çš„å€æ•°äº§ç”Ÿçš„è´¡çŒ®æ˜¯äºŒï¼Œä½†æ˜¯æˆ‘ä»¬ä»å‰å¾€åæ‰«çš„è¯ï¼Œæ¯æ¬¡å°±åªè¦å¢é•¿ä¸€ä¸ªè´¡çŒ®å³å¯ï¼ˆç±»ä¼¼äºå»é‡æ“ä½œ$233$ï¼‰ 1234567891011121314151617181920212223242526272829303132#include &lt;cstdio&gt;#include &lt;bitset&gt;#include &lt;iostream&gt;#define ll long long#define MAXN 10000100#define Mod 1000000007int Prime[MAXN] ;std :: bitset &lt;MAXN&gt; vis ; long long N, i, j, cnt, Ans, Cnt[MAXN] ;void Ego()&#123; vis[1] = vis[0] = 1 ; for (i = 2 ; i &lt;= N ; ++ i)&#123; if (!vis[i]) Prime[++ cnt] = i ; for (j = 1 ; j &lt;= cnt ; ++ j)&#123; if (i * Prime[j] &gt; N) break ; vis[i * Prime[j]] = 1 ; if (!(i % Prime[j])) break ; &#125; &#125; for (i = 1 ; i &lt;= cnt ; ++ i) for (j = Prime[i] ; j &lt;= N ; j *= Prime[i]) ( Cnt[i] += (N / j) ) %= Mod ; &#125;int main()&#123; std :: cin &gt;&gt; N ; Ans = 1ll, Ego() ; for (i = 1 ; i &lt;= cnt ; ++ i) (Ans *= (Cnt[i] &lt;&lt; 1) + 1) %= Mod ; std :: cout &lt;&lt; Ans % Mod &lt;&lt; std :: endl ; return 0 ;&#125;]]></content>
      <categories>
        <category>é¢˜è§£</category>
      </categories>
      <tags>
        <tag>æ•°å­¦/æ‰©å±•æ¬§å‡ é‡Œå¾·</tag>
        <tag>æ•°å­¦/ç´ æ•°/ç´ æ•°ç­›æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¥‡å¥‡æ€ªæ€ªçš„çº¿æ®µæ ‘1ï¼ˆå­æ®µå’Œ+æœ€é•¿è¿ç»­ï¼‰]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F17%2FSegment-Tree1%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å¤§æ¦‚æ˜¯æ³›åšäº†çº¿æ®µæ ‘ç›¸å…³é¢˜ç›®ï¼Œä½†æ˜¯è¿™äº›çº¿æ®µæ ‘å¤§æ¦‚éƒ½éœ€è¦æ¯”è¾ƒå¼ºçš„æ€ç»´å’Œæ¯”è¾ƒé•¿çš„ä»£ç â€¦â€¦$2333$ $\rm{Task1} $å­æ®µå’Œå…¶å®è¿™ä¸ªç®—æ˜¯æ¯”è¾ƒç®€å•çš„äº†ï¼Œæ¯•ç«Ÿ$qyfâ€‹$æ›¾ç»ç»™æˆ‘ä»¬è®²è¿‡ï¼Œå½“æ—¶æˆ‘å°±è§‰å¾—ååˆ†çš„â€¦â€¦éº»çƒ¦233. é‚£ä¹ˆä¾‹é¢˜å…¶å®å°±æ˜¯$\rm{SPOJ}$çš„$GSS$ç³»åˆ—â€”â€”çš„å‰ä¸‰é“é¢˜(åå‡ é“é¢˜éƒ½ä¸ä¼šåš) $GSS1$åŒºé—´æ±‚æœ€å¤§å­æ®µå’Œ(ä¸å¸¦ä¿®)$\color{violet}{Link}â€‹$ $2333$åº”è¯¥ç®—æ˜¯æ¯”è¾ƒç®€å•çš„äº†ã€‚æˆ‘ä»¬å¯¹äºæ¯ä¸ªåŒºé—´ç»´æŠ¤ä¸€ä¸ªåŒºé—´å’Œï¼Œç»´æŠ¤ä¸€ä¸ªä»æœ€å·¦ç«¯å¼€å§‹ä¸”å¿…é¡»åŒ…å«æœ€å·¦ç«¯å…ƒç´ çš„æœ€å¤§å­æ®µå’Œï¼Œå†ç»´æŠ¤ä¸€ä¸ªä»æœ€å³ç«¯å¼€å§‹ä¸”å¿…é¡»åŒ…å«æœ€å³ç«¯å…ƒç´ çš„æœ€å¤§å­æ®µå’Œï¼Œæœ€åç»´æŠ¤ä¸€ä¸ªåŒºé—´æœ€å¤§å­æ®µå’Œã€‚ é‚£ä¹ˆè½¬ç§»($push$_$up$)æ—¶å°±æ˜¾å¾—ååˆ†æ–¹ä¾¿ã€‚æˆ‘ä»¬çš„çˆ¶åŒºé—´çš„$Lmax$åªå–å†³äºå·¦å­åŒºé—´çš„$Lmax$å’Œå½“å·¦åŒºé—´çš„$Sum$ç­‰äº$Max$æ—¶ï¼ˆå³å·¦åŒºé—´å…¨éƒ¨éƒ½è¦çº³å…¥åˆ°å…¶æœ€å¤§å­æ®µå’Œä¸­æ—¶ï¼‰ï¼Œå·¦åŒºé—´çš„$Sum$ä¸å³åŒºé—´çš„$Lmax$çš„å’Œã€‚é‚£ä¹ˆå¯¹äºåŒºé—´çš„$Rsum$ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªé“ç†ã€‚æœ€ç»ˆå¯¹äºè¯¥åŒºé—´çš„æœ€å¤§å­æ®µå’Œï¼Œæˆ‘ä»¬ä¸è€ƒè™‘ä»å·²ç»è½¬ç§»æ¥çš„$Lmax/Rmax$ï¼Œè€Œæ˜¯è€ƒè™‘ä»å·¦å³åŒºé—´çš„$Max$ä»¥åŠå·¦å³åŒºé—´çš„å’Œæ¥è½¬ç§»ã€‚å¤§ä½“ä»£ç ï¼š 123456inline void P_u(int rt)&#123; S(rt) = S(ls(rt)) + S(rs(rt)) ; Lsum(rt) = max(Lsum(ls(rt)), S(ls(rt)) + Lsum(rs(rt))) ; Rsum(rt) = max(Rsum(rs(rt)), S(rs(rt)) + Rsum(ls(rt))) ; Sum(rt) = max(max(Sum(ls(rt)), Sum(rs(rt))), Lsum(rs(rt)) + Rsum(ls(rt))) ;&#125; è¿˜æœ‰å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹ï¼šåœ¨è¯¢é—®çš„æ—¶å€™ï¼Œå®ƒæ¯”è¾ƒè†ˆåº”â€¦â€¦å°±æ˜¯ç”±äºæ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥ä½ ä¸èƒ½ç›´æ¥åƒæ™®é€šçš„çº¿æ®µæ ‘ä¸€æ ·è¯¢é—®ç„¶ååŠ èµ·æ¥â€¦â€¦æ‰€ä»¥æ‰€å°±è¦ç±»ä¼¼äºè¾¹è¯¢é—®ï¼Œè¾¹$push_up$è¿™ç§æ„Ÿè§‰ã€‚ 123456789Tree query(int rt, int l, int r)&#123; if (L &lt;= l &amp;&amp; r &lt;= R) return T[rt] ; Tree res, A, B ; if (mid &gt;= R) return query(ls(rt), l, mid) ; if (mid &lt; L) return query(rs(rt), mid + 1, r) ; A = query(ls(rt), l, mid), B = query(rs(rt), mid + 1, r) ; res.Lsum = max(A.Lsum, A.S + B.Lsum) ; res.Rsum = max(B.Rsum, B.S + A.Rsum) ; res.Sum = max(max(A.Sum, B.Sum), A.Rsum + B.Lsum) ; res.S = A.S + B.S ; return res ;&#125; ç„¶åæ€»ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;cstdio&gt;#include &lt;iostream&gt;#define MAXN 200010#define LL long long#define max my_Fuckmax#define ls(rt) rt &lt;&lt; 1#define rs(rt) rt &lt;&lt; 1 | 1#define mid ((l + r) &gt;&gt; 1)using namespace std ;struct Tree&#123; LL S, Sum, Lsum, Rsum ;&#125;T[MAXN &lt;&lt; 1] ; int N, M, L, R, base[MAXN] ; #define S(x) T[x].S#define Sum(x) T[x].Sum#define Lsum(x) T[x].Lsum#define Rsum(x) T[x].Rsuminline LL my_Fuckmax(LL A, LL B)&#123; return A &amp; ((B - A) &gt;&gt; 63) | B &amp; ((~(B - A)) &gt;&gt; 63) ;&#125;inline void P_u(int rt)&#123; S(rt) = S(ls(rt)) + S(rs(rt)) ; Lsum(rt) = max(Lsum(ls(rt)), S(ls(rt)) + Lsum(rs(rt))) ; Rsum(rt) = max(Rsum(rs(rt)), S(rs(rt)) + Rsum(ls(rt))) ; Sum(rt) = max(max(Sum(ls(rt)), Sum(rs(rt))), Lsum(rs(rt)) + Rsum(ls(rt))) ;&#125;inline void build(int rt, int l, int r)&#123; if (l == r)&#123; T[rt].Lsum = T[rt].Rsum = T[rt].S = T[rt].Sum = base[l] ; return ; &#125; build(ls(rt), l, mid), build(rs(rt), mid + 1, r), P_u(rt) ;&#125;Tree query(int rt, int l, int r)&#123; if (L &lt;= l &amp;&amp; r &lt;= R) return T[rt] ; Tree res, A, B ; if (mid &gt;= R) return query(ls(rt), l, mid) ; if (mid &lt; L) return query(rs(rt), mid + 1, r) ; A = query(ls(rt), l, mid), B = query(rs(rt), mid + 1, r) ; res.Lsum = max(A.Lsum, A.S + B.Lsum) ; res.Rsum = max(B.Rsum, B.S + A.Rsum) ; res.Sum = max(max(A.Sum, B.Sum), A.Rsum + B.Lsum) ; res.S = A.S + B.S ; return res ;&#125;int main()&#123; cin &gt;&gt; N ; register int i ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;base[i]) ; build(1, 1, N) ; cin &gt;&gt; M ; while (M --) scanf("%d%d", &amp;L, &amp;R), printf("%lld\n", query(1, 1, N).Sum) ; return 0 ;&#125; $GSS3$ åŒºé—´æ±‚æœ€å¤§å­æ®µå’Œ(å¸¦ä¿®)$\color{violet}{Link}$ â€¦â€¦å…¶å®å§ï¼Œè¿™ä¸ªå¸¦ä¿®ä¸å¸¦ä¿®â€¦â€¦å¥½åƒå½±å“å¹¶ä¸å¤§ï¼Ÿ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include &lt;cstdio&gt;#include &lt;iostream&gt;#define MAXN 200010#define LL long long#define max my_Fuckmax#define ls(rt) rt &lt;&lt; 1#define rs(rt) rt &lt;&lt; 1 | 1#define mid ((l + r) &gt;&gt; 1)using namespace std ;bool MArk ;struct Tree&#123; LL S, Sum, Lsum, Rsum ;&#125;T[MAXN &lt;&lt; 1] ; int N, M, L, R, base[MAXN] ; #define S(x) T[x].S#define Sum(x) T[x].Sum#define Lsum(x) T[x].Lsum#define Rsum(x) T[x].Rsuminline LL my_Fuckmax(LL A, LL B)&#123; return A &amp; ((B - A) &gt;&gt; 63) | B &amp; ((~(B - A)) &gt;&gt; 63) ;&#125;inline void P_u(int rt)&#123; S(rt) = S(ls(rt)) + S(rs(rt)) ; Lsum(rt) = max(Lsum(ls(rt)), S(ls(rt)) + Lsum(rs(rt))) ; Rsum(rt) = max(Rsum(rs(rt)), S(rs(rt)) + Rsum(ls(rt))) ; Sum(rt) = max(max(Sum(ls(rt)), Sum(rs(rt))), Lsum(rs(rt)) + Rsum(ls(rt))) ;&#125;inline void build(int rt, int l, int r)&#123; if (l == r)&#123; T[rt].Lsum = T[rt].Rsum = T[rt].S = T[rt].Sum = base[l] ; return ; &#125; build(ls(rt), l, mid), build(rs(rt), mid + 1, r), P_u(rt) ;&#125;Tree query(int rt, int l, int r)&#123; if (L &lt;= l &amp;&amp; r &lt;= R) return T[rt] ; Tree res, A, B ; if (mid &gt;= R) return query(ls(rt), l, mid) ; if (mid &lt; L) return query(rs(rt), mid + 1, r) ; A = query(ls(rt), l, mid), B = query(rs(rt), mid + 1, r) ; res.Lsum = max(A.Lsum, A.S + B.Lsum) ; res.Rsum = max(B.Rsum, B.S + A.Rsum) ; res.Sum = max(max(A.Sum, B.Sum), A.Rsum + B.Lsum) ; res.S = A.S + B.S ; return res ;&#125;inline void change(int rt, int l, int r, int k)&#123; if (L == l &amp;&amp; L == r)&#123; T[rt].Sum = T[rt].Lsum = T[rt].Rsum = T[rt].S = k ; return ; &#125; if (L &lt;= mid) change(ls(rt), l, mid, k) ; else change(rs(rt), mid + 1, r, k ) ; P_u(rt) ;&#125;int main()&#123; cin &gt;&gt; N ; register int i ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;base[i]) ; build(1, 1, N) ; cin &gt;&gt; M ; while (M --) &#123; scanf("%d%d%d", &amp;MArk, &amp;L, &amp;R) ; if (!MArk) change(1, 1, N, R) ; else printf("%lld\n", query(1, 1, N).Sum) ; &#125;&#125; $GSS4$ åŒºé—´å¼€æ ¹é—®é¢˜$\color{violet}{Link}$ è¿™ä¸ªå’Œå­æ®µå’Œä¸€ç‚¹å„¿å…³ç³»éƒ½æ²¡æœ‰ï¼Œé¡ºä¾¿æ•´ä¸€ä¸‹233. å°±æ˜¯è®©ä½ åŒºé—´å¼€æ ¹ï¼ˆå‘ä¸‹å–æ•´ï¼‰+æŸ¥è¯¢â€¦â€¦è¿™ä¸ªä¸œè¥¿å¤§æ¦‚å°±æ˜¯å¯¹äºä¸€ä¸ª$2^{63}$å†…çš„æ•°å€¼$N$ï¼Œæˆ‘ä»¬å‡è®¾å…¶å¼€æ ¹$k$æ¬¡å¯ä»¥å¾—åˆ°$N &lt; 2$â€”â€”åªè¦$N &lt; 2$ä¹‹åçš„è®¡ç®—å°±ä¼šé›†ä¸­åœ¨ä¸€ä¸ªç´§ç¡®çš„èŒƒå›´$(1,2)$å†…ï¼Œå‘ä¸‹å–æ•´ä¹‹åæ°¸è¿œéƒ½ä¼šæ˜¯$1$ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦å†å»è€ƒè™‘ã€‚ é‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬è‡´åŠ›äºå»ç¡®å®š$k$çš„å€¼åŸŸã€‚æˆ‘ä»¬ä¸å¾—ä¸æ‰¿è®¤ï¼Œ$\sqrt n$åœ¨$[0,+\infty]$æ˜¯å•è°ƒé€’å¢çš„ï¼ŒåŒç†ä¸‰æ¬¡æ–¹æ ¹ä¹Ÿæ˜¯ï¼Œå››æ¬¡æ–¹æ ¹ä¹Ÿæ˜¯â€¦â€¦æ‰€ä»¥æˆ‘ä»¬ä¸å¦¨å–æœ€å¤§å€¼ï¼Œè€ƒè™‘$N=2^{63}$æ—¶ï¼Œ$k$å€¼çš„å¤§å°ã€‚è€Œå¾ˆæ˜¾ç„¶ï¼Œæ­¤æ—¶çš„$k$åº”è¯¥ä¸º$\log _263+1 â‰ˆ 6.978$â€”â€”è¿™ä¼¼ä¹æ˜¯ååˆ†å¹³å‡¡çš„ç»“è®ºã€‚ æ€»ä¹‹ï¼Œæˆ‘ä»¬å¾—å‡ºï¼Œä¼¼ä¹è¿ç®—æ¬¡æ•°çš„ä¸Šç•Œå°±æ˜¯$kâ‰ˆ7$ï¼Œæ‰€ä»¥è¯´æˆ‘ä»¬ç›´æ¥æš´åŠ›é™¤å°±å¥½äº†ï¼Œèšåˆåˆ†æä¸€ä¸‹ï¼Œå¤æ‚åº¦çš„ä¸Šç•Œä¼¼ä¹æ˜¯$\Omega(7n)$çš„æ ·å­ï¼Œæ— éå°±æ˜¯å¤šå‡ ä¸ªå¸¸æ•°ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950ll N, M, K, i, L, R ; ll base[MAXN], T[MAXN], tot ;inline void p_u(ll rt)&#123; ;&#125;void _Build(ll rt, ll l, ll r)&#123; if (l == r)&#123;T[rt] = base[l] ; return ;&#125; _Build(ls(rt), l, mid) ; _Build(rs(rt), mid + 1, r) ; T[rt] = T[ls(rt)] + T[rs(rt)] ;&#125;inline ll _query(ll rt, ll l, ll r, ll sl, ll sr)&#123; if (l &gt;= sl &amp;&amp; r &lt;= sr) return T[rt] ; ll ret = 0 ; if (mid &gt;= sl) ret += _query(ls(rt), l, mid, sl, sr) ; if (mid &lt; sr) ret += _query(rs(rt), mid + 1, r, sl, sr) ; return ret ;&#125;inline void _Sqrt(ll rt, ll l, ll r, ll sl, ll sr)&#123; if (l &gt;= sl &amp;&amp; r &lt;= sr)&#123; if (T[rt] &lt;= (r - l + 1)) return ; else &#123; if (l == r)&#123; T[rt] = (int)(pow((double)T[rt], 0.5)) ; return ; &#125; &#125; &#125; if (mid &gt;= sl) _Sqrt(ls(rt), l, mid, sl, sr), T[rt] = T[ls(rt)] + T[rs(rt)] ; if (mid &lt; sr) _Sqrt(rs(rt), mid + 1, r, sl, sr), T[rt] = T[ls(rt)] + T[rs(rt)] ;&#125;int main()&#123; while(cin &gt;&gt; N)&#123; ++ tot, printf("Case #%d:\n", tot) ; for (i = 1; i &lt;= N ; ++ i) base[i] = qr() ; _Build(1, 1, N) ; cin &gt;&gt; M ; for (i = 1; i &lt;= M ; ++ i)&#123; K = qr(), L = qr(), R = qr() ; if (L &gt; R) swap(L, R) ; if (K)&#123; printf("%lld\n", _query(1, 1, N, L, R)) ; continue ; &#125; _Sqrt(1, 1, N, L, R) ; &#125; printf("\n") ; &#125; return 0 ;&#125; $\rm{Task2}$ æœ€é•¿è¿ç»­é—®é¢˜è¿™ä¸ªä¸œè¥¿å…¶å®åº”è¯¥è·Ÿæœ€å¤§å­æ®µå’Œå·®ä¸å¤šâ€”â€”è¦æ±‚çš„éƒ½æ˜¯è¿ç»­çš„ä¸œè¥¿ã€‚å¯¹äºæ‰€æœ‰åŒ…æ‹¬è¿ç»­å­—æ ·çš„ä¸œè¥¿ï¼ŒåŸºæœ¬çš„æ€è·¯å¤§æ¦‚éƒ½æ˜¯ç»´æŠ¤ä¸€ä¸ªä»å·¦ç«¯å¼€å§‹çš„ï¼Œç»´æŠ¤ä¸€ä¸ªä»å³ç«¯å¼€å§‹çš„ï¼Œç„¶åä»ä¸‹å‘ä¸Šä¸æ–­$push_up$å³å¯ã€‚ $emmm$åœ¨è¿™è¾¹æ•´ç†å‡ é“æ€è·¯ä¸é”™çš„é¢˜å§ï¼š $\rm{USACO}$ é…’åº—($hotel$)$\color{violet}{Link}$ åˆå§‹çš„ä¸€ä¸ªå…¨é›¶çš„åºåˆ—ï¼Œæˆ‘ä»¬å¯¹å®ƒå‡†ç¡®æ¥è¯´æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ“ä½œï¼š åŒºé—´ç½®$0$ åŒºé—´ç½®$1$ è¯¢é—®æ˜¯å¦æœ‰ä¸€æ®µé•¿åº¦ä¸º$k$çš„è¿ç»­çš„é›¶åŒºé—´ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œé€‰å–æœ€é å·¦çš„ï¼Œè¾“å‡ºå…¶å·¦ç«¯ç‚¹å¹¶æ‰§è¡Œæ“ä½œâ‘¡ è¿™ä¸ªé¢˜åœ¨æˆ‘çœ‹æ¥ï¼Œåº”è¯¥ç®—æ˜¯ä¸€ä¸ªæ€ç»´é¢˜ã€‚å¯¹äºæœ€åä¸€ä¸ªæ“ä½œï¼Œæˆ‘ååˆ†åœ°æ‡µé€¼â€”â€”å› ä¸ºæˆ‘å‹æ ¹ä¸çŸ¥é“è¯¥æ€ä¹ˆç»´æŠ¤ã€‚ ä½†äº‹å®ä¸Šâ€¦â€¦è¿™å°±æ˜¯å­¦æ•°æ®ç»“æ„å­¦å‚»äº†çš„åæœâ€¦â€¦æ¯•ç«Ÿæ•°æ®ç»“æ„åªä¼šæ˜¯ä¸€ä¸ªè¾…åŠ©è€Œå·²ã€‚ä»”ç»†æƒ³æ¥ï¼Œå¥½åƒé™¤äº†æƒå€¼çº¿æ®µæ ‘èƒ½å¤Ÿç»´æŠ¤$\rm{DP}$ä¹‹å¤–ï¼Œæ²¡åšè¿‡ä»€ä¹ˆæ•°æ®ç»“æ„çš„å¥½é¢˜ï¼Œéƒ½æ˜¯ä¸€äº›æ•°æ®ç»“æ„çš„è£¸é¢˜â€¦â€¦å¤§æ¦‚è¿™å°±æ˜¯å­¦å‚»äº†å§ï¼Œåªä¼šä¸“ä¸€çš„ä¸€é—¨å­¦ç§‘ï¼Œæˆ–è€…è¯´åªä¼šä¸“ç²¾ä¸€ç§ä¸œè¥¿â€”â€”è¿˜æ˜¯ååˆ†è ¢ç¬¨è¿Ÿé’åœ°â€œä¸“ç²¾â€ã€‚ å”‰ï¼Œå¤§æ¦‚æ£€éªŒä¸€ä¸ªäººå­¦æ²¡å­¦è¿‡æ•°æ®ç»“æ„ï¼Œä¸æ˜¯é€šè¿‡ä»–ä¼šä¸ä¼šåšç±»ä¼¼äº$NOI2005$ç»´æŠ¤æ•°åˆ—é‚£æ ·çš„æ¯’ç˜¤è£¸é¢˜ï¼Œè€Œæ˜¯çœ‹ä»–åˆ°åº•å¯ä¸å¯ä»¥å’Œå…¶ä»–çš„ä¸œè¥¿ç»“åˆåœ¨ä¸€èµ·ã€‚å­¦ä¹ å¤§æŠµä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œä¸å¯ä»¥æŠŠå­¦çš„ä¸œè¥¿è¿ç§»åˆ°å…¶ä»–åœ°æ–¹ï¼Œç…§æ ·æ˜¯ç™½å­¦å§ã€‚ è¯¶ï¼Œå¥½åƒæ‰¯äº†ä»€ä¹ˆå¥‡æ€ªçš„ä¸œè¥¿â€¦â€¦ å›åˆ°æ­£é¢˜ï¼Œæˆ‘ä»¬ä¸è€ƒè™‘ç›´æ¥ç»´æŠ¤è¿™ä¸ªä¸œè¥¿ï¼Œè€Œæ˜¯é€šè¿‡ç»´æŠ¤åŒºé—´å†…çš„æœ€é•¿è¿ç»­$0$çš„ä¸ªæ•°ï¼Œè¾¾åˆ°è¾…åŠ©æŸ¥æ‰¾åŒºé—´çš„ç›®çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬æŸ¥æ‰¾åŒºé—´çš„æ—¶å€™ï¼Œå°±ç›´æ¥**æ‹©æœ€å·¦è¾¹çš„åŒºé—´ä¼˜å…ˆï¼Œå¹¶$check$å…¶æ˜¯å¦æœ‰è¶³å¤Ÿçš„$0$ã€‚ å¯¹äºæŸ¥è¯¢ï¼Œæˆ‘ä»¬å…ˆæŸ¥è¯¢å·¦åŒºé—´ï¼Œå†æŸ¥è¯¢ä¸­é—´ï¼ˆå·¦åŒºé—´çš„å³è¾¹ä¸å³åŒºé—´çš„å¹¶é›†ï¼‰ï¼Œæœ€åæŸ¥è¯¢å³åŒºé—´ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869struct Tree&#123; int Sum, Len, Lsum, Rsum, tag ; &#125;T[MAXN &lt;&lt; 1] ; int A, B, N, M, MArk, i, t ;inline void push_down(int rt)&#123; if (T[rt].tag == -1) return ; else if (T[rt].tag == 0)&#123; T[ls(rt)].tag = T[rs(rt)].tag = 0 ; T[ls(rt)].Lsum = T[ls(rt)].Sum = T[ls(rt)].Rsum = 0 ; T[rs(rt)].Lsum = T[rs(rt)].Sum = T[rs(rt)].Rsum = 0 ; &#125; else&#123; T[ls(rt)].tag = T[rs(rt)].tag = 1 ; T[ls(rt)].Lsum = T[ls(rt)].Sum = T[ls(rt)].Rsum = T[ls(rt)].Len ; T[rs(rt)].Lsum = T[rs(rt)].Sum = T[rs(rt)].Rsum = T[rs(rt)].Len ; &#125; T[rt].tag = -1 ;&#125;inline void push_up(int rt)&#123; if (T[ls(rt)].Sum == T[ls(rt)].Len) T[rt].Lsum = T[ls(rt)].Len + T[rs(rt)].Lsum ; else T[rt].Lsum = T[ls(rt)].Lsum ; if (T[rs(rt)].Sum == T[rs(rt)].Len) T[rt].Rsum = T[rs(rt)].Len + T[ls(rt)].Rsum ; else T[rt].Rsum = T[rs(rt)].Rsum ; T[rt].Sum = max(T[ls(rt)].Sum, T[rs(rt)].Sum), T[rt].Sum = max(T[rt].Sum, T[ls(rt)].Rsum + T[rs(rt)].Lsum) ;&#125; void build(int rt, int l, int r)&#123; T[rt].tag = -1, T[rt].Len = T[rt].Lsum = T[rt].Rsum = T[rt].Sum = r - l + 1 ; if (l == r)&#123; return ; &#125; build(ls(rt), l, mid), build(rs(rt), mid + 1, r) ;&#125;void update(int rt, int l, int r, int ul, int ur, int k)&#123; if (ul &lt;= l &amp;&amp; ur &gt;= r)&#123; T[rt].tag = k ; if (k == 0) T[rt].Lsum = T[rt].Rsum = T[rt].Sum = 0 ; else T[rt].Lsum = T[rt].Rsum = T[rt].Sum = T[rt].Len ; return ; &#125; push_down(rt) ; if (ul &lt;= mid) update(ls(rt), l, mid, ul, ur, k) ; if (ur &gt; mid) update(rs(rt), mid + 1, r, ul, ur, k) ; push_up(rt) ;&#125;int query(int rt, int l, int r)&#123; push_down(rt) ; if (l == r) return l ; if (T[ls(rt)].Sum &gt;= A) return query(ls(rt), l, mid) ; else if (T[ls(rt)].Rsum + T[rs(rt)].Lsum &gt;= A) return mid - T[ls(rt)].Rsum + 1 ; return query(rs(rt), mid + 1, r) ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M ; build(1, 1, N) ; while(M --)&#123; scanf("%d", &amp;MArk) ; if (MArk == 2) scanf("%d%d", &amp;A, &amp;B), update(1, 1, N, A, A + B - 1, 1) ; else &#123; scanf("%d", &amp;A) ; if (T[1].Sum &gt;= A) printf("%d\n", t = query(1, 1, N)), update(1, 1, N, t, t + A - 1, 0) ; else putchar('0'), putchar('\n') ; &#125; &#125; return 0 ;&#125; $emmm$è¿™ä¸ªé¢˜ç é‡å…¶å®ä¸å¤§ï¼Œæ€ç»´å«é‡ä¹Ÿä¸é«˜ï¼Œä½†æ˜¯æˆåŠŸåœ°æŠŠåšæ•°æ®ç»“æ„é¢˜åšå‚»äº†çš„æˆ‘æ‹‰å›äº†æ­£é€”ã€‚ $\rm{SCOI}$ åºåˆ—æ“ä½œ$\color{violet}{Link}$ å¯¹äºä¸€ä¸ª$01$åºåˆ—ï¼Œå¤§ä½“æ˜¯è¿™å‡ ç§æ“ä½œï¼š åŒºé—´æ¸…é›¶ åŒºé—´ç½®ä¸º$1$ åŒºé—´å…¨éƒ¨å–é åŒºé—´æŸ¥è¯¢$1$çš„ä¸ªæ•° åŒºé—´æŸ¥è¯¢æœ€é•¿è¿ç»­çš„$1$çš„é•¿åº¦ å¥½çš„ï¼Œè¿™é“é¢˜è¢«æˆ‘ç§’äº†ï¼Œçˆ½å•Šâ€¦â€¦ä¸è¿‡ç§’æ˜¯ç§’äº†ï¼Œå¯¹æ‹è°ƒè¯•æ³•è°ƒäº†å¥½ä¹…$233$ã€‚ å…¶å®å¯¹äº$1,2,4,5$éƒ½å¥½è¯´ï¼Œåªæ˜¯ç¬¬$3$ä¸ªæ“ä½œï¼Œéœ€è¦å†å¦ç»´æŠ¤åŒºé—´æœ€é•¿è¿ç»­çš„$0$çš„é•¿åº¦ï¼Œå¦‚æœå­˜åœ¨å–éæ ‡è®°ç”Ÿæ•ˆï¼Œå°±äº¤æ¢ä¸€ä¸‹å°±è¡Œã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127struct Tree&#123; int OS, OL, OR ; int Sum, Lsum, Len, Rsum, S, tag, t ; //tag = 1 -&gt; 1,tag = 0 -&gt; 0, tag = 2 -&gt; xor&#125;T[MAX &lt;&lt; 1] ; int N, M, MArk, L, R, base[MAX], i ;inline void up(int rt)&#123;// T[rt].S = T[ls(rt)].S + T[rs(rt)].S ; //1 if (T[ls(rt)].S == T[ls(rt)].Len) T[rt].Lsum = max(T[ls(rt)].Lsum, T[ls(rt)].Len + T[rs(rt)].Lsum) ; else T[rt].Lsum = T[ls(rt)].Lsum ; if (T[rs(rt)].S == T[rs(rt)].Len) T[rt].Rsum = max(T[rs(rt)].Rsum, T[rs(rt)].Len + T[ls(rt)].Rsum) ; else T[rt].Rsum = T[rs(rt)].Rsum ; T[rt].Sum = max(T[ls(rt)].Rsum + T[rs(rt)].Lsum, max(T[ls(rt)].Sum, T[rs(rt)].Sum)) ; //0 if (!T[ls(rt)].S) T[rt].OL = max(T[ls(rt)].OL, T[ls(rt)].Len + T[rs(rt)].OL) ; else T[rt].OL = T[ls(rt)].OL ; if (!T[rs(rt)].S) T[rt].OR = max(T[rs(rt)].OR, T[rs(rt)].Len + T[ls(rt)].OR) ; else T[rt].OR = T[rs(rt)].OR ; T[rt].OS = max(T[ls(rt)].OR + T[rs(rt)].OL, max(T[ls(rt)].OS, T[rs(rt)].OS)) ;&#125;inline void down(int rt)&#123;// if (T[rt].tag == -1) return ; if (T[rt].t == 1)&#123; T[ls(rt)].tag ^= 1, T[rs(rt)].tag ^= 1 ; T[ls(rt)].S = T[ls(rt)].Len - T[ls(rt)].S ; T[rs(rt)].S = T[rs(rt)].Len - T[rs(rt)].S ; //l T[ls(rt)].Sum ^= T[ls(rt)].OS ^= T[ls(rt)].Sum ^= T[ls(rt)].OS ; T[ls(rt)].Lsum ^= T[ls(rt)].OL ^= T[ls(rt)].Lsum ^= T[ls(rt)].OL ; T[ls(rt)].Rsum ^= T[ls(rt)].OR ^= T[ls(rt)].Rsum ^= T[ls(rt)].OR ; //r T[rs(rt)].Sum ^= T[rs(rt)].OS ^= T[rs(rt)].Sum ^= T[rs(rt)].OS ; T[rs(rt)].Lsum ^= T[rs(rt)].OL ^= T[rs(rt)].Lsum ^= T[rs(rt)].OL ; T[rs(rt)].Rsum ^= T[rs(rt)].OR ^= T[rs(rt)].Rsum ^= T[rs(rt)].OR ; &#125; if (T[rt].tag == 0)&#123; T[ls(rt)].tag = T[rs(rt)].tag = 0 ; T[ls(rt)].OL = T[ls(rt)].OR = T[ls(rt)].OS = T[ls(rt)].Len ; T[rs(rt)].OL = T[rs(rt)].OR = T[rs(rt)].OS = T[rs(rt)].Len ; T[ls(rt)].Lsum = T[ls(rt)].Rsum = T[ls(rt)].Sum = T[ls(rt)].S = 0 ; T[rs(rt)].Lsum = T[rs(rt)].Rsum = T[rs(rt)].Sum = T[rs(rt)].S = 0 ; &#125; if (T[rt].tag == 1)&#123; T[ls(rt)].tag = T[rs(rt)].tag = 1 ; T[ls(rt)].OL = T[ls(rt)].OR = T[ls(rt)].OS = 0 ; T[rs(rt)].OL = T[rs(rt)].OR = T[rs(rt)].OS = 0 ; T[ls(rt)].Lsum = T[ls(rt)].Rsum = T[ls(rt)].Sum = T[ls(rt)].S = T[ls(rt)].Len ; T[rs(rt)].Lsum = T[rs(rt)].Rsum = T[rs(rt)].Sum = T[rs(rt)].S = T[rs(rt)].Len ; &#125; T[rt].tag = -1, T[rt].t = 0 ; &#125;void _change(int rt, int l, int r, int k)&#123;// if (L &lt;= l &amp;&amp; r &lt;= R)&#123; T[rt].tag = k ; if (!k) T[rt].OL = T[rt].OR = T[rt].OS = T[rt].Len, T[rt].Lsum = T[rt].Rsum = T[rt].Sum = T[rt].S = 0 ; else T[rt].OL = T[rt].OR = T[rt].OS = 0, T[rt].Lsum = T[rt].Rsum = T[rt].Sum = T[rt].S = T[rt].Len ; return ; &#125; down(rt) ; if (L &lt;= mid) _change(ls(rt), l, mid, k) ; if (R &gt; mid) _change(rs(rt), mid + 1, r, k) ; up(rt) ; &#125;void _reverse(int rt, int l, int r)&#123;// if (L &lt;= l &amp;&amp; r &lt;= R)&#123; T[rt].t = 1 ; T[rt].Sum ^= T[rt].OS ^= T[rt].Sum ^= T[rt].OS ; T[rt].Lsum ^= T[rt].OL ^= T[rt].Lsum ^= T[rt].OL ; T[rt].Rsum ^= T[rt].OR ^= T[rt].Rsum ^= T[rt].OR ; return ; &#125; down(rt) ; if (L &lt;= mid) _reverse(ls(rt), l, mid) ; if (R &gt; mid) _reverse(rs(rt), mid + 1, r) ; up(rt) ; &#125;inline int Sum(int rt, int l, int r)&#123;// if (L &lt;= l &amp;&amp; R &gt;= r) return T[rt].S ; down(rt) ; int res = 0 ; if (L &lt;= mid) res += Sum(ls(rt), l, mid) ; if (R &gt; mid) res += Sum(rs(rt), mid + 1, r) ; return res ;&#125;inline void build(int rt, int l, int r)&#123;// T[rt].tag = -1 ; T[rt].Len = r - l + 1 ; if (l == r)&#123; if (!base[l]) T[rt].OL = T[rt].OR = T[rt].OS = 1 ; else T[rt].Sum = T[rt].Lsum = T[rt].Rsum = T[rt].S = 1 ; return ; &#125; build(ls(rt), l, mid), build(rs(rt), mid + 1, r), up(rt) ;&#125;inline Tree query(int rt, int l, int r)&#123; if (L &lt;= l &amp;&amp; R &gt;= r) return T[rt] ; Tree res, A, B ; if (mid &gt;= R) return query(ls(rt), l, mid) ; if (mid &lt; L) return query(rs(rt), mid + 1, r) ; A = query(ls(rt), l, mid), B = query(rs(rt), mid + 1, r) ; res.Lsum = max(A.Lsum, A.S + B.Lsum) ; res.Rsum = max(B.Rsum, B.S + A.Rsum) ; res.Sum = max(max(A.Sum, B.Sum), A.Rsum + B.Lsum) ; res.S = A.S + B.S ; return res ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;base[i]) ; build(1, 1, N) ; while (M --)&#123;// cout &lt;&lt; M &lt;&lt; " " &lt;&lt; "qwerweafasdfsdf" &lt;&lt; endl ; scanf("%d%d%d", &amp;MArk, &amp;L, &amp;R), ++ L, ++ R ; if (MArk == 0) _change(1, 1, N, 0) ; else if (MArk == 1) _change(1, 1, N, 1) ; else if (MArk == 2) _reverse(1, 1, N) ; else if (MArk == 3) printf("%d\n", Sum(1, 1, N)) ; else printf("%d", query(1, 1, N).Sum), putchar('\n') ;// cout &lt;&lt; " qwerweafasdfsdf " &lt;&lt; endl ; &#125;&#125; $push_up$çœŸé•¿å•Š$233$ è‰¹å®Œè¿™ä¸ªé¢˜æ˜¯çœŸçš„çˆ½å•Š~ $Task3~$ æ€»ç»“ä¸€ä¸‹å…¶å®è¿™ä¸œè¥¿å’Œ$DP$æ˜¯ä¸€æ ·çš„å§ï¼Ÿä½ åªéœ€è¦ç¡®å®šä½ æƒ³è¦ç»´æŠ¤ä»€ä¹ˆ(ç­‰ä»·äºç¡®å®šçŠ¶æ€)ï¼Œç„¶åæ˜ç¡®çˆ¶å­åŒºé—´å¦‚ä½•å‘ä¸Šç»´æŠ¤(ç­‰ä»·äºçŠ¶æ€ä¹‹é—´å¦‚ä½•è½¬ç§»)ã€‚ å—¯ï¼Œä¸‡ç‰©ç›¸åŒã€‚ é‡é©¬ä¹Ÿï¼Œå°˜åŸƒä¹Ÿï¼Œç”Ÿç‰©ä¹‹ä»¥æ¯å‘å¹ä¹Ÿã€‚å¤©ä¹‹è‹è‹ï¼Œå…¶æ­£è‰²è€¶ï¼Ÿå…¶è¿œè€Œæ— æ‰€è‡³æè€¶ï¼Ÿ ä¸çŸ¥ä¸ºä»€ä¹ˆï¼Œçªç„¶æƒ³åˆ°äº†è¿™å¥è¯ã€‚ $\mathscr{The~End}$]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>æ³›åš</category>
      </categories>
      <tags>
        <tag>é¢˜è§£</tag>
        <tag>çº¿æ®µæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªé€‚åº”Simpsonæ³•å…¥é—¨]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F17%2FSimpson1%2F</url>
    <content type="text"><![CDATA[$\rm{0x01}$ å‰è¨€é¦–å…ˆé˜æ˜ä¸€ç‚¹ï¼Œè‡ªé€‚åº”è¾›æ™®æ£®ç®—æ³•($\rm{Adaptive ~Simpsonâ€™s~ rule}$ )æ˜¯ä¸€ç±»è¿‘ä¼¼ç®—æ³•($\rm{Approximation ~algorithm}$)ï¼Œä¸»è¦ç”¨äºæ±‚è¾ƒéš¾åå¯¼çš„å‡½æ•°çš„ç§¯åˆ†ã€‚å¤§æ¦‚åœ¨ä¿¡æ¯è®¡ç®—çš„æ—¶å€™ä¸­å¾ˆå¸¸ç”¨ï¼Ÿ å…¶æ€æƒ³æ˜¯åˆ©ç”¨äºŒæ¬¡å‡½æ•°æ¥ä¸æ–­æ‹Ÿåˆ($\rm{Overfitting}$)æ‰€æ±‚æ›²çº¿ï¼Œè€Œæ‰€è°“çš„$Adapative$ï¼ˆè‡ªé€‚åº”ï¼‰åˆ™æ˜¯ç”¨äºä¼˜åŒ–æ—¶é—´å¤æ‚åº¦çš„æ–¹æ³•ã€‚ å—â€¦æ€»ä¹‹â€¦æ¯”è¾ƒç®€å•ï¼Ÿ è¡¨ç¤ºçœ‹äº†ä¸¤ç¯‡å¤–å›½å­¦è€…çš„è®ºæ–‡ï¼Œæ„Ÿè§‰å¥½åƒæ€è·¯å·²ç»æ¯”è¾ƒæ¸…æ™°çš„æ ·å­ã€‚ $\rm{0x02}$ $\mathcal{Simpson~Formula}$ è¾›æ™®æ£®å…¬å¼ç¨ç­‰ï¼Œè¿™ä¸ªè·Ÿç®—æ³•çš„å…³ç³»ä¸å¤§ï¼Œä¸»è¦æ˜¯å…¬å¼ï¼š$$\rm{\int _{l}^{r} f(x) \rm{dx}\approx \frac{f(r) +f(l)+ 4 \cdot f(m)}{6}} \,$$ äº‹å®ä¸Šå§ï¼Œæ±‚ç§¯åˆ†çš„è¯ï¼Œå¤§å¤šæ•°éƒ½æ˜¯ç›´æ¥å¥—è¾›æ™®æ£®å…¬å¼çš„ã€‚å¹¶ä¸”è¿™ä¸ªå…¬å¼æ˜¯å¹¿æ³›é€‚ç”¨çš„â€¦â€¦åªä¸è¿‡è¯¯å·®æœ‰ç‚¹å„¿äººå¤§$233$ è¿™å…¶å®æ˜¯æˆ‘ä»¬ç”¨äºŒæ¬¡å‡½æ•°ä¸æ–­æ‹Ÿåˆçš„ç»“æœï¼Œæ¨å¯¼è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹$^{[1]}$ï¼š å› ä¸º $g(x)$ æ˜¯ç”¨æ¥æ‹Ÿåˆ $f(x)$ çš„ï¼Œæ‰€ä»¥æœ‰ï¼š$$\int\limits_L^Rf(x)dx\approx \int\limits_L^Rax^2+bx+c\space dx$$æ±‚ $g(x)$ çš„ä¸å®šç§¯åˆ†ä¸ºï¼š$$\int g(x)dx=\frac13ax^3+\frac12bx^2+cx+C$$ç„¶åå†å¸¦å…¥ R å’Œ L ï¼š$$\int\limits_L^Rf(x)dx=\frac13a(R^3-L^3)+\frac12b(R^2-L^2)+c(R-L)$$ç„¶åæå…¬å› å¼ï¼ŒåŸå¼ä¸ºï¼š$$\frac{R-L}{6}(2a(R^2+LR+L^2)+3b(R+L)+6c)6Râˆ’L(2a(R2+LR+L2)+3b(R+L)+6c)$$æŠŠé‡Œé¢å±•å¼€æ¥ï¼š$$\frac{R-L}{6}(2aR^2+2aLR+2aL^2+3bR+3bL+6c)$$é‡æ–°æ•´ç†ä¸€ä¸‹å¼å­ï¼š$$\frac{R-L}{6}((aR^2+bR+c)+(aL^2+bL+c)+aR^2+aL^2+2aLR+2bR+2bL+4c)$$å†æ•´ç†ï¼š$$\frac{R-L}{6}((aR^2+bR+c)+(aL^2+bL+c)+4(a(\frac{R+L}{2})^2+b(\frac{R+L}{2})+c))$$ä»£æ¢å¯å¾—ï¼š$$aR^2+bR+c\approx f(R)\\\aL^2+bL+c\approx f(L)\\\4(a(\frac{R+L}{2})^2+b(\frac{R+L}{2})+c)\approx 4f(\frac{R+L}{2})$$æŠŠè¿™ä¸‰ä¸ªå¼å­å¸¦å›å»ï¼Œ æœ€åæˆ‘ä»¬å°±å¾—åˆ°äº†$\rm{Simpson}$ ç§¯åˆ†å…¬å¼ï¼š$$\int\limits_L^Rf(x)dx \approx \frac{R-L}{6}(f(L)+4f(\frac{L+R}{2})+f(R)))$$ äºæ˜¯æˆ‘ä»¬å°±å¾—åˆ°äº†æ‰€è°“çš„$\rm{Simpson~Fomula}$ã€‚ä½†äº‹å®ä¸Šï¼Œå¯¹äºä¸€æ®µâ€œè·Œå®•èµ·ä¼â€çš„å‡½æ•°ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ— æ³•å‡†ç¡®åœ°å»ç”¨ä¸€ä¸ªäºŒæ¬¡å‡½æ•°çš„æ‹Ÿåˆæ¥åˆ»ç”»ã€‚äºæ˜¯â€”â€” $\rm{0x03}$ $\mathcal{Adaptive~Simpson~Rule}$ è‡ªé€‚åº”è¾›æ™®æ£®æ³•æˆ‘ä»¬è€ƒè™‘ï¼Œå¦‚æœæŠŠåŒºé—´ä»¬ç¨å¾®åˆ’åˆ†åœ°æ›´ç»†ä¸€ç‚¹ï¼Œé‚£æ˜¯ä¸æ˜¯ä¼šå¥½å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸€å®šçš„ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è€ƒè™‘å®šå‘äºŒåˆ†ã€‚ä½†æ˜¯â€¦â€¦å®šå‘äºŒåˆ†å§‹ç»ˆå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å®ƒå¤ªç¬¨äº†ï¼Œç¬¨åˆ°å¦‚æœ$[l_1,r_1]$å·²ç»æ»¡è¶³ç²¾åº¦è¦æ±‚äº†ï¼Œæˆ‘ä»¬å´è¿˜è¦ä¸€ç›´åˆ†ï¼›ç¬¨åˆ°$[l_2,r_2]$åˆ†çš„æ¬¡æ•°æ ¹æœ¬ä¸å¤Ÿç”¨â€”â€”ä½†æˆ‘ä»¬å¹¶ä¸å¯ä»¥å¾—åˆ°åé¦ˆã€‚ äºæ˜¯è€ƒè™‘è‡ªé€‚åº”ã€‚ æ‰€è°“è‡ªé€‚åº”ï¼Œè¯´çš„ç›´ç™½ç‚¹ï¼Œæ— éå°±æ˜¯éœ€è¦å¤šåˆ†æ²»å‡ æ¬¡çš„åœ°æ–¹ï¼Œå¤šåˆ†æ²»å‡ æ¬¡ï¼›ä¸éœ€è¦çš„åˆ™å¯ä»¥å°‘åˆ†æ²»å‡ æ¬¡ ä½ ä¼šå‘ç°ï¼Œå…¶å®ä»–èŠ‚çº¦çš„å°±æ˜¯ä¸€ä¸ªç‚¹â€”â€”æ—¶é—´æ•ˆç‡ã€‚ ä¸¾ä¸ªæ —å­$^{[2]}$ï¼š æ¯”å¦‚æœ‰è¿™ä¹ˆä¸ªå‡½æ•°$\rm{f (x) = 13(x âˆ’ x^2)e^{\frac{âˆ’3x}{2}} }$ï¼Œæˆ‘ä»¬è¦æ±‚$\int_{0}^{4}f(x) \rm{~dx}$ å¹¶è¦æ±‚ç²¾åº¦è¯¯å·®åœ¨$1e-5$ ä»¥å†…ã€‚è€Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•å»è§£å†³ï¼š ä»¥å›ºå®šçš„æ¯”ä¾‹ä»¥åŠçº¦æŸäºŒåˆ†ã€‚ è¿ç”¨è‡ªé€‚åº”ç­–ç•¥åˆ†é… é‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“ä»–çœŸæ­£çš„$value:$ çœ‹èµ·æ¥å¥½åƒæµ·æ˜Ÿï¼Ÿç„¶åæˆ‘ä»¬ç”¨ä¸¤ç§æ–¹æ³•éƒ½è¯•ä¸€è¯•ï¼š é¦–å…ˆæ˜¯è‡ªé€‚åº”æ³•ï¼Œæˆ‘ä»¬å‘ç°æœ€ååªéœ€è¦æ±‚$20$æ®µåŒºé—´ã€‚è¡¨ä¸­çš„$a_k \&amp; b_k$è¡¨ç¤ºå·¦å³åŒºé—´ï¼Œ$S(l,r)$è¡¨ç¤º$[l,r]$å†…ã€è¿ç”¨$0x01$ä¸­çš„å…¬å¼è®¡ç®—çš„ï¼Œ$\rm{Error~Bound}$è¡¨ç¤ºè¯¯å·®ç•Œï¼Œ$\rm{Tolerance}$è¡¨ç¤ºè®¡ç®—æ—¶éœ€è¦çš„è¯¯å·®(ç¨‹åºè®¾è®¡æ—¶ä¼šè®²)ã€‚ é‚£ä¹ˆæœ€åç®—å‡ºæ¥çš„å€¼æ˜¯$ âˆ’1.54878823413$ ï¼Œä¸çœŸå®å€¼è¯¯å·®ä¸º$0.00000013840 $ï¼Œä¸€å…±è°ƒç”¨äº†$79$æ¬¡å‡½æ•°ä¼°å€¼ï¼ˆç•™ä¸ªå‘ï¼Œåæ–‡ä¼šè®²ï¼‰ã€‚ é‚£ä¹ˆç»˜åˆ¶å‡ºæ¥çš„å‡½æ•°å›¾åƒå¤§æ¦‚é•¿è¿™æ ·ï¼š å¥½åƒå¾ˆæµç•…ï¼Ÿ$233$ é‚£ä¹ˆç¬¬äºŒç§æ–¹æ³•æ˜¯å®šå€¼åˆ†æ®µã€‚æˆ‘ä»¬è€ƒè™‘åˆ†æˆåŒºé—´$[0,4]$åˆ†ä¸ºé•¿åº¦ä¸º$0.03125$çš„$128$æ®µï¼Œå¹¶è¿ç”¨$0x01$çš„$Formula$ï¼Œæœ€åå¾—å‡ºçš„ç»“æœä¸º$âˆ’1.54878844029$ï¼Œè¯¯å·®ä¸º$0.00000006776$â€¦â€¦ å¥½åƒæ˜¯ç¬¬ä¸€ä¸ªè¯¯å·®çš„äºŒåˆ†ä¹‹ä¸€ï¼Ÿå¬èµ·æ¥å¥½åƒè¯¯å·®å°äº†ï¼Œä½†æ˜¯å´éœ€è¦$257$æ¬¡å‡½æ•°ä¼°å€¼çš„è°ƒç”¨â€¦â€¦ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—æ›´ä¼˜è¶Šçš„æ€§èƒ½ï¼Œè€Œé‚£è¯¯å·®ä¹Ÿæ˜¯ä¸éœ€è¦è€ƒè™‘çš„å•¦çš„å•¦ï½ ä½†æ˜¯æ¯”èµ·$1e-5$ç²¾åº¦æ¥è¯´â€¦â€¦è¿™æ³¢ç¨³èµšå•Š$233$ $\rm{0x04}$ $\mathcal{About~Code~}$ ä»£ç å®ç°é¦–å…ˆæ˜¯$LuoguP4525$çš„æš´åŠ›è§£æ³•ï¼š 12345678910111213141516171819202122232425#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#define mid (l + r) / 2using namespace std ;const double Eps = 5e-8 ;double Ans, A, B, C, D, L, R ;inline double F(double x)&#123; return (C * x + D) / (A * x + B) ;&#125;inline double Simp_calc(double l, double r)&#123; return (r - l) / 6 * (F(l) + F(r) + 4 * F(mid)) ;&#125;inline double do_divide(double l, double r)&#123; double Lv, Rv, v, t ; Lv = Simp_calc(l, mid), Rv = Simp_calc(mid, r), v = Simp_calc(l, r) ; if (fabs(t = (Lv + Rv - v)) &lt;= Eps) return Lv + Rv ; return do_divide(l, mid) + do_divide(mid, r) ;&#125;int main()&#123; scanf("%lf%lf%lf%lf%lf%lf", &amp;A, &amp;B, &amp;C, &amp;D, &amp;L, &amp;R) ; Ans = do_divide(L, R) ; printf("%.6lf", Ans) ; return 0 ; &#125; è¿™â€¦ä¸¥æ ¼æ„ä¹‰ä¸Šè®²ï¼Œä¸èƒ½ç®—æ˜¯è‡ªé€‚åº”è¾›æ™®æ£®æ³•â€”â€”æ›´å‡†ç¡®åœ°è¯´ï¼Œå››ä¸åƒï¼Œæˆ–è€…â€œä¸œæ–½æ•ˆé¢¦â€ä¹‹ç±»çš„ï¼Œéƒ½æŒºåˆé€‚ã€‚è¿™æ˜¯æˆ‘åœ¨åˆå­¦è¿™ä¸€å—å„¿å†…å®¹æ—¶çš„å†™æ³•ï¼Œä»–ä¸ä¸¥æ ¼æ­£ç¡®ï¼Œä½†æ˜¯â€¦â€¦ä»–å¯¹çš„å¾ˆï¼Ÿ è‡³äºè¿›åŒ–ç‰ˆ$LuoguP4526$ï¼Œä¹Ÿæ˜¯å®Œå…¨å¯ä»¥violentlyè‰¹è¿‡å»çš„ï¼š1234567891011121314151617181920212223242526#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#define mid (l + r) / 2using namespace std ;const double Eps = 5e-8 ;double Ans, A, B, C, D, L, R ;inline double F(double x)&#123; return pow(x, A / x - x) ;&#125;inline double Simp_calc(double l, double r)&#123; return (r - l) / 6 * (F(l) + F(r) + 4 * F(mid)) ;&#125;inline double do_divide(double l, double r, double Lans)&#123; double Lv, Rv, v, t ; Lv = Simp_calc(l, mid), Rv = Simp_calc(mid, r), v = Lans ; if (fabs(t = (Lv + Rv - v)) &lt;= Eps) return Lv + Rv ; return do_divide(l, mid, Lv) + do_divide(mid, r, Rv) ;&#125;int main()&#123; scanf("%lf", &amp;A) ; L = Eps, R = 23.3 ; if (A &lt; 0) &#123; puts("orz"), cout &lt;&lt; endl ; return 0 ;&#125; Ans = do_divide(L, R, Simp_calc(L, R)) ; printf("%.5lf", Ans) ; return 0 ; &#125; ä½†æ˜¯ï¼Œå…¶çœŸæ­£çš„å®ç°åº”è¯¥æ˜¯è¿™æ ·ï¼š 123456789101112131415161718192021222324252627282930#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#define v Lans#define hps eps * 0.5#define mid (l + r) * 0.5using namespace std ;double Ans, A, L, R ;const double Eps = 1e-7 ;const double Liu = 1.0 / 6 ;inline double F(double x)&#123; return pow(x, A / x - x) ;&#125;inline double Simp_calc(double l, double r)&#123; return (r - l) * Liu * (F(l) + F(r) + 4.0 * F(mid)) ;&#125;inline double do_divide(double l, double r, double Lans, double eps)&#123; double Lv, Rv, t ; Lv = Simp_calc(l, mid), Rv = Simp_calc(mid, r) ; if (fabs(t = (Lv + Rv - v)) &lt;= eps * 15) return Lv + Rv + t / 15 ; return do_divide(l, mid, Lv, hps) + do_divide(mid, r, Rv, hps) ; //æ®è¯´epsÃ—15æ¥è‡ªäºWikiâ€¦â€¦&#125;int main()&#123; scanf("%lf", &amp;A) ; L = Eps, R = 30 ; if (A &lt; 0) &#123; puts("orz"), cout &lt;&lt; endl ; return 0 ;&#125; Ans = do_divide(L, R, Simp_calc(L, R), Eps) ; printf("%.5lf", Ans) ; return 0 ; &#125; ç„¶åæˆ‘ä»¬å‘ç°è¿™å°±å¯ä»¥è·Ÿæ–‡ç« ä¸Šé¢$0x03$ä¸­çš„ä¾‹å­å‘¼åº”äº†ï¼šæ¯æ¬¡åˆ†æ²»æ—¶è®¡ç®—ä¸¤æ¬¡ï¼Œæ€»å…±åˆ†æ²»äº†$39$æ¬¡ï¼Œæœ€ç»ˆä¸€å…±è®¡ç®—äº†$78+1=79$æ¬¡ï¼Œè€ŒäºŒåˆ†åˆ™æ˜¯ä¸€æ£µæœ‰$128$ä¸ªå¶å­èŠ‚ç‚¹çš„é€’å½’æ ‘ï¼Œæ€»å…±è®¡ç®—äº†$256 +1=257$æ¬¡ã€‚ å¥½çš„ï¼Œç»ˆäºè¦æ‰¯æ­£é¢˜äº†ã€‚ç®—æ³•çš„å®ç°å…¶å®ç®€å•ï¼Œæˆ‘ä»¬ç”¨æ‹Ÿåˆæ€§ç®—æ³•ä¸æ–­$check\&amp;calc$, è€Œ$check$çš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åˆ¤æ–­ä¸€ä¸‹ä¸¤æ®µå­åŒºé—´çš„å‡½æ•°å€¼ä¹‹å’Œä¸æ•´ä¸ªåŒºé—´çš„å‡½æ•°å€¼ä¹‹å’Œçš„å·®å€¼æ˜¯å¦åœ¨ç²¾åº¦è¦æ±‚èŒƒå›´ä¹‹å†…ï¼Œä¹‹åå¦‚æœæ»¡è¶³ç²¾åº¦è¯¯å·®å°±ç›´æ¥$return$ï¼Œå¦åˆ™å¯¹äºè¿™æ®µåŒºé—´ç»§ç»­é€’å½’ä¸‹å»ã€‚ è€Œè¿™ä¸ªåœ°æ–¹æœ‰ä¸ªè¦æ±‚ï¼Œå°±æ˜¯å¯¹äº$eps$ï¼Œä½ éœ€è¦ä¸æ–­$half$ä»–ï¼ŒåŸå› å¾ˆç®€å•ï¼Œå¯¹äºä¸€æ•´æ®µåŒºé—´$U$ï¼Œè¦æ±‚ä»–çš„è¿”å›å€¼çš„$|eps(U)| \leq k$çš„è¯ï¼Œé‚£ä¹ˆå¯¹äºå…¶ä½œä¸ºå­é›†ä¸¤ä¸ªè¿ç»­åŒºé—´$A,B$ï¼Œå½“$A \bigcup B = U$æ—¶ï¼Œå¿…é¡»è¦æ»¡è¶³$|eps(A)| \leq \frac{k}{2}, |eps(B)| \leq \frac{k}{2}$ï¼Œæ‰èƒ½ä¿è¯$|eps(U) = eps(A) + eps(B)| \leq k$ï¼Œæ‰€ä»¥è¦ï¼š 123#define hps eps * 0.5....................return do_divide(l, mid, Lv, hps) + do_divide(mid, r, Rv, hps) ; å¥½äº†ï¼Œå”¯ä¸€çš„é—®é¢˜åœ¨äºæœ‰å¥è¯è¿·çš„å¾ˆï¼š 1if (fabs(t = (Lv + Rv - v)) &lt;= eps * 15) return Lv + Rv + t / 15 ; è¿™ä¸ª$\leq 15 \cdot eps$æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ å¥½å§ï¼Œç¬”è€…ä¹Ÿä¸æ¸…æ¥šï¼Œä½†æ˜¯æœ‰ä¸ªç»“è®ºæ˜¯é•¿è¿™æ ·çš„ï¼š ä»€ä¹ˆï¼Ÿä½ è¯´æ¨ä»€ä¹ˆå€’ï¼Ÿå°å°å¹´çºªæ•´å¤©æƒ³ç€æ¨å€’å­¦å§å¯ä¸å¥½å•Š$233$ ä»€ä¹ˆï¼Ÿä½ è¿˜æƒ³çœ‹æ¨å€’çš„è¿‡ç¨‹ï¼Ÿå•§å•§å•§ï¼Œå·¦è½¬çŸ¥ä¹æ„Ÿæƒ…ä¸“åŒºèŸ¹èŸ¹ï½ å¥½çš„ï¼Œä»¥ä¸Šä¸¤æ®µæ˜¯çæ‰¯çš„ï¼Œæ¨å¯¼è¿‡ç¨‹ååˆ†è¯¡å¼‚ï¼Œå¤§å®¶è‡ªå·±é£Ÿç”¨å¥½äº†â€¦â€¦ äºæ˜¯ç»“æŸï¼Œæ’’èŠ±èŠ±â€¦ï¼ˆä¸æ˜¯æ’’ç¬”è€…xï¼‰ $\rm{Referance}$ $[1]$ :$NaCly_Fish$çš„$blog$ $^{^{[\nearrow]}}$ $[2]$ :æŸç¯‡è®ºæ–‡ $^{^{[\nearrow]}}$ å¯¹äºç¬¬äºŒç¯‡$refer$ï¼Œå€Ÿé‰´çš„æ¯”è¾ƒå¤šï¼ˆè¯»ä¹¦äººçš„äº‹â€¦â€¦å’³å’³â€¦â€¦ï¼‰ï¼Œä½†æ˜¯æ”¹äº†ä¸€ä¸ªæ•°æ®ï¼Œå°±æ˜¯$81 \to 79$ï¼Œå› ä¸ºä»£ç éœ€è¦$233$ $Ps:$å²ä¸Šæœ€ä¸æ­£ç»çš„$reference$è¯ç”Ÿäº†â€¦â€¦]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ç§¯åˆ†/ç§¯åˆ†è¿‘ä¼¼</tag>
        <tag>è®¡ç®—å‡ ä½•-Simpsonç§¯åˆ†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Calc on Trees (1)]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F16%2FCal-on-Tree1%2F</url>
    <content type="text"><![CDATA[å¥½çš„ï¼Œä»Šå¤©æ•´ç†ä¸€ç±»è¾ƒä¸ºç®€å•çš„æ ‘ä¸Šé’ˆå¯¹è¾¹æƒçš„ä¿®æ”¹ã€æŸ¥è¯¢ã€æ“ä½œé¢˜ã€‚ é—®é¢˜å¤§æ¦‚æœ‰ä¸¤ç±»ï¼šåªæœ‰æŸ¥è¯¢$\&amp;$ä¿®æ”¹æŸ¥è¯¢éƒ½æœ‰ $\mathscr{Task1}$æ™®é€šçš„æŸ¥è¯¢é—®é¢˜å¤§æ¦‚é—®é¢˜å°±ç±»ä¼¼äºè¿™ä¸ªå…¸å‹çš„$XOR$é—®é¢˜ å…¶å®è¯´ç™½äº†ï¼Œè¿™ä¸ªé¢˜çš„è§£æ³•ååˆ†ç®€å•â€”â€”$LCA$ ä½†å…¶å®â€¦â€¦æˆ‘ä¸€å¼€å§‹è€ƒè™‘$LCA$ï¼Œæ²¡æœ‰ç»†è‡´è€ƒè™‘ï¼Œåªæ˜¯è§‰å¾—å¦‚æœä»$u,v$åˆ†åˆ«å‘$LCA$è·³ï¼Œè¿™å¹¶ä¸å¯ä»¥æå‰å¤„ç†æˆ–è€…æå‰ç»´æŠ¤ï¼Œæ‰€ä»¥å’Œæš´åŠ›æ²¡æœ‰åŒºåˆ«ï¼Œäºæ˜¯å°±å¼ƒç–—ã€‚ ä½†æ˜¯è¿™ä¸ªåœ°æ–¹ï¼Œ$LCA$çš„ä½œç”¨ååˆ†å·§å¦™â€”â€”æˆ‘ä»¬è¯•å›¾å»æ‹“å±•è¿™ä¸ªé¢˜ã€‚æˆ‘ä»¬å®šä¹‰$D(\bigodot,r,u)$è¡¨ç¤ºåœ¨è¿ç®—$\bigodot$ä¸‹ï¼Œä»æ ¹$r$åˆ°æŸä¸€å›ºå®šç‚¹$u$çš„è¾¹æƒè¿ç®—ç»“æœï¼Œå…¶ä¸­é™å®šäº†è¿ç®—$\bigodot$å¿…é¡»ä¸ºå¯é€†è¿ç®—ï¼Œæ¯”å¦‚è¯´å¼‚æˆ–ã€åŠ æ³•ã€å‡æ³•â€”â€”æ³¨æ„ï¼Œæ­¤æ—¶çš„å¯é€†è¿ç®—ï¼Œå¯ä»¥æ˜¯è‡ªå¯é€†ï¼ˆè‡ªå·±å¯¹è‡ªå·±è¿ç®—æ˜¯é€†è¿ç®—ï¼Œæ¯”å¦‚$A~XOR ~A = 0$ï¼‰æˆ–è€…ä»–å¯é€†ï¼ˆå³å­˜åœ¨å¦ä¸€ç§è¿ç®—ï¼Œæ˜¯è¿™ç§è¿ç®—çš„é€†è¿ç®—ï¼Œæ¯”å¦‚åŠ æ³•ä¹‹äºå‡æ³•ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¾—å‡ºå®ƒçš„ä¸€èˆ¬å½¢å¼$$D(\bigodot,u,v) = D(\bigodot,r,u) \bigodot D(\bigodot,r,v) ~\bigoplus ~(~2 \cdot D(\bigodot,r,LCA(u,v)~)~)$$ ï¼Œå…¶ä¸­æˆ‘ä»¬å‡è®¾è¿ç®—$\bigodot$ä¸$\bigoplus$äº’é€†ã€‚æ ‘ä¸Šå‰ç¼€å’Œå¤§æŠµä¸Šå°±æ˜¯è¿™ä¸ªæ„æ€ã€‚ é‚£ä¹ˆå›åˆ°è¿™ä¸ªé¢˜ï¼Œæˆ‘ä»¬å¯¹äºæ¯ä¸€ä¸ªç‚¹çš„$D$ï¼Œéƒ½æ˜¯ååˆ†æ–¹ä¾¿è®¡ç®—çš„ï¼Œå› ä¸ºæ— æƒæ—¶ï¼Œ$D(r,t) = depth[t]$æ˜¯ä¸€ä¸ªç›¸å½“å¹³å‡¡çš„ç»“è®ºï¼›æœ‰æƒæ—¶ï¼Œåˆ™ç›´æ¥$dfs$ä¸€éå³å¯ã€‚æ¯æ¬¡æŸ¥è¯¢æ˜¯$log$çº§åˆ«çš„ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦çš„æ¸è¿›ä¸Šç•Œå°±æ˜¯æ¯”è¾ƒæ˜¾ç„¶çš„$O(\max(m \log_2n,n))$ã€‚ ä»£ç å¤§æ¦‚æ˜¯è¿™æ · 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354il int qr()&#123; int k = 0; char c = getchar() ; while(!isdigit(c)) c = getchar() ; while(isdigit(c)) k = (k &lt;&lt; 1 )+ (k &lt;&lt; 3) + c - 48, c = getchar() ; return k ;&#125;il void add(int u, int v, int w)&#123; e[++cnt].t = v ; e[cnt].next = head[u] ; e[cnt].v = w ; head[u] = cnt ; e[++cnt].t = u ; e[cnt].next = head[v] ; e[cnt].v = w ; head[v] = cnt ;&#125;void _build(int deep, int now, int f, int _xor)&#123; fa[now][0] = f, dep[now] = deep, XOR[now] = _xor ; for(int k = head[now]; k ;k = e[k].next)&#123; if(e[k].t == f) continue ; _build(deep + 1, e[k].t, now, _xor ^ e[k].v) ; &#125;&#125;il void init()&#123; Up = log(N) / log(2) + 1 ; for(i = 1; i &lt;= Up; i ++) for(j = 1; j &lt;= N; j ++) fa[j][i] = fa[fa[j][i - 1]][i - 1] ;&#125;il int LCA(int u, int v)&#123; if(dep[u] &lt; dep[v]) swap(u, v) ; pre = dep[u] - dep[v] ; for(j = 0; j &lt;= Up; j ++) if((1 &lt;&lt; j) &amp; pre) u = fa[u][j] ; if(u == v) return u ; for(j = Up; j &gt;= 0; j --) if(fa[u][j] != fa[v][j]) u = fa[u][j], v = fa[v][j] ; return fa[v][0] ;&#125;int main()&#123; N = qr() ; for(i = 1; i &lt; N; i ++)&#123; in1 = qr(), in2 = qr(), in3 = qr(); add(in1, in2, in3) ; &#125; M = qr() ; _build(1, 1, 0, 0), init( ); for(i = 1; i &lt;= M; i ++)&#123; in1 = qr(), in2 = qr() ; f1 = LCA(in1, in2) ; int t = XOR[in1]^XOR[f1]^XOR[in2]^XOR[f1] ; cout &lt;&lt; t &lt;&lt; endl ; &#125; return 0 ;&#125; $\mathscr{Task~2}$å¸¦æœ‰ä¿®æ”¹çš„æŸ¥è¯¢é—®é¢˜ï¼šä¹‹åæˆ‘ä»¬ç´§æ¥ç€å°è¯•å»æ¢è®¨ä¸€ç±»å¸¦æœ‰ä¿®æ”¹è¾¹æƒçš„æ ‘ä¸Šæ“ä½œï¼Œå¤§æ¦‚é¢˜ç›®å°±æ˜¯æŸå¹´å›½å®¶é›†è®­é˜Ÿçš„æ¿å­é¢˜å’Œä¸€é“ç»å…¸çš„è¾¹æƒä¿®æ”¹å¯è’™é¢˜ æˆ‘ä»¬è€ƒè™‘ï¼Œçº·ç¹çš„æ“ä½œï¼Œæ­¤æ—¶å¥½åƒæ ‘å‰–æ¯”è¾ƒåˆé€‚äº›ã€‚ä½†æ— è®ºæ€æ ·ï¼Œæ ‘å‰–æ˜¯å‰–ç‚¹çš„ï¼Œä¸æ˜¯å‰–è¾¹çš„ã€‚æ‰€ä»¥æˆ‘ä»¬è‡ªç„¶è€Œç„¶åœ°æƒ³åˆ°è¦å»æŠŠè¾¹æƒè½¬ç§»åˆ°ç‚¹æƒä¸Šé¢ã€‚è½¬ç§»åˆ°å“ªå„¿å»å‘¢ï¼Ÿæ˜¾ç„¶åªèƒ½è½¬ç§»åˆ°æ·±åº¦å¤§çš„ç‚¹ä¸Šï¼Œå› ä¸ºåœ¨æ ‘è¿™ç§ç»“æ„é‡Œé¢ï¼Œä¸€å¯¹å¤šå†³å®šäº†æ¯ä¸ªèŠ‚ç‚¹å¦‚æœæƒ³è¦åªä¿ç•™ä¸€ä¸ªå±æ€§ï¼ˆæƒå€¼ï¼‰ï¼Œå°±ä¸èƒ½è®©çˆ¶èŠ‚ç‚¹ä¿ç•™è¾¹æƒâ€”â€”å¦åˆ™çˆ¶èŠ‚ç‚¹å°±ä¼šåŒæ—¶ä¿æœ‰è®¸å¤šå±æ€§ï¼Œå¹¶ä¸”å¶å­ç»“ç‚¹ä¼šæ²¡æœ‰å±æ€§ï¼Œå¯¼è‡´é€»è¾‘å…³ç³»ååˆ†æ··ä¹±ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±åº”è¯¥æŠŠè¾¹æƒæ”¾åˆ°æ·±åº¦å¤§çš„èŠ‚ç‚¹ä¸Šï¼Œå¯¹èŠ‚ç‚¹è¿›è¡Œæ“ä½œã€‚äº‹å®ä¸Šï¼Œæ­¤å¤„å”¯ä¸€éœ€è¦æ³¨æ„çš„é—®é¢˜å°±æ˜¯ï¼Œæˆ‘ä»¬åœ¨æ“ä½œçš„æ—¶å€™è¦å¿½ç•¥$LCA(u,v)$ï¼Œè¿™æ˜¯æ˜¾ç„¶çš„ã€‚å…³äºè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ˜¯æŠŠä¹‹å‰æ ‘å‰–é‡Œé¢çš„è¿™ä¸€å¥ï¼š 12_query(1, 1, N, Id[u], Id[v]) ; _update(1, 1, N, Id[u], Id[v], d) ; æ”¹æˆ 12_query(1, 1, N, Id[u] + 1, Id[v]) ; _update(1, 1, N, Id[u] + 1, Id[v], d) ; å³å¯ã€‚ è€Œå¯¹äºå¦‚ä½•è¾¹æƒè½¬ç‚¹æƒï¼Œæˆ‘ç”¨çš„æ€»æ—¶é—´å¤æ‚åº¦å¤§çº¦$O(n)$çš„åŒºé—´èµ‹å€¼å‡½æ•°ï¼Œå¥½åƒæ¯”è¾ƒæ–¹ä¾¿ï¼š 1234567for (i = 1 ; i &lt; N ; ++ i) n[i].u = qr(), n[i].v = qr(), n[i].c = qr(), _Add(n[i].u, n[i].v, n[i].c) ;dfs1(1, 1), dfs2(1, 1), _build(1, 1, N) ;for (i = 1 ; i &lt; N ; ++ i)&#123; if (Dep[n[i].u] &gt; Dep[n[i].v]) swap(n[i].u,n[i].v); _change(1, 1, N, Id[n[i].v], Id[n[i].v], n[i].c);&#125; å—¯ï¼Œé¢˜è§£å¥½å•Š é‚£ä¹ˆä¸Šé¢ä¸¤ä¸ªé¢˜å°±æ¯”è¾ƒç®€å•äº†ï¼š $\mathscr{T1 ~\text{ã®} ~code}$ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162struct Node&#123; int u, v, c ;&#125;n[MAX &lt;&lt; 1] ;struct Edge&#123; int v, next, to ;&#125;e[MAX &lt;&lt; 1] ; int Id[MAX], M, N, tot, A, B, C, i ; char STR[50] ;int Top[MAX], Fa[MAX], Sum[MAX], Son[MAX], Dep[MAX], head[MAX] ;int Max[MAX &lt;&lt; 1], Min[MAX &lt;&lt; 1], S[MAX &lt;&lt; 1], T[MAX &lt;&lt; 1], cnt ;inline int qr()&#123; int res = 0, f = 1 ; char c = getchar() ; while (!isdigit(c)) &#123;if (c == '-') f = -1 ; c = getchar() ;&#125; while (isdigit(c)) res = (res &lt;&lt; 1) + (res &lt;&lt; 3) + c - 48, c = getchar() ; return res * f ;&#125;inline void _Add(int u, int v, int c)&#123; e[++ cnt].v = c, e[cnt].to = v ; e[cnt].next = head[u], head[u] = cnt ; e[++ cnt].v = c, e[cnt].to = u ; e[cnt].next = head[v], head[v] = cnt ;&#125;void dfs1(int F, int now)&#123; Sum[now] = 1, Fa[now] = F, Dep[now] = Dep[F] + 1 ; for (int k = head[now] ; k ; k = e[k].next)&#123; if (e[k].to == F) continue ; dfs1(now, e[k].to) ; Sum[now] += Sum[e[k].to] ; if (Sum[e[k].to] &gt; Sum[Son[now]]) Son[now] = e[k].to ; &#125;&#125;void dfs2(int now, int Tp)&#123; Id[now] = ++ tot, Top[now] = Tp ; if (Son[now]) dfs2(Son[now], Tp) ; for (int k = head[now] ; k ; k = e[k].next)&#123; if (e[k].to == Fa[now] || e[k].to == Son[now]) continue ; dfs2(e[k].to, e[k].to) ; &#125;&#125;inline void P_u(int rt)&#123; Max[rt] = max(Max[Rs(rt)], Max[Ls(rt)]) ; Min[rt] = min(Min[Rs(rt)], Min[Ls(rt)]) ; S[rt] = S[Ls(rt)] + S[Rs(rt)] ;&#125;inline void P_d(int rt, int L, int R)&#123; if (T[rt])&#123; int t1 = Max[Ls(rt)], t2 = Max[Rs(rt)] ; T[Ls(rt)] ^= 1, T[Rs(rt)] ^= 1 ; Max[Ls(rt)] = -Min[Ls(rt)], Max[Rs(rt)] = -Min[Rs(rt)] ; Min[Ls(rt)] = -t1, Min[Rs(rt)] = -t2, S[Ls(rt)] = -S[Ls(rt)], S[Rs(rt)] = -S[Rs(rt)] ; T[rt] = 0 ; &#125;&#125;void _build(int rt, int L, int R)&#123; if (L == R) return ; _build(Ls(rt), L, Mid), _build(Rs(rt), Mid + 1, R) ; P_u(rt) ;&#125;void _change(int rt, int L, int R, int l, int r, int k)&#123; if (l &lt;= L &amp;&amp; R &lt;= r)&#123; S[rt] = Max[rt] = Min[rt] = k, T[rt] = 0 ; return ; &#125; P_d(rt, L, R) ; if (Mid &gt;= l) _change(Ls(rt), L, Mid, l, r, k) ; if (Mid &lt; r) _change(Rs(rt), Mid + 1, R, l, r, k) ; P_u(rt) ;&#125;void _update(int rt, int L, int R, int l, int r)&#123; if (l &lt;= L &amp;&amp; R &lt;= r)&#123; int t = Max[rt] ; Max[rt] = -Min[rt], Min[rt] = -t ; T[rt] ^= 1, S[rt] = -S[rt] ; return ; &#125; P_d(rt, L, R) ; if (Mid &gt;= l) _update(Ls(rt), L, Mid, l, r) ; if (Mid &lt; r) _update(Rs(rt), Mid + 1, R, l, r) ; P_u(rt) ; &#125;int _query(int rt, int L, int R, int l, int r)&#123; if (l &lt;= L &amp;&amp; R &lt;= r) return Max[rt] ; P_d(rt, L, R) ; int Maxxxxx = -Inf ; if (Mid &gt;= l) Maxxxxx = max(Maxxxxx, _query(Ls(rt), L, Mid, l, r)) ; if (Mid &lt; r) Maxxxxx = max(Maxxxxx, _query(Rs(rt), Mid + 1, R, l, r)) ; return Maxxxxx ;&#125;int __query(int rt, int L, int R, int l, int r)&#123; if (l &lt;= L &amp;&amp; R &lt;= r) return Min[rt] ; P_d(rt, L, R) ; int Minnnnn = Inf ; if (Mid &gt;= l) Minnnnn = min(Minnnnn, __query(Ls(rt), L, Mid, l, r)) ; if (Mid &lt; r) Minnnnn = min(Minnnnn, __query(Rs(rt), Mid + 1, R, l, r)) ; return Minnnnn ;&#125;int ___query(int rt, int L, int R, int l, int r)&#123; if (l &lt;= L &amp;&amp; R &lt;= r) return S[rt] ; P_d(rt, L, R) ; int Ssssss = 0 ; if (Mid &gt;= l) Ssssss += ___query(Ls(rt), L, Mid, l, r) ; if (Mid &lt; r) Ssssss += ___query(Rs(rt), Mid + 1, R, l, r) ; return Ssssss ;&#125;inline void _Update(int u, int v)&#123; while(Top[u] != Top[v])&#123; if(Dep[Top[u]] &lt; Dep[Top[v]]) swap(u, v) ; _update(1, 1, N, Id[Top[u]], Id[u]) ; u = Fa[Top[u]] ; &#125; if (Dep[u] &gt; Dep[v]) swap(u, v) ; _update(1, 1, N, Id[u] + 1, Id[v]) ;&#125;inline int Get_Max(int u, int v)&#123; int ret = -Inf ; while(Top[u] != Top[v])&#123; if(Dep[Top[u]] &lt; Dep[Top[v]]) swap(u, v) ; ret = max(ret, _query(1, 1, N, Id[Top[u]], Id[u])) ; u = Fa[Top[u]] ; &#125; if (Dep[u] &gt; Dep[v]) swap(u, v) ; ret = max(ret, _query(1, 1, N, Id[u] + 1, Id[v])) ; return ret ;&#125;inline int Get_Min(int u, int v)&#123; int ret = Inf ; while(Top[u] != Top[v])&#123; if(Dep[Top[u]] &lt; Dep[Top[v]]) swap(u, v) ; ret = min(ret, __query(1, 1, N, Id[Top[u]], Id[u])) ; u = Fa[Top[u]] ; &#125; if (Dep[u] &gt; Dep[v]) swap(u, v) ; ret = min(ret, __query(1, 1, N, Id[u] + 1, Id[v])) ; return ret ;&#125;inline int Get_Sum(int u, int v)&#123; int ret = 0 ; while(Top[u] != Top[v])&#123; if(Dep[Top[u]] &lt; Dep[Top[v]]) swap(u, v) ; ret += ___query(1, 1, N, Id[Top[u]], Id[u]) ; u = Fa[Top[u]] ; &#125; if (u == v) return ret ; if (Dep[u] &gt; Dep[v]) swap(u, v) ; ret += ___query(1, 1, N, Id[u] + 1, Id[v]) ; return ret ;&#125;int main()&#123; cin &gt;&gt; N ; for (i = 1 ; i &lt; N ; ++ i) n[i].u = qr() + 1, n[i].v = qr() + 1, n[i].c = qr(), _Add(n[i].u, n[i].v, n[i].c) ; dfs1(1, 1), dfs2(1, 1), _build(1, 1, N) ; for (i = 1 ; i &lt; N ; ++ i)&#123; if (Dep[n[i].u] &gt; Dep[n[i].v]) swap(n[i].u,n[i].v); _change(1, 1, N, Id[n[i].v], Id[n[i].v], n[i].c); &#125; cin &gt;&gt; M ; for (i = 1 ; i &lt;= M ; ++ i)&#123; scanf("%s", STR) ; if (STR[0] == 'N') A = qr() + 1, B = qr() + 1, _Update(A, B) ; if (STR[0] == 'S') A = qr() + 1, B = qr() + 1, printf("%d\n", Get_Sum(A, B)) ; if (STR[0] == 'M' &amp;&amp; STR[1] == 'A') A = qr() + 1, B = qr() + 1, printf("%d\n", Get_Max(A, B)) ; if (STR[0] == 'M' &amp;&amp; STR[1] == 'I') A = qr() + 1, B = qr() + 1, printf("%d\n", Get_Min(A, B)) ; if (STR[0] == 'C') A = qr(), B = qr(), n[A].c = B, _change(1 ,1, N, Id[n[A].v], Id[n[A].v], B) ; &#125; return 0 ;&#125; è¿™ä¸ªé¢˜æœ‰ä¸€ä¸ªå–ç›¸åæ•°çš„æ“ä½œï¼Œé‡åˆ°è¿™ç§æ­£åéƒ½éœ€è¦è€ƒè™‘çš„ï¼Œ$tag$ä¸€å®šæ˜¯å¼‚æˆ–è€Œä¸æ˜¯è¦†ç›– â€¦â€¦æ˜¯ä¸€ä¸ªå‘ç‚¹ $\mathscr{T2 ~\text{ã®} ~code}$ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132using namespace std ;struct Node&#123; int u, v, c ;&#125;n[MAX &lt;&lt; 1] ;struct Edge&#123; int v, next, to ; //0 = Change, 1 = Add .&#125;e[MAX &lt;&lt; 1] ; char STR[50] ; int A, B, C ;int Rec[MAX], Id[MAX], Aft[MAX] ;int N, tot ;int M[MAX &lt;&lt; 1], T[MAX &lt;&lt; 1][2], head[MAX], cnt, i ;int Top[MAX], Fa[MAX], Sum[MAX], Son[MAX], Dep[MAX];inline int qr()&#123; int res = 0, f = 1 ; char c = getchar() ; while (!isdigit(c)) &#123;if (c == '-') f = -1 ; c = getchar() ;&#125; while (isdigit(c)) res = (res &lt;&lt; 1) + (res &lt;&lt; 3) + c - 48, c = getchar() ; return res * f ;&#125;inline void _Add(int u, int v, int c)&#123; e[++ cnt].v = c, e[cnt].to = v ; e[cnt].next = head[u], head[u] = cnt ; e[++ cnt].v = c, e[cnt].to = u ; e[cnt].next = head[v], head[v] = cnt ;&#125;void dfs1(int F, int now)&#123; Sum[now] = 1, Fa[now] = F, Dep[now] = Dep[F] + 1 ; for (int k = head[now] ; k ; k = e[k].next)&#123; if (e[k].to == F) continue ; dfs1(now, e[k].to) ; Sum[now] += Sum[e[k].to] ; if (Sum[e[k].to] &gt; Sum[Son[now]]) Son[now] = e[k].to ; &#125;&#125;void dfs2(int now, int Tp)&#123; Id[now] = ++ tot, Top[now] = Tp ; if (Son[now]) dfs2(Son[now], Tp) ; for (int k = head[now] ; k ; k = e[k].next)&#123; if (e[k].to == Fa[now] || e[k].to == Son[now]) continue ; dfs2(e[k].to, e[k].to) ; &#125;&#125;inline void P_u(int rt)&#123;M[rt] = max(M[Rs(rt)], M[Ls(rt)]) ;&#125;void P_d(int rt, int L, int R)&#123; if(L == R) return; if (T[rt][0] != -1)&#123; M[Ls(rt)] = T[rt][0], M[Rs(rt)] = T[rt][0] ; T[Rs(rt)][0] = T[rt][0], T[Ls(rt)][0] = T[rt][0]; T[rt][0] = -1, T[Rs(rt)][1] = 0, T[Ls(rt)][1] = 0 ; &#125; if (T[rt][1])&#123; M[Ls(rt)] += T[rt][1], M[Rs(rt)] += T[rt][1] ; T[Rs(rt)][1] += T[rt][1], T[Ls(rt)][1] += T[rt][1] ; T[rt][1] = 0 ; &#125;&#125;void _build(int rt, int L, int R)&#123; T[rt][0] = -1 ; if (L == R) &#123;M[rt] = 0 ; return ;&#125; _build(Ls(rt), L, Mid), _build(Rs(rt), Mid + 1, R) ; P_u(rt) ;&#125;void _change(int rt, int L, int R, int l, int r, int k)&#123; if (l &lt;= L &amp;&amp; R &lt;= r)&#123;T[rt][0] = M[rt] = k, T[rt][1] = 0 ; return ;&#125; P_d(rt, L, R) ; if (Mid &gt;= l) _change(Ls(rt), L, Mid, l, r, k) ; if (Mid &lt; r) _change(Rs(rt), Mid + 1, R, l, r, k) ; P_u(rt) ;&#125;void _update(int rt, int L, int R, int l, int r, int k)&#123; if (l &lt;= L &amp;&amp; R &lt;= r)&#123;T[rt][1] += k, M[rt] += k ; return ;&#125; P_d(rt, L, R) ; if (Mid &gt;= l) _update(Ls(rt), L, Mid, l, r, k) ; if (Mid &lt; r) _update(Rs(rt), Mid + 1, R, l, r, k) ; P_u(rt) ; &#125;int _query(int rt, int L, int R, int l, int r)&#123; if (l &lt;= L &amp;&amp; R &lt;= r) return M[rt] ; P_d(rt, L, R) ; int Maxxxxx = -1 ; if (Mid &gt;= l) Maxxxxx = max(Maxxxxx, _query(Ls(rt), L, Mid, l, r)) ; if (Mid &lt; r) Maxxxxx = max(Maxxxxx, _query(Rs(rt), Mid + 1, R, l, r)) ; return Maxxxxx ;&#125;inline void _Update(int u, int v, int d)&#123; while(Top[u] != Top[v])&#123; if(Dep[Top[u]] &lt; Dep[Top[v]]) swap(u, v) ; _update(1, 1, N, Id[Top[u]], Id[u], d) ; u = Fa[Top[u]] ; &#125; if (u == v) return ; if (Dep[u] &gt; Dep[v]) swap(u, v) ; _update(1, 1, N, Id[u] + 1, Id[v], d) ;&#125;inline int Get_Max(int u, int v)&#123; int ret = -1 ; while(Top[u] != Top[v])&#123; if(Dep[Top[u]] &lt; Dep[Top[v]]) swap(u, v) ; ret = max(ret, _query(1, 1, N, Id[Top[u]], Id[u])) ; u = Fa[Top[u]] ; &#125; if (u == v) return ret ; if (Dep[u] &gt; Dep[v]) swap(u, v) ; ret = max(ret, _query(1, 1, N, Id[u] + 1, Id[v])) ; return ret ;&#125;inline void _Cover(int u, int v, int d)&#123; while(Top[u] != Top[v])&#123; if(Dep[Top[u]] &lt; Dep[Top[v]]) swap(u, v) ; _change(1, 1, N, Id[Top[u]], Id[u], d) ; u = Fa[Top[u]] ; &#125; if (u == v) return ; if (Dep[u] &gt; Dep[v]) swap(u, v) ; _change(1, 1, N, Id[u] + 1, Id[v], d) ;&#125;int main()&#123; cin &gt;&gt; N ; for (i = 1 ; i &lt; N ; ++ i) n[i].u = qr(), n[i].v = qr(), n[i].c = qr(), _Add(n[i].u, n[i].v, n[i].c) ; dfs1(1, 1), dfs2(1, 1), _build(1, 1, N) ; for (i = 1 ; i &lt; N ; ++ i)&#123; if (Dep[n[i].u] &gt; Dep[n[i].v]) swap(n[i].u,n[i].v); _change(1, 1, N, Id[n[i].v], Id[n[i].v], n[i].c); &#125; cin &gt;&gt; STR ; while(STR[0] != 'S')&#123; if (STR[0] == 'A') A = qr(), B = qr(), C = qr(), _Update(A, B, C) ; if (STR[0] == 'M') A = qr(), B = qr(), printf("%d\n", Get_Max(A, B)) ; if (STR[0] == 'C' &amp;&amp; STR[1] == 'o') A = qr(), B = qr(), C = qr(), _Cover(A, B, C) ; if (STR[0] == 'C' &amp;&amp; STR[1] == 'h') A = qr(), B = qr(), n[A].c = B, _change(1 ,1, N, Id[n[A].v], Id[n[A].v], B) ; scanf("%s", STR) ; &#125; return 0 ;&#125; è¿™ä¸ªé¢˜ä¹Ÿæœ‰ä¸€ä¸ªå‘ç‚¹ï¼Œä¸è¿‡æˆ‘ä¼¼ä¹æ³¨æ„åˆ°äº†ï¼Œå°±æ˜¯å®ƒå®é™…ä¸Šæœ‰ä¸¤ç§éœ€è¦ä¸‹ä¼ çš„æ ‡è®°ï¼Œä¸€ç§æ˜¯èµ‹å€¼ï¼Œä¸€ç§æ˜¯åŠ ï¼Œåœ¨ç®—æ ‡è®°çš„æ—¶å€™æ³¨æ„ä¸€ä¸‹å°±å¥½äº† ã€‚ ä¸æ ‘å½¢$\mathbb{DP}$ çš„å·§å¦™ç»“åˆè¿™ä¸ªåœ°æ–¹å…¶å®è¯´çš„æ˜¯ä¸€ç±»é—®é¢˜ã€‚ã€‚ã€‚æ¯”å¦‚ä¸€é“æˆ‘æ ¹æœ¬ä¸ä¼šçš„ ç»å…¸é¢˜ï¼š $Description$ ä¸€æ£µå¸¦æƒæ ‘ï¼Œ$n$ä¸ªç‚¹$q$æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸€ä¸ªç‚¹çš„$\sum dis_{odd}$å’Œ$\sum dis_{even}$ã€‚ $\mathcal{Solution}$ å…¶å®è¿™ä¸ªé¢˜çš„é¢˜ç›®æ„æ€æ˜¯è®©æˆ‘ä»¬æ±‚ï¼š $R$å›æƒ³çŸ¥é“å¯¹äºæ¯ä¸ªç‚¹æ¥è¯´ï¼Œåˆ°è¿™ä¸ªç‚¹æ˜¯è·ç¦»å¥‡æ•°çš„èŠ‚ç‚¹çš„è·ç¦»å’Œï¼Œä¸åˆ°è¿™ä¸ªç‚¹è·ç¦»æ˜¯å¶æ•°çš„èŠ‚ç‚¹çš„è·ç¦»å’Œã€‚ é‚£ä¹ˆæˆ‘ä»¬ä¸å¦¨å…ˆä»ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„é—®é¢˜å¼€å§‹è€ƒè™‘ï¼šå¦‚ä½•æ±‚ä¸€ä¸ªç‚¹åˆ°å®ƒå­æ ‘çš„è·ç¦»å’Œå‘¢ï¼Ÿ è¿™ä¸ªä¸œè¥¿æ¯”è¾ƒç®€å•ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ç›´æ¥$dfs$ã€‚ é‚£ä¹ˆå¦‚æœæ˜¯æ±‚æ‰€æœ‰ç‚¹åˆ°æ‰€æœ‰ç‚¹çš„è·ç¦»å’Œå‘¢ï¼Ÿ æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåˆšæ‰è¿™ä¸ªååˆ†ç®€å•çš„é—®é¢˜ï¼Œå‡åæˆä¸ºä¸€ä¸ªç¨å¾®å›°éš¾ä¸€äº›çš„é—®é¢˜ï¼šå¯¹äºæ¯ä¸ªç‚¹$u$ï¼Œæ±‚æ‰€æœ‰ç‚¹ä¸å®ƒçš„è·ç¦»ä¹‹å’Œï¼Œè·ç¦»ä¾è¾¹æƒè€Œå®šã€‚ æˆ‘é¦–å…ˆå¿½ç•¥è¾¹æƒï¼Œä»¤è¾¹æƒéƒ½æ˜¯$1$ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€è€ƒï¼Œæˆ‘ä»¬æ ¹æ®å·²çŸ¥æ¡ä»¶ï¼Œå¾ˆå®¹æ˜“çŸ¥é“çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šä¸€ä¸ªé—®é¢˜çŸ¥é“æ ¹èŠ‚ç‚¹åˆ°æ‰€æœ‰ç‚¹çš„è·ç¦»ä¹‹å’Œï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥çŸ¥é“æ¯ä¸ªèŠ‚ç‚¹å­æ ‘å†…çš„è¾¹æƒä¹‹å’Œï¼Œé‚£ä¹ˆå¦‚ä½•åˆ©ç”¨è¿™äº›å‘¢ï¼Ÿ æˆ‘ä»¬ä¼šå‘ç°ï¼Œæ­¤æ—¶æˆ‘ä»¬çŸ¥é“çš„é‡ï¼ŒåŒä¸€èˆ¬çš„æ ‘å½¢$DP$æˆ–è€…è¯´æ ‘å½¢ç»“æ„ä¸åŒï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»çŸ¥é“äº†æ¯ä¸€ä¸ªå­æ ‘çš„æ ¹èŠ‚ç‚¹çš„è®¯æ¯ï¼›è€Œå¹³å¸¸çš„æ ‘å½¢ç»“æ„ï¼Œæˆ‘ä»¬çŸ¥é“çš„åˆ™æ˜¯å­èŠ‚ç‚¹çš„è®¯æ¯$or$å­æ ‘çš„è®¯æ¯ï¼Œè¿™ä¸€ç‚¹æç¤ºæˆ‘ä»¬ï¼šåå‘$DP$ æˆ‘ä»¬ä¸å¦¨è®¾$dp_u$è¡¨ç¤º$\sum \limits_{i \in T}^{}{dist(i,u)}$ é‚£ä¹ˆæˆ‘ä»¬æ€è€ƒå¦‚ä½•æ„é€ ç›¸é‚»ä¸¤å±‚çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š é¦–å…ˆï¼Œæˆ‘ä»¬å·²ç»å†³å®šåå‘$DP$ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ç”¨çˆ¶äº²æ¨å‡ºå„¿å­ï¼›å¹¶ä¸”æˆ‘ä»¬äº†è§£åˆ°ï¼Œå¯¹äºæŸä¸€ä¸ªç‚¹$u$ï¼Œä»–çš„æ‰€æœ‰å­èŠ‚ç‚¹åˆ°ä»–çš„è·ç¦»è¦æ¯”åˆ°ä»–çš„çˆ¶äº²çš„è·ç¦»å°‘$1$ï¼ˆå‡è®¾è¾¹æƒ$=1$ï¼‰ï¼ŒåŒæ—¶æ‰€æœ‰é™¤å…¶å­æ ‘ä¹‹å¤–çš„æ‰€æœ‰ç‚¹åˆ°ä»–çš„è·ç¦»ä¼šå¤š$1$.é‚£ä¹ˆè½¬ç§»æ–¹ç¨‹æ—§é¡ºæ°´æ¨èˆŸåœ°ï¼š $dp_v = dp_u - subsize_v + (n - subsize_v), v \in son_u$é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬æ€è€ƒï¼Œå½“è¾¹æƒä¸ä¸º$1$çš„æ—¶å€™å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç¨å¾®é­”æ”¹ä¸€ä¸‹ä¸Šå¼ï¼Œäºæ˜¯å°±å¾—åˆ° $dp_v = dp_u - 2 \cdot pre_v \cdot subsize_v + N \cdot pre_v$å…¶ä¸­$pre_i$è¡¨ç¤ºèŠ‚ç‚¹$i$çš„ä¸Šè¡Œè¾¹ï¼Œå³çˆ¶äº²ä¸å®ƒç›¸è¿çš„é‚£æ¡è¾¹ã€‚ é‚£ä¹ˆä»¥ä¸Šç®€å•ç‰ˆæœ¬çš„ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233using namespace std ;struct Edge&#123; int to, next ;&#125;E[MAX] ; int head[MAX], cnt ; int N, A, B, i, j, dp[MAX], sub[MAX], Pre[MAX] ; inline void _Add(int u, int v)&#123; E[++ cnt].to = v, E[cnt].next = head[u], head[u] = cnt ; E[++ cnt].to = u, E[cnt].next = head[v], head[v] = cnt ;&#125;void build(int now, int f)&#123; sub[now] = 1 ; for (int k = head[now] ; k ; k = E[k].next)&#123; if (to(k) == f) continue ; build(to(k), now) ; sub[now] += sub[E[k].to], dp[1] += sub[E[k].to] ; &#125; return ;&#125;void fwork(int now, int f)&#123; for (int k = head[now] ; k ; k = E[k].next)&#123; if (E[k].to == f) continue ; dp[E[k].to] = dp[now] - 2 * sub[E[k].to] + N ; fwork(to(k), now) ; &#125;&#125;int main()&#123; cin &gt;&gt; N ; for (i = 1 ; i &lt; N ; ++ i) scanf("%d%d", &amp;A, &amp;B), _Add(A, B) ; build(1, 0) ; fwork(1, 0) ; for (i = 1 ; i &lt;= N ; ++ i) printf("%d\n", dp[i]) ;&#125; å”¯ä¸€å€¼å¾—æ³¨æ„çš„åœ°æ–¹å°±æ˜¯å…¶ä¸­$dp_1$æˆ–è€…è¯´$dp_{root}$çš„å¤„ç†ã€‚é‚£ä¹ˆå…¶å®è¿™ä¸ªåœ°æ–¹æˆ‘ä»¬åªéœ€è¦ä¸æ–­åŠ $size$å³å¯ã€‚ é«˜ç«¯ç‰ˆæœ¬çš„é—®é¢˜ï¼Œä»£ç ç±»ä¼¼ï¼š 12345678910111213141516171819202122232425262728293031struct Edge&#123; int to, next, v ;&#125;E[MAX &lt;&lt; 1] ; int head[MAX], cnt, i ;int N, Sub[MAX], Pre[MAX], dp[MAX], Sum, A, B, C ;void build(int now, int f)&#123; Sub[now] = 1 ; for (int k = head[now] ; k ; k = E[k].next)&#123; if (to(k) == f) continue ; build(to(k), now) ; Pre[to(k)] = E[k].v ; Sub[now] += Sub[to(k)], dp[1] += Pre[to(k)] * Sub[to(k)] ; &#125; return ;&#125;void dp_work(int now, int f)&#123; for (int k = head[now] ; k ; k = E[k].next)&#123; if (to(k) == f) continue ; dp[to(k)] = dp[now] - 2 * Pre[to(k)] * Sub[to(k)] + N * Pre[to(k)] ; dp_work(to(k), now) ; &#125;&#125;inline void Add(int u, int v, int w)&#123; E[++ cnt].to = v, E[cnt].v = w, E[cnt].next = head[u], head[u] = cnt ; E[++ cnt].to = u, E[cnt].v = w, E[cnt].next = head[v], head[v] = cnt ;&#125;int main()&#123; cin &gt;&gt; N ; for (i = 1 ; i &lt; N ; ++ i) scanf("%d%d%d", &amp;A, &amp;B, &amp;C), Add(A, B, C) ;; build(1, 0) ; dp_work(1, 0) ; for (i = 1 ; i &lt;= N ; ++ i) cout &lt;&lt; dp[i] &lt;&lt; endl ;&#125; é‚£ä¹ˆå›å½’åˆ°æˆ‘ä»¬çš„é—®é¢˜ï¼Œæˆ‘ä»¬è¦æ±‚çš„æ˜¯å¥‡æ•°è·ç¦»$\&amp;$å¶æ•°è·ç¦»ï¼Œå¾ˆç®€å•ï¼Œå†åŠ ä¸€ç»´å³å¯ã€‚ æˆ‘ä»¬è‡´åŠ›äºç»´æŠ¤è¿™æ ·ä¸€ä¸ªä¸œè¥¿ï¼šå¯¹äºæ¯ä¸ª$u \in T$ï¼Œ æˆ‘ä»¬è¯•å›¾ç¡®å®šé™¤$u$åŠå…¶å­æ ‘å¤–ï¼Œåˆ°$u$ç‚¹è·ç¦»æ˜¯å¥‡æ•°çš„ç‚¹çš„ä¸ªæ•°$S0$$\&amp;$è·ç¦»æ˜¯å¶æ•°çš„ç‚¹çš„ä¸ªæ•°$S1$ï¼Œä»¥ä¾¿äºçŠ¶æ€è½¬ç§»æ—¶ï¼Œä½œä¸ºç¬¬äºŒéƒ¨åˆ†ã€‚é‚£ä¹ˆå¹³å‡æ ‘é«˜ä¸‹ï¼Œç›´æ¥åœ¨$dfs/bfs$é‡Œé¢æ¥å›èµ‹å€¼å³å¯ã€‚ä½†æ˜¯è¿˜æ˜¯æœ‰éœ€è¦æ³¨æ„çš„åœ°æ–¹â€”â€”æ¯”å¦‚è¯´è¾¹ä¸ºå¥‡æ•°çš„æ—¶å€™ï¼Œçˆ¶å­èŠ‚ç‚¹çš„ä¸¤ä¸ªå€¼éœ€è¦$swap$ä¸€ä¸‹ï¼Œå¹¶ä¸”è¾¹æƒä¸ºå¥‡æ•°çš„æ—¶å€™ï¼Œæ˜¯äº¤å‰è½¬ç§»çš„ï¼ˆå¥‡æ•°çŠ¶æ€è½¬ç§»ç»™å¶æ•°çŠ¶æ€ï¼‰ï¼š $$dp[to(k)][0] = dp[now][1] - Sub[to(k)][0] Pre[to(k)] \ dp[to(k)][1] = dp[now][0] - Sub[to(k)][1] Pre[to(k)] ï¼Œ\ dp[to(k)][0] += S0 Pre[to(k)] , \ dp[to(k)][1] += S1 Pre[to(k)] ;$$ å…¶ä¸­$to(k) \in son_{now}$ è€Œå¶æ•°çš„æ—¶å€™ï¼Œæ˜¾ç„¶ä¸æ˜¯äº¤å‰è½¬ç§»çš„ï¼ˆå¥‡æ•°çŠ¶æ€è½¬ç§»ç»™å¥‡æ•°çŠ¶æ€ï¼‰ï¼š $$dp[to(k)][1] = dp[now][1] - Sub[to(k)][1] Pre[to(k)] ;\ dp[to(k)][0] = dp[now][0] - Sub[to(k)][0] Pre[to(k)] ;\ dp[to(k)][1] += S1 Pre[to(k)],\ dp[to(k)][0] += S0 Pre[to(k)] ;$$ äºæ˜¯å°±ç»“æŸäº†ã€‚å…¶å®è¿™ä¸ªåœ°æ–¹è½¬ç§»æ–¹å¼ååˆ†çš„å¤šï¼Œä½†æ˜¯å…³é”®çš„è£…å¥—è½¬ç§»æ–¹ç¨‹å…¶å®å°±æ˜¯ä¸€å¥ï¼š $dp_v = dp_u - 2 \cdot pre_v \cdot subsize_v + Count \cdot pre_v$å…¶ä¸­$Count$è¡¨ç¤ºæŸç§ç¥ç§˜çš„è®¡æ•°ã€‚ã€‚ã€‚ã€‚ é‚£ä¹ˆå…¶å®è¿™ç§é—®é¢˜è¿˜å¯ä»¥æ‹“å±•åˆ°â€œæ±‚å¯¹äºæ¯ä¸€ä¸ªç‚¹$u$ï¼Œ$dist(u,v) \mod n =k$çš„ç‚¹çš„ä¸ªæ•°ï¼Œå…¶ä¸­$k \in [0,k-1]$ï¼Œæˆ‘æ„Ÿè§‰åšæ³•åº”è¯¥ä¼šç±»ä¼¼å§ï¼ˆä½†æ˜¯æˆ‘è‚¯å®šä¸ä¼šåšå› ä¸ºæ ¹æœ¬ä¸å¯èƒ½è°ƒçš„å‡ºæ¥ï¼‰ ç»“è¯­ æ²¡å•¥å¥½è¯´çš„ï¼Œåªè§‰å¾—ç¬¬ä¸‰æ¨¡å—çš„ä¾‹é¢˜ååˆ†éš¾è°ƒï¼ååˆ†éš¾è°ƒï¼ï¼ï¼å¹¶ä¸”â€¦â€¦æˆ‘ä¸€å¼€å§‹æ²¡ç”¨$S0$æˆ–è€…$S1$ï¼Œç›´æ¥ç”¨çš„æ ¹èŠ‚ç‚¹çš„$sub_0$å’Œ$sub_1$ï¼Œæœ€åæ‰æ³•æ¡ˆæ ¹æœ¬ä¸å’Œé€»è¾‘ã€‚ã€‚ã€‚ä½†ä»–å±…ç„¶è¿‡æ ·ä¾‹äº†ã€‚ã€‚ã€‚ è½¬ç§»çš„æ—¶å€™è¿˜æ˜¯éœ€è¦æœ‰ä¸€ä¸ªæ¸…é†’çš„æ€è·¯å†codeå•Šï¼ $DP$å¥½å•Šï¼]]></content>
      <categories>
        <category>é¢˜è§£</category>
        <category>æ¨¡å‹</category>
      </categories>
      <tags>
        <tag>æ ‘æ¨¡å‹</tag>
        <tag>åŠ¨æ€è§„åˆ’-æ ‘å½¢DP</tag>
        <tag>è½»é‡é“¾å‰–åˆ†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¿æ€§è§„åˆ’å…¥é—¨Â·å•çº¯å½¢]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F15%2F%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%2F</url>
    <content type="text"><![CDATA[è®¸ä¹…ä¹‹å‰å¼€å§‹å­¦çš„ç®—æ³•äº†â€¦ä»Šå¤©ç»ˆäºå­¦å®Œäº†ã€‚ä¸»è¦å‚è€ƒçš„ææ–™æ˜¯è‘£å…‹å‡¡çš„$2016$é›†è®­é˜Ÿè®ºæ–‡å’Œ$\rm{Candy?}$çš„ä»£ç æ•´ç†ï¼Œåœ¨æ­¤å¤„è‡´ä»¥æ•¬æ„ã€‚ $\rm{0x01\quad Preface}$çº¿æ€§è§„åˆ’ä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼š $$\text{æœ€å¤§åŒ–}\quad \sum c_ix_i \quad(i = 1, 2,3 \cdots n) \\\text{æ»¡è¶³çº¦æŸ} \quad \sum \limits_{j=1}^{n} a_{i,j}x_{j} \leq b_i\quad (i = 1,2,3\cdots m) \\ \qquad \qquad \qquad \quad x_j \geq 0\quad (j=1,2,3\cdots n)$$ä¸å¤±ä¸€èˆ¬æ€§çš„ï¼Œæˆ‘ä»¬å®šä¹‰æœ€å¤§åŒ–çš„å‡½æ•°ä¸ºç›®æ ‡å‡½æ•°($\rm{Aim-Func}$) ï¼Œå®šä¹‰çº¦æŸå‡½æ•°çš„é›†åˆä¸ºçº¦æŸå‡½æ•°é›†($\rm{Constraint-Set}$)ã€‚é‚£ä¹ˆæœ´ç´ çš„çº¿æ€§è§„åˆ’å¯ä»¥çœ‹æ±‚ä¸€ç»„å‘é‡{$x_1,x_2\cdots x_n$}ï¼Œä½¿ä¹‹æ—¢å¯ä»¥åšçº¦æŸå‡½æ•°çš„å› å˜é‡ï¼Œåˆæ»¡è¶³å…¶ç›®æ ‡å‡½æ•°çš„å€¼ä¸º$max$ã€‚ åŒæ—¶ï¼Œè§„å®šæ‰€æœ‰çš„$x$å‡æ»¡è¶³$x&gt;0$ã€‚ å½“ç„¶ï¼Œå­˜åœ¨ä¸€ç§æ›´åŠ èµå¿ƒæ‚¦ç›®çš„çŸ©é˜µè¡¨ç¤ºæ–¹å¼ï¼š$$\text{æœ€å¤§åŒ–}\quad \boldsymbol{c^Tx} \\\text{æ»¡è¶³çº¦æŸ} \quad A\boldsymbol{x\leq b} \\\\it{\qquad \qquad \quad} \boldsymbol {x} \geq 0$$å…¶ä¸­$\boldsymbol{c,x,b}$å‡ä¸ºä¸€ç»´å‘é‡ï¼Œ$A$ä¸ºç³»æ•°çŸ©é˜µã€‚ é‚£ä¹ˆæˆ‘ä»¬åœ¨é«˜ä¸­æ•°å­¦å¿…ä¿®äº”é‡Œé¢è¿ç”¨çš„æ™ºéšœåšæ³•æ˜¯ï¼Œé€šè¿‡æ¯ä¸ªçº¦æŸç¡®å®šä¸€ä¸ªå‡¸åŒ…ï¼Œå†ç”¨ç›®æ ‡å‡½æ•°ä¸æ–­å¹³ç§»ä»¥æ±‚å¾—ä¸å‡¸åŒ…çš„åˆ‡ç‚¹/åˆ‡çº¿æ¥è¾¾åˆ°æœ€å¤§å€¼ï¼Œä½†æ˜¯è¿™æ ·çš„åšæ³•é€šå¸¸ä¸å…·æœ‰ä¸€èˆ¬æ€§ã€‚æ‰€ä»¥éœ€è¦å¼•å…¥ä¸€ç§æ›´å¸¸ç”¨çš„æ–¹æ³•æ¥è§£å†³è¿™ç±»é—®é¢˜ã€‚ $\rm{0x02\quad}$ æ¾å¼›å‹çŸ©é˜µä¸$\rm{Pivot}$æ“ä½œæˆ‘ä»¬è€ƒè™‘ä¸€ç§æ›´åŠ å‹å¥½çš„çº¿æ€§è§„åˆ’æ–¹å¼â€”â€”æ¾å¼›å‹çŸ©é˜µï¼Œå³å°†åŸæ¥çš„çŸ©é˜µæ·»åŠ å‡ ä¸ªæ— å®é™…ä½œç”¨çš„æ–°å˜é‡$x_i$ï¼Œä½¿ä¹‹æ¢ä¸€ä¸ªæ ·å­ï¼š$$\text{æœ€å¤§åŒ–}\quad \sum c_ix_i \quad(i = 1, 2,3 \cdots n) \\\text{æ»¡è¶³çº¦æŸ} \quad x_{n+i} = b_i - \sum \limits_{j=1}^{n} a_{i,j}x_{j} \quad (i = 1,2,3\cdots m) \\ \qquad\quad x_j \geq 0\quad (j=1,2,3\cdots n+m)$$ä¸¤ç§è¡¨ç¤ºæ˜¯ç­‰ä»·çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ›´å€¾å‘äºæ¾å¼›å‹è¿™ç§ç®€æ´çš„è¡¨è¿°æ–¹å¼ã€‚ åŒæ—¶æˆ‘ä»¬è§„å®šä»¥ä¸‹ï¼š $1.$åŸºå˜é‡ï¼šåœ¨æ¾å¼›å‹çº¦æŸä¸­ï¼Œç­‰å¼å·¦è¾¹çš„å˜é‡ã€‚ $2.$éåŸºå˜é‡ï¼šåœ¨æ¾å¼›å‹çº¦æŸä¸­ï¼Œç­‰å¼å³è¾¹çš„å˜é‡ã€‚ é‚£æˆ‘ä»¬å®šä¹‰ä¸€æ¬¡è½¬è½´æ“ä½œ$(pivot)$ä¸ºå°†ä¸€ä¸ªåŸºå˜é‡æ¢è¿›ç­‰å¼å³è¾¹ï¼Œæ¢å‡ºä¸€ä¸ªéåŸºå˜é‡çš„è¿‡ç¨‹ã€‚ å‡è®¾æˆ‘ä»¬åœ¨ç¬¬$i$ç»„çº¦æŸä¸­ï¼Œæœ‰ä¸€ä¸ªå˜é‡$x_k~(k&gt;n)$æ˜¯åŸºå˜é‡ï¼Œæˆ‘ä»¬è¦æ¢å‡ºä¸€ä¸ªéåŸºå˜é‡$x_p~(1\leq p\leq n)$ï¼Œé‚£ä¹ˆå°±ä¼šç”±ï¼š$$x_k= b_i -\sum \limits_{j=1}^{n} a_{i,j}x_{j}$$å˜æˆ$$x_p = \frac{b_i - \sum \limits_{j\neq p}a_{i,j}x_j -x_k}{a_{i,p}}$$è€Œå•çº¯æ€§åšæ³•çš„æœ¬è´¨å°±æ˜¯é€šè¿‡ä¸æ–­è½¬è½´ï¼Œå®ç°ç›®æ ‡å‡½æ•°ä¸æ–­å˜å¤§ã€‚ çœ‹ä¸Šå»ä¼¼ä¹æ¯”è¾ƒæŠ½è±¡ï¼Ÿæˆ‘ä»¬è€ƒè™‘å¯¹ä¸€æ¬¡è½¬è½´æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦åœ¨è½¬è½´ä¹‹åå°†åŸæ¥ç›®æ ‡å‡½æ•°é‡Œçš„éåŸºå˜é‡ä»£å…¥ï¼Œå³ç”¨$(b_i - \sum _{j\neq p}a_{i,j}x_j -x_k)/a_{i,p}$è¿™ä¸ªä¸œè¥¿å»æ›¿æ¢æ‰$x_p$ï¼Œé‚£ä¹ˆå…¶ä¸­çš„å¸¸æ•°é¡¹$\frac{b_i}{a_{i,p}}$å°±å¯ä»¥ä½œä¸ºç›®æ ‡å‡½æ•°ä¸­çš„ä¸€ä¸ªå¸¸æ•°å€¼ï¼Œå½“$x_i~(i=1,2,3\cdots n)$å‡ä¸º$0$æ—¶ï¼Œç›®æ ‡å‡½æ•°çš„å€¼å³ä¸ºæ­¤ã€‚é‚£ä¹ˆè½¬è½´æ“ä½œå°±æ˜¯é€šè¿‡è¿™æ ·çš„æ“ä½œä½¿å¾—ç›®æ ‡å‡½æ•°é‡Œçš„å¸¸æ•°å€¼ä¸æ–­å¢å¤§ï¼Œè¾¾åˆ°æœ€ä¼˜è§£ã€‚ æ³¨æ„ï¼Œè½¬è½´ä¹‹åçš„å¾—åˆ°çš„$x_p$çš„è¡¨è¾¾å¼ï¼Œä¸ä»…è¦ä»£å…¥ç›®æ ‡å‡½æ•°ï¼Œä¹Ÿè¦ä»£å…¥å…¶ä½™çš„çº¦æŸã€‚ $\rm{0x03}\quad \rm{Simplex}$é‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è€ƒè™‘å•çº¯æ€§åšæ³•çš„å®Œæ•´è¿‡ç¨‹ã€‚ ä¸å¤±ä¸€èˆ¬æ€§çš„ï¼Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰$b_i\geq 0$ é¦–å…ˆï¼Œæˆ‘ä»¬å¯¹äºè½¬è½´æ“ä½œç»“æŸï¼Œå›ä»£ä¸€æ¬¡ä¹‹åï¼Œä¼šå‘ç°ç›®æ ‡å‡½æ•°ä¸­è‚¯å®šä¼šæœ‰è‡³å°‘ä¸€é¡¹ç³»æ•°å˜ä¸ºè´Ÿå€¼ï¼Œå³è½¬è¿›æ¥çš„å‰Â·åŸºå˜é‡$x_k$ï¼Œé‚£ä¹ˆå¢å¤§$x_k$ä¸€å®šä¼šè®©ç»“æœç›®æ ‡å‡½æ•°å˜å°ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ–­è¨€ï¼Œå½“ç›®æ ‡å‡½æ•°é‡Œçš„æ‰€æœ‰å˜é‡ç³»æ•°å‡ä¸ºè´Ÿå€¼æ—¶ï¼Œç›®æ ‡å‡½æ•°çš„æœ€ä¼˜å€¼å°±ä¼šæ˜¯ç°åœ¨ç›®æ ‡å‡½æ•°ä¸­çš„å¸¸æ•°å€¼â€”â€”å› ä¸ºæˆ‘ä»¬åœ¨å‰æ–‡å·²ç»å‡å®š$x_i\geq 0$äº†ã€‚ åŒæ ·ï¼Œæˆ‘ä»¬æ¯æ¬¡è½¬è½´æ“ä½œéœ€è¦ä¿æŒåŸæ¥çº¿æ€§è§„åˆ’çš„ä¸å˜æ€§ï¼Œæ¢å¥è¯è¯´å°±æ˜¯æˆ‘ä»¬æ¯æ¬¡è½¬è½´æ—¶éƒ½éœ€è¦æ‰¾ä¸€ä¸ªå¯¹ä¸æŸä¸ªéåŸºå˜é‡é™åˆ¶æœ€ç´§çš„çº¦æŸï¼Œå°†å…¶æ¢å‡ºã€‚åŸå› æ˜¯æˆ‘ä»¬è€ƒè™‘ç›®æ ‡å‡½æ•°ä¸­çš„$x_i$ï¼Œå½“å…¶ç³»æ•°$\geq 0$æ—¶ï¼Œ$\rm{Aim }\propto x_i$ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾ä¸€ä¸ªæœ€ç´§çš„çº¦æŸéæ­¢$x_i$çš„å¢é•¿(å³ä½¿æˆ‘ä»¬ä¸æƒ³)ã€‚ é‚£ä¹ˆä¼ªä»£ç å¦‚ä¸‹ï¼Œ$A,\boldsymbol{b,c}$çš„å®šä¹‰ä¸€å¼€å§‹å·²ç»™å‡ºï¼š Simplex(A, b, c){$\qquad$ initialization(A,b,c) ; $\qquad$ while $âˆƒe$ that $c_e&gt;0${$\qquad$$\qquad$find the index $l$ that $A_{l,e}$ $&gt; 0$ and minimizes $b_l/A_{l,e}$$\qquad$$\qquad$if $âˆ€l, A_{l,e} â‰¤ 0$$\qquad$$\qquad$$\qquad$return Unbounded ;$\qquad$$\qquad$else$\qquad$$\qquad$$\qquad$pivot(A, b, c, l, e)ï¼›} å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåœ¨å¯»æ‰¾å®Œæœ€ç´§çº¦æŸåï¼Œå­˜åœ¨ä¸€ä¸ª$A_{l,e} \leq 0$ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è¿™ç»„çº¦æŸé‡Œæ— è®ºæ€ä¹ˆå¢å¤§$x_e$éƒ½ä¼šä½¿å¾—ç›®æ ‡å‡½æ•°å¢å¤§ï¼Œæ‰€ä»¥ç›´æ¥return Unboundedã€‚ æ­¤æ—¶æˆ‘ä»¬è¿˜éœ€è¦è¿›è¡Œé¢å¤–çš„æ“ä½œï¼Œå³åˆå§‹åŒ–ã€‚å› ä¸ºæˆ‘ä»¬è½¬è½´æ“ä½œçš„ç›®çš„æ˜¯ä½¿ç›®æ ‡å‡½æ•°å¢å¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿è¯æ‰€æœ‰çš„$b_i\geq 0$ï¼Œä½†ä¸€å¼€å§‹ç»™å®šçš„$b_i$å¾ˆå¯èƒ½ä¸æ»¡è¶³è¿™ä¸€çº¦æŸï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€æ¬¡åˆå§‹åŒ–ã€‚é‚£ä¹ˆå¯¹äºåˆå§‹åŒ–ï¼Œæˆ‘ä»¬çš„æ€æƒ³æ˜¯åšå¦ä¸€æ¬¡çº¿æ€§è§„åˆ’ã€‚é¬¼çŸ¥é“é‚£äº›å‘æ˜è¿™ç©æ„å„¿çš„ç¥ä»™æ€ä¹ˆæ„é€ å‡ºçš„è¿™ä¸ªçº¿æ€§è§„åˆ’ã€‚ æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªè¿™æ ·çš„çº¿æ€§è§„åˆ’ï¼š$$\text{æœ€å¤§åŒ–}\quad -x_0 \\\text{æ»¡è¶³çº¦æŸ} \quad x_{n+i} = b_i - \sum \limits_{j=1}^{n} a_{i,j}x_{j} +x_0\quad (i = 1,2,3\cdots m)\\\it{\qquad \qquad \qquad \quad x_j} \geq 0\quad (j=0,1,2,3\cdots n)$$é¦–å…ˆï¼Œæ— è®ºæ€æ ·ï¼Œå…ˆæ€è€ƒä»–ä¼šä¸ä¼šå¯¹åŸæ¥çš„çº¿æ€§è§„åˆ’äº§ç”Ÿä»€ä¹ˆå½±å“â€”â€”ç­”æ¡ˆæ˜¯ï¼šä¸ä¼šã€‚å› ä¸ºæˆ‘ä»¬è€ƒè™‘å½“$-x_0$æœ€å¤§æ—¶ï¼Œä¸€å®šæ˜¯$x_0=0$çš„æ—¶å€™ã€‚æ‰€ä»¥å¯¹äºçº¦æŸä¸­çš„$x_{n+i}$ï¼Œå¤§å°ä¸ä¼šå˜åŒ–ã€‚ é‚£ä¹ˆæˆ‘ä»¬è€ƒè™‘è¿™ç§åˆå§‹åŒ–æ–¹å¼çš„æ­£ç¡®æ€§ã€‚æˆ‘ä»¬è€ƒè™‘æ¯æ¬¡éƒ½å°†$x_0$ä½œä¸ºæ¢å…¥å˜é‡(å³æˆ‘ä»¬ä¸€å¼€å§‹å°†$x_0$è§†ä½œéåŸºå˜é‡)ï¼Œé‚£ä¹ˆ$pivot$ä¹‹åå°±ä¼šæœ‰$$x_0 = -b_i+x_{i+n}+\sum\limits_{j=1}^{n}a_{i,j}x_j$$ç”±äºæˆ‘ä»¬ä¸€å®šæ‰¾çš„æ—¶é™åˆ¶æœ€å°çš„ï¼Œé‚£ä¹ˆ$b_i&lt;0\Longrightarrow-b_i &gt;0$ï¼Œè¿™ç»„çº¦æŸåˆæ³•ã€‚ å¯¹äºå…¶ä½™çš„çº¦æŸï¼Œæˆ‘ä»¬è€ƒè™‘ä»£å…¥ä¹‹åï¼Œä¼šæœ‰ï¼š$$x_{n+k}= b_k-b_i+\sum\limits_{j=1}^{n}(a_{k,j}-a_{i,j})x_j+x_{i+n}$$ç”±äº$b_i$æœ€å°ï¼Œé‚£ä¹ˆ$b_k\geq b_i \Longrightarrow b_k-b_i\geq 0$ã€‚ä»»åŠ¡å®Œæˆã€‚ é‚£ä¹ˆå°±å¯ä»¥æ„‰å¿«åœ°ä¸Šä»£ç è¾£(â‰§â–½â‰¦)/ï¼é¢˜ç›®æ¥è‡ªäº$\rm{UOJ179}$ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;iostream&gt;#define MAXN 1010using namespace std ;const double eps = 1e-8, INF = 1e15 ;int N, M, T, Id[MAXN], i, j ; double A[MAXN][MAXN], Get[MAXN] ;void Pivot(int l, int e)&#123; swap(Id[N + l], Id[e]) ;//äº¤æ¢ä¸¤ä¸ªå˜é‡ double t = A[l][e] ; A[l][e] = 1.0 ; for(i = 0 ; i &lt;= N ; ++ i) A[l][i] /= t ;//ç±»ä¼¼äºé«˜æ–¯æ¶ˆå…ƒçš„ç¬¬ä¸€æ­¥ï¼ŒæŠŠè¿™ä¸€é¡¹æŒªåˆ°ç­‰å¼å³è¾¹ï¼Œæ‰€ä»¥è¦å…ˆéƒ½é™¤ä»¥ç³»æ•° for(i = 0 ; i &lt;= M ; ++ i) if(i != l &amp;&amp; fabs(A[i][e]) &gt; eps) for(t = A[i][e], A[i][e] = j = 0 ; j &lt;= N ; ++ j) A[i][j] -= A[l][j] * t ;//æ­¤å¤„åˆ™æ˜¯ä»£æ¢ã€‚è€Œç”±äºä»£æ•°å¼ä¸­è‚¯å®šä¸ä¼šå‡ºç°æˆ‘ä»¬çš„A_&#123;i,e&#125;(æ¯•ç«Ÿæ˜¯æ¢åˆ°äº†ç­‰å¼å³è¾¹)ï¼Œæ‰€ä»¥å¯¹äºè¿™ä¸€é¡¹çš„ç³»æ•°è¦ç‰¹æ®Šå¤„ç†æˆ0&#125;bool Init()&#123; while(true)&#123; int e = 0, l = 0 ; double t = -eps ; for (i = 1 ; i &lt;= M ; ++ i) if (A[i][0] &lt; t) l = i, t = A[i][0] ; if(!l) return 1 ;//æ‰¾ç³»æ•°æœ€å°çš„è´Ÿå€¼é¡¹ for (j = 1 ; j &lt;= N ; ++ j) if (A[l][j] &lt; -eps &amp;&amp; (!e || (rand() &amp; 1))) e = j ; if (!e) return puts("Infeasible"), false ; Pivot(l, e) ; &#125;//ä¸åˆæ³•çš„çº¿æ€§è§„åˆ’ï¼Œå› ä¸ºæˆ‘ä»¬å‡è®¾å…¨éƒ¨çš„ç³»æ•°éƒ½ä¸ºæ­£ï¼Œä¸”æˆ‘ä»¬å‰é¢å·²ç»å‡å®šäº†å…¨éƒ¨x_iä¸ºæ­£ï¼Œé‚£ä¹ˆä¸å¯èƒ½æ»¡è¶³æ ‡å‡†å‹é‡Œé¢çš„å°äºb_lâ€”â€”æ­¤æ—¶b_lä¸ºè´Ÿå€¼ã€‚ return 1 ;&#125;bool Simplex()&#123; while(1)&#123; int l = 0, e = 0 ; double MAX = INF ; for(j = 1 ; j &lt;= N ; ++ j) if (A[0][j] &gt; eps) &#123; e = j ; break ; &#125; if(!e) break ; for(i = 1 ; i &lt;= M ; ++ i) if (A[i][e] &gt; eps &amp;&amp; A[i][0] / A[i][e] &lt; MAX) MAX = A[i][0] / A[i][e], l = i ;//é€‰ä¸ªæœ€ç´§çš„çº¦æŸ if (!l) return puts("Unbounded"), false ; Pivot(l,e) ; &#125; return 1 ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; T ; srand(19260817) ; for (i = 1 ; i &lt;= N ; ++ i) Id[i] = i ; for (i = 1 ; i &lt;= N ; ++ i) cin &gt;&gt; A[0][i] ; for (i = 1 ; i &lt;= M ; cin &gt;&gt; A[i ++][0]) for (j = 1 ; j &lt;= N ; ++ j) cin &gt;&gt; A[i][j] ; if (!(Init() &amp;&amp; Simplex())) return 0 ; printf("%.8lf\n", -A[0][0]) ; if(T)&#123; for(i = 1 ; i &lt;= M ; ++ i) Get[Id[N + i]] = A[i][0] ; for(i = 1 ; i &lt;= N ; ++ i) printf("%.8lf ",Get[i]) ; &#125; return 0 ;&#125; ç„¶é¹…äº‹å®ä¸Šè¿™ä»½ä»£ç åªæœ‰$97pts$â€¦å¥½åƒå‰©ä¸‹3åˆ†å°±å‡ ä¹æ²¡æœ‰äººå¾—è¿‡ï¼Œé™¤äº†kczå’Œstdâ€¦â€¦ è‡³äºä¸­é—´çš„srandï¼Œæ˜¯ç”±äºæˆ‘ä»¬éšä¾¿$pivot$ä¸€ä¸ª$e$å°±å¥½ï¼Œäºæ˜¯å°±å¬é•¿è€…çš„ã€‚ $\rm{0x04}\quad Afterwords$ä¸€ç›´æƒ³å­¦ï¼Œä¸€ç›´æ²¡æœ‰æœºä¼šå­¦ã€‚ è¯´èµ·æ¥ç¡®å®æœ‰ç‚¹å„¿å°æ¿€åŠ¨ã€‚ç¬¬ä¸€æ¬¡å†™å•çº¯å‹çš„ä»£ç æ˜¯å‰ä¸ä¹…çš„ä¸€æ¬¡å‘¨æœ«ï¼Œæ—©ä¸Šç‚¹èµ·æ¥ä¹‹åå¤´æ˜è„‘æ¶¨åœ°æ‰‘å‘Candy?çš„åšå®¢ï¼Œå­¦äº†èµ·æ¥ã€‚åœ¨é‚£ä¹‹åæ‰å‘ç°åŸæ¥çº¿æ€§è§„åˆ’å¹¶ä¸å¸¸è€ƒï¼Œç”šè‡³è¯´ï¼Œä¸è€ƒã€‚ä½†æ˜¯æˆ‘æŒºå–œæ¬¢è¿™ç§æ„Ÿè§‰ï¼Œæ„Ÿè§‰è‡ªå·±ä»¿ä½›æ¯”å‡ºé¢˜äººä¼šçš„è¿˜å¤š $\rm{Reference}$ $[1]$ :$Candy?$çš„$blog$ $^{^{[\nearrow ]}}$ $[2]$ :2016å›½å®¶é›†è®­é˜Ÿè®ºæ–‡ã€Šæµ…è°ˆçº¿æ€§è§„åˆ’ä¸å¯¹å¶é—®é¢˜ã€‹è‘£å…‹å‡¡Â· $^{^{[\nearrow]}}$ æå–ç ï¼švua4]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
        <category>çº¿æ€§è§„åˆ’</category>
      </categories>
      <tags>
        <tag>çº¿æ€§è§„åˆ’/å•çº¯å½¢æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšæƒ³å…­Â·éš¾]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F03%2F10%2F%E9%9A%8F%E6%83%B3%E5%85%AD%C2%B7Hard%2F</url>
    <content type="text"><![CDATA[ã€Šéšæƒ³ã€‹ç³»åˆ—ç›®æ¬¡è¡¨ï¼š$Link$ $\text{Part0}$ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæœ€è¿‘çš„å¿ƒç»ªé¢‡ä¸å®é™ã€‚ é‚£æ˜¯ä¸€ç§è¯´ä¸å‡ºæ¥çš„ç—›è‹¦ä¸å¯‚å¯ï¼Œæˆ–è®¸å¤¹æ‚ç€ä¸€äº›çˆ½å¿«ã€‚çœé€‰å°†è¿‘ï¼Œæˆ‘ä¸çŸ¥é“è‡ªå·±ä¼šæœ‰ä»€ä¹ˆæ ·çš„ä¸‹åœºã€‚æˆ‘åªçŸ¥é“è‡ªå·±ç åŠ›ä¾æ—§å¾ˆå¼±ã€è„‘å­ä¾æ—§å¾ˆç¬¨ã€‚æ¯”èµ·å‡ ä¸ªæœˆä¹‹å‰é€€å½¹ä¹‹åèé¡ä¸æŒ¯çš„è‡ªå·±ï¼Œæ²¡æœ‰ä»€ä¹ˆé•¿è¿›ã€‚ æˆ‘æ›´æ˜¯çŸ¥é“ï¼Œæˆ‘åŸæœ¬çš„æƒ³æ³•æ˜¯å¤šä¹ˆçš„å¹¼ç¨šã€‚æˆ–è®¸æˆ‘ä¸€ç›´åœ¨éª—è‡ªå·±å§ï¼Œéª—è‡ªå·±â€œçœé€‰ä¹‹å‰çš„ä¸€ä¸¤ä¸ªæœˆï¼Œæ‹¼ä¸€æ‹¼ã€æŒ¤ä¸€æŒ¤æ—¶é—´ï¼Œæˆ–è®¸å°±èƒ½æ€æ ·æ€æ ·â€â€”â€”åŸæ¥$\rm{NOIP}$çˆ†é”¤æˆ‘çš„äººï¼Œä¸æ­¢æ¯”æˆ‘èªæ˜ï¼Œè¿˜æ¯”æˆ‘å‹¤å¥‹ï¼Œè¿˜æ¯”æˆ‘è®¤çœŸï¼Œè¿˜æ¯”æˆ‘åŠªåŠ›ã€‚æˆ‘æœ‰ä»€ä¹ˆèµ„æœ¬å»åŒå°ç«æŠ€å‘¢ï¼Ÿåˆ°æœ€åï¼Œçœé€‰å¯¹æˆ‘æ¥è¯´ï¼Œä¹Ÿä¸è¿‡åªæ˜¯ä¸ªç¬‘è¯å§ã€‚ è¿™äº›å¤©æˆ‘ä¸€ç›´è§‰å¾—è‡ªå·±å·²ç»è¶³å¤ŸåŠªåŠ›äº†ï¼Œä½†æ˜¯å‘ç°æ°¸è¿œéƒ½æ˜¯â€œè¿œè¿œä¸å¤Ÿâ€ã€‚å°±å¥½æ¯”æˆ‘æƒ³è¦è§¦åŠ$\infin$ï¼Œè€Œæˆ‘æ¯å¤©å°±ç®—æ˜¯ä»¥$100$ã€$1000$ã€$10000$â€¦â€¦ çš„é€Ÿç‡å¢é•¿ï¼Œä¹Ÿæ°¸è¿œæ²¡æœ‰æŠµè¾¾çš„é‚£ä¸€å¤©ã€‚ æ¯•ç«Ÿå•Šï¼Œä¸Šè‹çš„ç¬”ä¸‹ï¼Œæ—©å·²ç»å†™ä¸‹äº†è§„åˆ™ï¼šæ— è®º$1$åé¢å¤šå°‘ä¸ª$0$ï¼Œéƒ½è‡³å¤šæ˜¯ä¸€ä¸ªååˆ†å¤§çš„å¸¸æ•°è€Œå·²ã€‚ å°±å¥½åƒæˆ‘è‡ªå·±ï¼Œæ— è®ºå¤šä¹ˆåŠªåŠ›ï¼ŒåŠªåŠ›åˆ°æ„ŸåŠ¨è‡ªå·±ï¼Œä¹Ÿè‡³å¤šæ˜¯ä¸€ä¸ªç¬‘è¯è€Œå·²ã€‚ $\text{Part1}\cdot Her$â€œå¥¹â€æ˜¯è°ï¼Ÿ æˆ‘æ›¾åœ¨$qq$ç©ºé—´ä¸­å‘è¿‡ä¸€ç¯‡è¯´è¯´ï¼Œè°ƒä¾ƒæˆ‘ä»¬å¥¥èµ›ç”Ÿä¸èƒ½æ”¾å‡ï¼Œä½†æ˜¯ä¸»ä½“éƒ¨åˆ†å´æ˜¯ä¸å‡æœŸæ¯«æ— å…³ç³»ï¼š å¤´ä¸€æ¬¡æ¸…æ™¨åœ¨æ— äººçš„æ ¡å›­é‡Œé—²é€›ï¼Œè€³ç•”æ˜¯é’é¸Ÿåœ¨æ­Œå”±ç€ç¤¼èµï¼Œä»¥åŠå¤¹æ‚åœ¨æ¸…é£ä¸­çš„å¾å¾å›éŸ³ï¼Œçœ¼å‰æ˜¯æ¾„ç¢§è‰²çš„å¤©ç©ºï¼Œè¿œå¤„ä»¿ä½›é™ä¸‹ä¸€é“è‹¥éšè‹¥ç°çš„å¤©ä¸Šè™¹ã€‚ä¸€åˆ‡éƒ½æ…¢ä¸‹æ¥äº†ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°æµäº‘åœ¨èˆ’å¼ ã€å·ç¼©ï¼Œåˆèˆ’å¼ ï¼Œæˆ‘å¯ä»¥å¬åˆ°æ¸ºèŒ«çš„æ­Œå£°ï¼Œæˆ‘ç”šè‡³å¯ä»¥æƒ³åˆ°ä½ çš„æ¨¡æ ·â€”â€”é‚£åœ¨æš–é˜³ä¸‹ç† ç† é—ªå…‰çš„ç»†æ¡†çœ¼é•œå’Œæ¸…äº®çš„çœ¸å­ï¼Œä»¥åŠå¦‚æ¡ƒèŠ±ä¸€æ ·ç»¯çº¢çš„é¢é¢Šã€‚å¥½åƒæ•´ä¸ªä¸–ç•Œéƒ½åœä¸‹æ¥äº†ï¼Œåªæœ‰æˆ‘å’Œåœ¨çƒŸé›¾ä¸­å¹»åŒ–å‡ºç¥å½¢çš„ä½ ï¼Œå’Œèº«æ—ææ¢¢ä¸Šçš„é’é¸Ÿï¼Œä»¥åŠæŒ‡å°–æµæ çš„æ¸…é£ä¸é˜³å…‰â€”â€” æœ€åä¸€å¥æœ¬æ¥æ˜¯ä½†æ˜¯è¿™TMè·Ÿæˆ‘åªèƒ½å¾…åœ¨å­¦æ ¡ä¸èƒ½å›å®¶å¹¶ä¸”ä½ ä»¬åœ¨å®¶é‡Œå—¨æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œæ¯•ç«Ÿæ˜¯ä¸ºäº†é€—ä¹ï¼Œæˆ‘ä¹Ÿä¸æƒ³è¢«å½“æˆä»€ä¹ˆä¸ºæ„Ÿæƒ…çƒ¦æ¼çš„æ„£å¤´é’ã€‚ä½†æ˜¯åœ¨æˆ‘çœ‹æ¥ï¼Œä¸»ä½“éƒ¨åˆ†åº”è¯¥æ˜¯ä¸Šé¢å¼•ç”¨æ¡†é‡Œçš„å†…å®¹ã€‚ æˆ‘æ›¾ç»è§‰å¾—åªè¦å¥¥èµ›æ‹¿äº†è€€çœ¼çš„æˆç»©ï¼Œå°±å¯ä»¥ååˆ†éª„å‚²åœ°å»è¿½æ±‚æˆ‘æƒ³è¦çš„ã€‚ä½†å°±ç°åœ¨çš„æƒ…å†µè€Œè¨€ï¼Œä¸æ˜¯å¾ˆä¹è§‚ã€‚ æˆ‘ä¸æƒ³è®©å¥¹çŸ¥é“è¿™ä»¶äº‹ï¼Œå› ä¸ºè¿™ä¸–ç•Œä¸Šæ— ç–¾è€Œç»ˆçš„äº‹æƒ…å¤ªå¤šäº†ï¼Œæˆ–è®¸è¿™å°±æ˜¯ä¸‹ä¸€ä»¶ã€‚ä½†å…¶å®æ€æ¥æƒ³å»ï¼Œä¼¼ä¹è¿™ä»½è–„è–„çš„æ„Ÿæƒ…å¹¶ä¸é‚£ä¹ˆé‡è¦ï¼Œå› ä¸ºæ¯”èµ·è¿™äº‹å„¿æ¥ï¼Œæˆ‘éœ€è¦æ‹…å¿ƒçš„ä¸œè¥¿è¿˜æœ‰å¤ªå¤šå¤ªå¤šâ€”â€”æ˜å¤©è·‘æ“ä¼šä¸ä¼šå¾ˆç´¯ï¼Ÿæ–‡åŒ–è¯¾ä¼šä¸ä¼šç»§ç»­è·ªï¼Ÿæ–‡åŒ–è¯¾è·ªå®Œç­ä¸»ä»»æ˜¯å¦ä¼šä¸§å¤±å¯¹æˆ‘çš„æœ€åä¸€ç‚¹ä¿¡ä»»ï¼Ÿæˆ‘çš„OIç»ˆç‚¹åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿâ€¦â€¦ ä»¥å‰ä»æ²¡è§‰å¾—åšäººè¿™ä¹ˆéš¾ã€‚ä½†æˆ‘å¹¶ä¸æƒ³è¯´â€œæˆ‘æˆé•¿äº†â€è¿™ç§è‡ªæˆ‘æ»¡è¶³å¼çš„è¯è¯­ï¼Œæˆ‘æ›´æƒ³å¯¹æˆ‘è‡ªå·±è¯´ï¼š å¤§æ¦‚æ˜¯åªæœ‰å¼±è€…æ‰ä¼šè§‰å¾—äººç”Ÿè‰°éš¾å§ã€‚ä½ çœ‹ä½ ç°æš—çš„çœ¼çœ¸ä¸­çš„å¯¹å²¸ï¼Œæ­£æœ‰ä¸ªé’å¹´ï¼Œçœ¼é‡Œå…¨æ˜¯å±±æ°´è¯—ç”»ã€‚å¯æƒœé‚£ä¸ªé’å¹´ï¼Œä¸æ˜¯ä½ ã€‚ å¥¹å­¦ä¹ æˆç»©å¾ˆå¥½ï¼Œæ¯•ç«Ÿä¸å­¦å¥¥èµ›ï¼Œæœ‰å¤§æŠŠçš„æ—¶é—´å»ææ–‡åŒ–è¯¾ã€‚è€Œæˆ‘æˆ–è®¸åªæ˜¯ç­çº§è§’è½é‡Œä¸€ä¸ªå–œæ¬¢æ ‡æ–°ç«‹å¼‚çš„å¼±è€…å§ã€‚ $\rm{Part3}$æˆ‘å¾ˆçƒ¦ã€‚ æœºæˆ¿é‡Œå»å¹´çœä¸€çš„å°ä¼™ä¼´ä»¬ä¼¼ä¹å¹¶ä¸æ˜¯å¤šåœ¨æ„çœé€‰ï¼Œå°±åªæœ‰æˆ‘åœ¨æ‹¼å¾—å¤´æ˜è„‘èƒ€ã€‚ æˆ‘å¥½ä¸çˆ½å•Šï¼Œå‡­ä»€ä¹ˆæˆ‘å¦‚æ­¤çè§†çš„ä¸œè¥¿ï¼Œä»–ä»¬å¯ä»¥èƒ¡ä¹±è¹‚èºã€æµªè´¹ã€ç·æ±¡â€”â€”å†µä¸”è¿„ä»Šä¸ºæ­¢è¿™ä¸ªæœºä¼šå¯¹äºå»å¹´NOIPè€ƒæŒ‚çš„æˆ‘ï¼Œè¿˜ä¸ä¸€å®šæœ‰è¿™ä¸ªæœºä¼šå»çœé€‰ã€‚è¿™å°±å¥½åƒæˆ‘çš„å¥³ç¥ä¸å±äºæˆ‘ï¼Œä½†æ˜¯å´è¢«å¦ä¸€ä¸ªäººåˆæ€åˆå‰â€”â€”æˆ‘æ€èƒ½ä¸ç”Ÿæ°”+å¯’å¿ƒå‘¢ï¼Ÿ å¥½åœ¨è¿™ä¸ªç²¾ç¥çŠ¶æ€æŒç»­äº†ä¸¤å¤©å°±å¥½è½¬äº†â€”â€”ä¸»è¦åŸå› æ˜¯æˆ‘å¾—çŸ¥$SD$çš„çœé€‰æ”¿ç­–ï¼Œåªæ˜¯é™åˆ¶äº†åŸºå‡†çº¿è€Œå·²â€”â€”æˆ–è®¸è¿˜æœ‰æœºä¼šï¼Ÿæˆ‘ä¸çŸ¥é“ï¼Œå› ä¸ºæˆ‘çš„æ™ºå•†åœ¨æ‰€æœ‰çš„$Oier$é‡Œé¢ï¼Œå¤§æ¦‚ç®—æ˜¯ä¸ªä¸­ä¸‹ï¼Œæ‰€ä»¥æˆ‘å³ä½¿æ‹¼å°½å…¨åŠ›ä¹Ÿä¸èƒ½ä¿è¯å¼ºè¿‡è°â€”â€”å†µä¸”æˆ‘æ ¹æœ¬ä¸å¯ä»¥æ‹¼å°½å…¨åŠ›å•Šâ€¦ æœ€è¿‘ä¸€ç›´åœ¨ç¿˜è€ƒè¯•ã€ç¿˜ç¾æœ¯éŸ³ä¹è¯¾â€¦â€¦å„ç§ç¿˜ï¼Œæˆ‘ä¼°è®¡ç­ä¸»ä»»é©¬ä¸Šå°±è¦é€šè¿‡å¯¹æˆ‘çš„ä¸ä¿¡ä»»æ¡ˆäº†â€¦â€¦ $\rm{Part4}$ä¸å¾—ä¸è¯´è¿™ç¯‡éšæƒ³æ¯”ä¹‹å‰çš„éšæƒ³æ°´å¤šäº†â€¦â€¦äºæ˜¯ç³Šä¸€ç¯‡æˆ‘åœ¨çŸ¥ä¹ä¸Šçš„å›ç­”å§ã€‚å½“æ—¶æœ‰ä¸ªé¢˜ä¸»é—®ï¼Œå¦‚æœä»é«˜ä¸€ä¸‹å­¦æœŸå·¦å³å¼€å§‹ï¼Œæ¯å¤©å­¦å¥¥èµ›å‡ ä¸ªå°æ—¶ï¼Œèƒ½ä¸èƒ½æ‹¿é‡‘ç‰Œã€‚ å…¶å®æœ¬æ¥æ˜¯æ— æ‰€è°“çš„â€”â€”äºæˆ‘è€Œè¨€æ— æ‰€è°“ã€‚å› ä¸ºä»–å¿—å‘å®å¤§æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œè‡³äºèƒ½å¦æˆçœŸï¼Œæˆ‘ä¹Ÿæ²¡æœ‰è¯„è®ºçš„æƒåˆ©ã€‚ä½†æ˜¯æˆ‘ç¡®ä¹æ˜¯å‘ç°ï¼Œä»–å¿ƒé‡Œä¸€ç›´æ˜¯è§‰å¾—â€œæˆ‘è¿˜æœ‰ä¸¤æŠŠåˆ·å­çš„â€ï¼Œâ€œåªæ˜¯æ—¶è¿ä¸æµç½¢äº†â€ã€‚ä¸çŸ¥æ€çš„ï¼Œçªç„¶æˆ‘å°±æœ‰äº†æƒ³å¤šè¯´ä¸¤å¥çš„æ¬²æœ›ï¼š æˆ‘ç»™ä½ è®²ï¼Œç›®æ ‡è·Ÿçœ¼ç•Œå’Œå®åŠ›æœ‰å…³ã€‚çœ¼ç•Œè¶Šå¤§ã€å®åŠ›è¶Šå¼ºï¼Œç›®æ ‡è¶Šå°ã€‚ åŒæ—¶ï¼Œæˆ‘å¯ä»¥å¾ˆè´Ÿè´£ä»»çš„è·Ÿä½ è®²ï¼šä½ ç»å¯¹ä¸çŸ¥é“çš„æ¥ä¸‹æ¥ä½ é¢ä¸´çš„æ˜¯ä»€ä¹ˆã€‚ å¦‚æœè¯´ä½ å‡†å¤‡æé«˜ç»„çš„è€ƒè¯•ä¹‹å‰ï¼Œæœ‰ä»€ä¹ˆé¢˜ä¸ä¼šçœ‹é¢˜è§£ï¼Œç†è§£èµ·æ¥çš„ç—›è‹¦ç¨‹åº¦æ˜¯1çš„è¯ï¼Œé‚£ä¹ˆä½ æƒ³ç»§ç»­å‘ä¸Šèµ°ã€æƒ³å»çœé€‰ã€æƒ³å»NOIï¼Œç†è§£èµ·æ¥çš„ç—›è‹¦ç¨‹åº¦å°†ä¼šæ˜¯1e5ä»¥ä¸Šã€‚ æ²¡é”™ï¼Œ10ä¸‡å€â€”â€”å¦‚æœä½ æƒ³è‡ªå­¦çš„è¯ã€‚ç›¸ä¿¡æˆ‘ï¼ŒNOIPçº§åˆ«çš„è€ƒè¯•ï¼Œåªæ˜¯è€ƒä»£ç ç´ è´¨/ç¨‹åºè®¾è®¡èƒ½åŠ›ï¼Œæ ¹æœ¬ä¸è€ƒå¯Ÿç†è§£èƒ½åŠ›ã€‚ ä¿é€â€”â€”æ˜¯çš„ï¼Œè¿™æ˜¯å¥¥èµ›çš„ç»ˆæç›®æ ‡ä¹‹ä¸€ã€‚ä½†æ˜¯å‘æ¥ä¸ä¼šæœ‰äººä¸»åŠ¨è°ˆèµ·è¿™ä»¶äº‹ï¼Œå³ä½¿ä»–å†NBã€‚ä½ ç°åœ¨è¿˜å¯ä»¥æå‡ºè¿™ä¸ªé—®é¢˜ï¼Œåªæ˜¯è¯´æ˜ä½ è¿˜ä¸äº†è§£è¡Œæƒ…ã€‚æŠ±æ­‰ï¼Œå¦‚æœä½ ç°åœ¨è§‰å¾—ä½ è‡ªå·±å¾ˆæœ‰å¤©åˆ†ï¼Œä½ è§‰å¾—ä½ ç°åœ¨å¯ä»¥æ‹¿â€œå•Šâ€¦æˆ‘å½“æ—¶åªæ˜¯å› ä¸ºæŸäº›è·Ÿæˆ‘è‡ªå·±æ²¡æœ‰å…³ç³»çš„åŸå› å¤±è´¥äº†â€è¿™ç§å¹¼å„¿å›­æ™ºå•†çš„ç†ç”±æ¥éª—è‡ªå·±â€”â€”æˆ‘åªèƒ½è·Ÿä½ è¯´ï¼Œä½ ä¸çŸ¥é“å…¶å®ƒäººæœ‰å¤šå‰å®³ï¼Œè¯´å¾—éš¾å¬äº›ï¼Œå°±æ˜¯äº•åº•ä¹‹è›™â€”â€” ä½ çŸ¥é“å…¨ä¸­å›½æœ‰æ— ç©·æ— å°½çš„æ™ºå•†å¯ä»¥åŠæ‰“ä½ çš„äººï¼Œä»–ä»¬æ¯å¤©å¯ä»¥æœ‰å¤§åŠå¤©çš„æ—¶é—´å­¦OIå—ï¼Ÿ ä½ çŸ¥é“æ¯å¹´æœ‰å¤šå°‘åˆä¸­ç”Ÿåœ¨NOIpä¸­ç¢¾å‹é«˜ä¸­ç”Ÿå—ï¼Ÿ ä½ ä¸çŸ¥é“ã€‚ æ¯å¤©å‡ ä¸ªå°æ—¶ï¼Ÿ åšå­¦é—®æœ€éœ€è¦çš„æ˜¯è°¦å‘ï¼Œç»™è‡ªå·±æ‰¾ç†ç”±ã€æ²‰æµ¸åœ¨â€œæˆ‘åº”è¯¥å¤šä¹ˆå¤šä¹ˆå‰å®³â€çš„å¹»æƒ³é‡Œç»ˆç©¶ä¼šå¤±è´¥ã€‚ ä½ ç›¸ä¿¡æˆ‘ï¼Œæˆ‘è¯´çš„éƒ½æ˜¯åˆ‡å®çš„ä½“ä¼šã€‚ä½ ä½“ä¼šä¸åˆ°æ˜¯å› ä¸ºä½ ä¸çŸ¥é“ä½ æ‰€åœ¨å››å·åˆ°åº•æœ‰å¤šä¹ˆææ€–â€”â€”åŸºæœ¬æ˜¯æˆéƒ½ä¸ƒä¸­åˆ¶éœ¸ï¼›NOIPå…¨çœå‰40äººå‡460+ï¼Œå…¨çœå‰90äººå‡400+ã€‚ æˆ‘çŸ¥é“æˆ‘æ²¡æœ‰å¾ˆå‰å®³ï¼Œæ‰€ä»¥æˆ‘çš„è¯ä½ ä¸ä¼šä¿¡å¤šå°‘ã€‚ä½†æ˜¯å¦‚æœè¯´å¥¥èµ›ç»™äº†æˆ‘ä»€ä¹ˆï¼Œæœ€å¤§çš„æ”¶è·å°±æ˜¯åœ¨å­¦æœ¯ä¸Šé¢çš„è™”è¯šâ€”â€”åšå­¦é—®å°±å¥½å¥½åšå­¦é—®ï¼Œä¸å»è¿½æ±‚é™„åŠ ä»·å€¼ï¼Œä»¥åŠåœ¨å­¦æœ¯ä¸Šæ°¸è¿œè°¦å‘çš„æ€åº¦ã€‚ çœ‹èµ·æ¥ä¼¼ä¹æˆ‘å¾ˆåˆšçš„æ ·å­ï¼Œä½†æ˜¯è¿™æ ·åšä¸æ˜¯æ¯«æ— ç¼˜ç”±çš„â€”â€”æˆ‘å…¶å®ï¼Œä¹Ÿæ˜¯åœ¨å¯¹è‡ªå·±è¯´å§ã€‚ ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆéš¾å‘¢ï¼Ÿæˆ‘ä¸çŸ¥é“å•Šã€‚ æˆ‘åªçŸ¥é“æˆ‘çš„æœºä¼šç¡®ä¹æ˜¯ä¸å¤šäº†ã€‚ ä»Šå¹´çœé€‰è¿˜æœ‰æ²¡æœ‰æˆå‘¢ï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“ã€‚ æˆ‘åªçŸ¥é“æˆ‘çš„æ—¶é—´ä¸å¤šäº†ã€‚ ä¸çŸ¥æ€çš„ï¼Œçœ¼å‰ä»¿ä½›æœ‰ä¸€æ¡å®½é˜”çš„å¤§æ²³ï¼Œæµ©è¡æ— é™…ã€‚æˆ‘æ— è®ºåšä»€ä¹ˆï¼Œéƒ½åªèƒ½åœ¨ä¸Šé¢æº…èµ·ä¸€åœˆçª„çª„çš„æ³¢çº¹è€Œå·²ã€‚æˆ‘åœ¨å°å°çš„æ²™æ´²ä¸Šä¼«ç«‹ç€ï¼Œè¿œæœ›æ˜¯å¦ä¸€ä¸ªå°å°çš„æ²™ä¸˜ï¼Œä¸Šé¢ç«™ç€å¥¹ã€‚æˆ‘æ— æ³•ä¸ˆé‡å‡ºæˆ‘ä»¬å½¼æ­¤ä¹‹é—´çš„è·ç¦»ï¼Œå¥½åƒå¾ˆè¿‘ï¼Œè¿‘åˆ°æˆ‘èƒ½çœ‹æ¸…å¥¹çš„ä¸€é¢¦ä¸€ç°‡ï¼Œå¯ä»¥çœ‹æ¸…å¥¹çœ‰ä¸Šæ–°æ·»çš„éœ²ç ï¼›å¥½åƒä¹Ÿå¾ˆè¿œï¼Œå› ä¸ºæˆ‘ä¸çŸ¥é“å¥¹åœ¨æƒ³ä»€ä¹ˆã€å¥¹è¦åšä»€ä¹ˆã€‚ å‘µï¼Œæ‰è®°èµ·æ¥æ›¾ç»æœ‰ä¸€éƒ¨æ—¶ä¸‹è¾ƒç«çš„å‰§é‡Œï¼Œç§°â€œæš—æ‹â€æˆ–è€…â€œå•ç›¸æ€â€ï¼Œæ˜¯æœ€çœé’±çš„æ‹çˆ±ã€‚æˆ‘ç¡®ä¹æ˜¯è®°ä½è¿™ä¸€ç‚¹äº†ã€‚ä½†æ˜¯æˆ‘æ›´æƒ³è¯´ï¼Œå®ƒä¸ä»…æ˜¯æœ€çœé’±çš„ï¼Œä¹Ÿæ˜¯æœ€ç¾çš„ã€æœ€å¯Œæœ‰å˜åŒ–çš„ã€æœ€æ¢¦å¹»çš„ã€‚ è¿™æ˜¯ä¸€ç‰‡æ— å çš„æœ¦èƒ§ï¼Œå¤œå¹•ä¸­é¥é¥çš„ï¼Œä»¿ä½›é—ªç€ä¸¤é¢—æ‘‡æ›³çš„æ˜Ÿã€‚]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>éšæƒ³/ä¸‹ä¸‹ç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BSGS-SeniorÂ·æ‰©å±•çš„BSGS]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F22%2FexBSGS%2F</url>
    <content type="text"><![CDATA[$\rm{0x01\quad Preface}$$emmm$ä¸¥æ ¼æ¥è®²ï¼Œä¸åº”è¯¥è¢«ç®—åˆ°ä¸€ä¸ªæ¨¡æ¿é‡Œé¢ã€‚å› ä¸ºåœ¨æˆ‘çœ‹æ¥æ¨¡æ¿æ˜¯äººæ„é€ å‡ºæ¥çš„ï¼Œä½†æ˜¯è¿™ä¸ªç®—æ³•åº”è¯¥æ˜¯ä¸€ä¸ªè§£å†³é—®é¢˜çš„$process$â€¦æ›´åƒæ˜¯åœ¨è§£ä¸€é“æ•°å­¦é¢˜ï¼Œå¦‚æœ$BSGS$æ˜¯å®šç†çš„è¯ï¼Œ$exBSGS$æ›´åƒæ˜¯ä¸€ä¸ªä¸æ–­è½¬åŒ–çš„è¿‡ç¨‹233ï¼ˆæ‰‹åŠ¨@lxaå¹¶ä¸”æºœ $\rm{0x02\quad Algorithm~Process}$ä»Šå¤©æ‰å‘ç°åŸæ¥$\rm{BSGS}$æœ‰ä¸¤ç§å†™æ³•â€¦â€¦å¹¶ä¸”è§‰å¾—å‰©ä¸‹çš„é¢˜è§£è®²çš„éƒ½è®²çš„ä¸æ˜¯å¾ˆå…¨çš„æ ·å­233ã€‚ å…¶å®æœ¬è´¨ä¸Šï¼Œå½“$p$ä¸ä¸ºç´ æ•°æ—¶ï¼Œæˆ‘ä»¬æ— æ³•è¿›è¡Œæœ´ç´ $\rm{BSGS}$çš„åŸå› æ˜¯æˆ‘ä»¬çš„æ¬§æ‹‰å®šç†$a^{\varphi(p)} \equiv b(\bmod p)$ åªèƒ½å¤„ç†$(a,p)=1$çš„æƒ…å†µã€‚é‚£ä¹ˆæˆ‘ä»¬çŸ¥é“ï¼Œæœ´ç´ çš„$\rm{BSGS}$çš„å…³é”®åœ¨äºï¼Œå¯ä»¥ä¿è¯æœ€å°è§£æ˜¯æœ‰ç•Œçš„â€”â€”$x$ä¸€å®šåœ¨$[1,\varphi(p)]$ä¸­ã€‚æ‰€ä»¥æœ€å$BSGS$çš„å¤æ‚åº¦æ‰ä¼šæ˜¯$\Theta(\sqrt{\varphi(p)})$ çš„â€”â€”æ¯”å¦‚è¯´æ¯”è¾ƒå¸¸è§çš„$p$æ˜¯ç´ æ•°çš„æƒ…å†µä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$\Theta(p)$ã€‚ é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦è¿›è¡Œä¸€äº›æ“ä½œï¼Œä¿è¯$(a,p)=1 $å³å¯$^{[1]}$ã€‚ æˆ‘ä»¬æ€è€ƒï¼Œå¯¹äºåŒä½™å¼$a^x\equiv b~(\bmod p)â€‹$è€Œè¨€ï¼Œæˆ‘ä»¬å…ˆå‡å®š$(a,p)&gt;1 â€‹$ã€‚è€Œæ­¤æ—¶å¦‚æœæœ‰$((a,p), b)=1â€‹$ï¼Œé‚£ä¹ˆè¯´æ˜æ­¤å¼åªæœ‰å¯èƒ½åœ¨$x=0,b=1 â€‹$çš„æ—¶å€™æœ‰è§£â€”â€”è¿™ä¸ªç»“è®ºæ˜¯å¹³å‡¡çš„ã€‚å› ä¸ºå‡è®¾æˆ‘ä»¬æŠŠå®ƒå±•å¼€æˆ$a\cdot a^{x-1} +kp=b â€‹$çš„å½¢å¼ï¼Œå¿…é¡»è¦æœ‰$(a,p) ~|~ bâ€‹$çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½ä¿è¯$a^{x-1}â€‹$å’Œ$k â€‹$éƒ½æ˜¯æ•´æ•°ã€‚ é‚£ä¹ˆå¯¹äº$(a,p)&gt;1$ä¸”$(a,p)~|~b $ï¼Œæˆ‘ä»¬ä»¤åŸå¼å˜æˆ $$a^{x-1}\cdot \frac{a}{(a,p)} \equiv \frac{b}{(a,p)} (\bmod \frac{p}{(a,p)})$$çš„æ ·å­ï¼Œå¦‚æœæ­¤æ—¶$(a^{x-1},\frac{p}{(a,p)})=1$ çš„è¯ï¼Œæˆ‘ä»¬å°±ç›´æ¥è§£ $$a^{x-1}\equiv \frac{\frac{b}{(a,p)}} {\frac{a}{(a,p)} }(\bmod \frac{p}{(a,p)})$$è¿™ä¸ªæ–¹ç¨‹å³å¯ã€‚å¦åˆ™æˆ‘ä»¬ç»§ç»­åˆ†è§£ç›´è‡³$(pâ€™,a)=1$ã€‚ é‚£ä¹ˆæ­¤æ—¶æœ‰ä¸ªé—®é¢˜éœ€è¦æ³¨æ„ï¼Œå°±æ˜¯å¦‚æœä»¬åœ¨è§£è¿™ä¸ªæ–¹ç¨‹æ—¶ï¼Œå‡ºç°äº† $$(a^{x-1}, \frac{p}{(a,p)})\nmid \frac{\frac{b}{(a,p)}} {\frac{a}{(a,p)} }$$çš„æƒ…å†µï¼Œé‚£æˆ‘ä»¬éœ€è¦ç‰¹åˆ¤å¹¶return -1 ï¼›å¦ä¸€ç§æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬å‡ºç°äº† $$a^{x-1}\equiv \frac{\frac{b}{(a,p)}} {\frac{a}{(a,p)} } \equiv1(\bmod \frac{p}{(a,p)})$$çš„æƒ…å†µï¼Œä¹Ÿéœ€è¦ç‰¹åˆ¤å¹¶è¾“å‡ºæ­¤$k$ï¼ˆæ­¤æ—¶åŒä½™å¼å·¦è¾¹æ˜¯$a^{x-k}$ï¼Œå› ä¸º$a^{x-k}\equiv1~(\bmod p)$æ‰€ä»¥ç›´æ¥è¾“å‡º$k$ï¼‰ï¼Œä¸è¿‡ä¹Ÿæœ‰å¯èƒ½ä¸éœ€è¦ï¼Œå®Œå…¨çœ‹ä½ å†™çš„$BSGS$èƒ½ä¸èƒ½åˆ¤æ–­$x=0$çš„æƒ…å†µâ€¦â€¦ä¸€èˆ¬æƒ…å†µä¸‹ä¸èƒ½ã€‚ æ­¤æ—¶ç”±äº$\boldsymbol{p}$ä¸å†æ˜¯ç´ æ•°ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨è´¹é©¬å°å®šç†ï¼Œéœ€è¦æˆ‘ä»¬ç”¨$exgcd$çš„æ–¹æ³•æ±‚é€†å…ƒï¼ŒåŒ…æ‹¬ä½†ä¸é™äº$\frac{b}{(a,p)}$çš„é€†å…ƒå’Œ$a^{-im}$ã€‚ ä»¥ä¸‹æ˜¯å®Œæ•´ç‰ˆä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;map&gt;#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#include &lt;unordered_map&gt;#define ll long longusing namespace std ; unordered_map&lt;ll, int&gt; H ;int N, M, P, ans ; // N ^x = M (mod P)inline ll gcd(ll a, ll b)&#123; if (!b) return a ; return gcd(b, a % b) ;&#125;inline ll expow(ll a, ll b, ll mod)&#123; ll res = 1 ; while (b) res = ((b &amp; 1)?res * a % mod : res), a = a * a % mod, b &gt;&gt;= 1 ; return res ;&#125;inline ll exgcd(ll &amp;x, ll &amp;y, ll a, ll b)&#123; if (!b)&#123; x = 1, y = 0 ; return a ; &#125; ll t = exgcd(y, x, b, a % b) ; y -= x * (a / b) ; return t ;&#125;inline ll BSGS(ll a, ll b, ll mod, ll qaq)&#123; H.clear() ; ll Q, p = ceil(sqrt(mod)), x, y ; exgcd(x, y, qaq, mod), b = (b * x % mod + mod) % mod, Q = expow(a, p, mod), exgcd(x, y, Q, mod), Q = (x % mod + mod) % mod ; for (ll i = 1, j = 0 ; j &lt;= p ; ++ j, i = i * a % mod) if (!H.count(i)) H[i] = j ; for (ll i = b, j = 0 ; j &lt;= p ; ++ j, i = i * Q % mod) if (H[i]) return j * p + H[i] ; return -1 ;&#125;inline ll exBSGS()&#123; ll qaq = 1 ; ll k = 0, qwq = 1 ; if (M == 1) return 0 ; while ((qwq = gcd(N, P)) &gt; 1)&#123; if (M % qwq) return -1 ; ++ k, M /= qwq, P /= qwq, qaq = qaq * (N / qwq) % P ; if (qaq == M) return k ; &#125; return (qwq = BSGS(N, M, P, qaq)) == -1 ? -1 : qwq + k ;&#125; int main()&#123; while(cin &gt;&gt; N)&#123; scanf("%d%d", &amp;P, &amp;M); if (!N &amp;&amp; !M &amp;&amp; !P) return 0 ; N %= P, M %= P, ans = exBSGS() ; if (ans &lt; 0) puts("No Solution") ; else cout &lt;&lt; ans &lt;&lt; '\n' ; &#125;&#125; $\rm{0x03\quad Afterword}$ä»Šå¤©æ‰çŸ¥é“åŸæ¥$BSGS$æœ‰ä¸¤ç§å†™æ³•qaq $zyf2000$å¥½åƒå’Œæˆ‘å†™çš„$BSGS$å¯¹â€œå¤§æ­¥â€å’Œâ€œå°æ­¥â€çš„å®šä¹‰ä¸æ˜¯å¾ˆä¸€æ ·â€¦äºæ˜¯æœ€åè¿˜æ˜¯è‡ªå·±$\rm{yy}$çš„233 $\rm{Reference}$ $[1]$ :$zyf2000$çš„$blog$ $^{^{[\nearrow ]}}$]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>BSGS/exBSGS</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤šé¡¹å¼1.5Â·æ‹†ç³»æ•°FFT]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F19%2FFFT2%2F</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡å¤šé¡¹å¼ï¼šå¤šé¡¹å¼1Â·æ™®é€šçš„FFT $\rm{0x01\quad Preface}$ä»Šå¤©æ˜¯$Feb.19^{th}$ï¼Œå¼€å­¦å‰ä¸€å¤©ï¼Œç°åœ¨æ˜¯åŒ—äº¬æ—¶é—´ä¸‹åˆ$10:05$ï¼Œæˆ‘è¿˜å‰©é™¤äº†è‹±è¯­ç‰©ç†çš„æ‰€æœ‰ä½œä¸šæ²¡åš â€¦ è€¶ï¼ŒçœŸå¼€å¿ƒã€‚ ç”±äºç‰¹æ®ŠåŸå› å˜›ï¼Œæˆ‘æš‚æ—¶ä¸ä¼šå†™çš„ç‰¹åˆ«è¯¦ç»†â€”â€”æ¯•ç«Ÿè¿˜æœ‰ä½œä¸šæ²¡æœ‰åšæŠ„å®Œï¼Œæ‰€ä»¥å°±å…ˆæ•´ç†åœ°ä»“ä¿ƒä¸€ç‚¹ã€‚ é¦–å…ˆï¼Œä¸ºä»€ä¹ˆè¦æ‹†ç³»æ•°ï¼Ÿè¿™æ˜¯ä¸€ä¸ªé—®é¢˜â€”â€”ç›´æ¥$FFT$ä¹‹ååˆ¤ä¸ªç²¾åº¦å†å–æ¨¡ä¸å°±å¾—äº†ï¼Ÿå¾ˆå–œé—»ä¹è§çš„æ˜¯ï¼Œè¿™ä¸ªé¢˜ä¸­çš„$value_{max}$åˆ°è¾¾äº†$1e9\cdot1e9 \cdot 1e5 = 1e23$çš„çº§åˆ«ï¼Œä¸å¯ä»¥ç›´æ¥long longçˆ†è‰¹ã€‚ $\rm{0x02~Normal-Coefficient-Spliting~FFT}$é¦–å…ˆæ˜¯æœ€æœ´ç´ çš„æ‹†ç³»æ•°æ³•ã€‚å…¶åŸç†ç®€å•å¾—å¾ˆï¼Œå°±æ˜¯é€‰æ‹©ä¸€ä¸ª$M$ï¼ŒæŠŠ$A(x)$å’Œ$B(x)$çš„å„é¡¹ç³»æ•°è¡¨ç¤ºæˆ$$A_i = a_iM+b_i~(0\leq b_i &lt;a_i) \\B_i = c_iM+d_i~(0\leq d_i &lt;c_i)$$çš„å½¢å¼ã€‚ç„¶åæˆ‘ä»¬åšä¹˜æ³•çš„è¯ï¼Œä¼šæœ‰$$A_i\cdot B_i = a_ic_iM^2+(a_id_i+c_ib_i)M+b_id_i$$é‚£ä¹ˆæˆ‘ä»¬è€ƒè™‘ï¼Œå¯¹äºç¬¬ä¸€éƒ¨åˆ†$a_ic_iM^2$æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€æ¬¡$DFT$ã€ä¸€æ¬¡$IDFT$ç®—å‡ºæ¥ï¼Œï¼›å¯¹äºç¬¬äºŒéƒ¨åˆ†$(a_id_i+c_ib_i)M$ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤æ¬¡$DFT$åˆ†åˆ«ç®—å‡º$a_id_i$ã€$c_ib_i$ç„¶ååˆå¹¶ï¼Œä¹‹åä¸€æ¬¡$IDFT$æ±‚å‡ºæ¥ï¼›å¯¹äºæœ€åä¸€éƒ¨åˆ†åˆ™åªéœ€è¦ä¸€æ¬¡$DFT$ã€ä¸€æ¬¡$IDFT$æ±‚å‡ºã€‚æ‰€ä»¥ç®—æ³•æµç¨‹ä¸€å…±$7$æ¬¡$FFT$ã€‚ é‚£æˆ‘ä»¬è€ƒè™‘ä¼°è®¡ä¸€ä¸‹èŒƒå›´ï¼Œæ­¤å¤„ä¸ç”šä¸¥è°¨åœ°ä½¿ç”¨$\Theta$ä½œä¸ºåŒé˜¶çš„ç¬¦å·$^{[1]}$ $$b_i\cdot d_i \approx \Theta(M^2)$$ $$a_i\cdot c_i =\lfloor \frac{P}{M}\rfloor \cdot \lfloor \frac{P}{M}\rfloor = \Theta(\lfloor \frac{P^2}{M^2}\rfloor)$$ $$(a_id_i + c_ib_i)\cdot M =\Theta( M \cdot \lfloor \frac{P}{M}\rfloor) $$ é‚£ä¹ˆæˆ‘ä»¬å–$M = \Theta(\sqrt P)$çº§åˆ«çš„ï¼Œå¯ä»¥ä¿è¯ä¸‰ä¸ªå€¼çš„é˜¶ä¸º$\Theta(P)$ï¼Œå¤§æ¦‚æ˜¯$1e9 \cdot 1e5 = 1e14$çº§åˆ«çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#define MAXN 423333#define rr register #define rep(i, a, b) for(i = a ; i &lt;= b ; ++ i)using namespace std ;const long double Pi = acos(-1) ;int R[MAXN], L, x ; long long Ans[MAXN] ;struct node&#123; long double x, y ; node (long double xx = 0, long double yy = 0)&#123; x = xx, y = yy ; &#125;&#125;A[MAXN], B[MAXN], C[MAXN], D[MAXN], F[MAXN], G[MAXN] ;node H1[MAXN], H2[MAXN], H3[MAXN] ; int L1, L2, P, N, M ;node operator + (node J, node Q)&#123; return node(J.x + Q.x , J.y + Q.y); &#125;node operator - (node J, node Q)&#123; return node(J.x - Q.x , J.y - Q.y); &#125;node operator * (node J, node Q)&#123; return node(J.x * Q.x - J.y * Q.y , J.x * Q.y + J.y * Q.x) ; &#125;void FFT(node *J, int flag)&#123; rr int i, j, k, l ; for(i = 0; i &lt; N; i ++) if(i &lt; R[i]) swap(J[i], J[R[i]]) ; for(j = 1; j &lt; N; j &lt;&lt;= 1)&#123; node T(cos(Pi / j), flag * sin(Pi / j)) ; for(k = 0; k &lt; N; k += (j &lt;&lt; 1) )&#123; node t(1, 0) ; for(l = 0 ; l &lt; j; l ++, t = t * T)&#123; node Nx = J[k + l], Ny = t * J[k + j + l] ; J[k + l] = Nx + Ny ; J[k + j + l] = Nx - Ny ; &#125; &#125; &#125; if (flag &lt; 0) for (i = 0 ; i &lt;= N ; ++ i) J[i].x = J[i].x / N + 0.5 ;&#125;inline int qr()&#123; rr int k = 0 ; char c = getchar() ; while (!isdigit(c)) c = getchar() ; while (isdigit(c)) k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k ;&#125;signed main()&#123; rr int i, t ; cin &gt;&gt; L1 &gt;&gt; L2 &gt;&gt; P, M = 32767 ; N = 1, t = L1 + L2 ; for (i = 0 ; i &lt;= L1 ; ++ i) x = qr(), A[i].x = x / M, B[i].x = x % M ; for (i = 0 ; i &lt;= L2 ; ++ i) x = qr(), C[i].x = x / M, D[i].x = x % M ; while(N &lt;= t) N &lt;&lt;= 1, ++ L ; rep(i, 0, N) R[i] = (R[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; (L - 1)) ; FFT(A, 1), FFT(B, 1), FFT(C, 1), FFT(D, 1) ; rep(i, 0, N) H1[i] = A[i] * C[i], H2[i] = B[i] * D[i], H3[i] = A[i] * D[i]+ C[i] * B[i] ; FFT(H1, -1), FFT(H2, -1), FFT(H3, -1) ; for (i = 0 ; i &lt;= N ; ++ i) Ans[i] = ((long long)H1[i].x * M % P * M % P + (long long)H2[i].x % P + (long long)H3[i].x * M % P) % P ; for (i = 0 ; i &lt;= L1 + L2 ; ++ i) printf("%lld ", Ans[i]) ; return 0 ;&#125; æ‰€ä»¥æœ€ç»ˆçš„å¤æ‚åº¦æ˜¯$\boldsymbol{O(7\cdot P(n) \cdot n \log n)}$ï¼Œå…¶ä¸­$P(n)$æ˜¯$FFT$è‡ªå¸¦çš„ã€å¤§åˆ°ä¸å¯å¿½ç•¥çš„å¸¸é‡å› å­ã€‚ ä½†æ˜¯â€¦â€¦å¥½åƒè¿™ä¸ªå¸¸æ•°æœ‰ç‚¹å¤§è¯¶ï¼Œç®—ä¸Šå¸¸æ•°çš„è¯å·²ç»æ˜¯$O(n \log^2n)$çš„çº§åˆ«äº†ï¼Œäºæ˜¯â€”â€” $\rm{0x03~Conjugate~Optimization}$æºè‡ªæ¯›å•¸çš„ã€Šå†æ¢å¿«é€Ÿå‚…ç«‹å¶å˜æ¢ã€‹ã€‚ æˆ‘ä»¬æ€è€ƒè¿™æ ·ä¸¤ä¸ªå¤šé¡¹å¼$\boldsymbol{P, Q} \in \mathbb{C}$$$\rm{P(x) = A(x) + iB(x)} \\\rm{Q(x) = A(x) - iB(x)}$$æˆ‘ä»¬ä¸å¦¨ä»¤$Pâ€™[k]$å’Œ$Qâ€™[k]$ä¸ºå…¶$\text{DFT}$ä¹‹åçš„åºåˆ—ï¼Œå³$Pâ€™[k] =P(\omega_n^k),Qâ€™[k] =Q(\omega_n^k) $ã€‚ åŒæ—¶ï¼Œä»¤$\text{conj(x)}$è¡¨ç¤ºå¯¹$x$å–å…±è½­ã€‚ é‚£ä¹ˆä¼šæœ‰$^{[5]}$ï¼š$$\begin{align}Pâ€™[k] &amp;= A(\omega_{n}^{k}) + i B(\omega_{n}^{k}) \\&amp; = \sum_{j=0}^{n-1} A_{j} \omega_{n}^{jk} + i B_{j} \omega_{n}^{jk} \\&amp; = \sum_{j=0}^{n-1} (A_{j} + i B_{j}) \left(\cos \left(\frac{2 \pi jk}{n}\right) + i \sin \left(\frac{2 \pi jk}{n}\right)\right) \\&amp; = \sum_{j=0}^{n-1} (A_{j} + i B_{j}) \omega_{n}^{kj}\\Qâ€™[k] &amp;= A(\omega_{n}^{k}) - i B(\omega_{n}^{k}) \\&amp; = \sum_{j=0}^{n-1} A_{j} \omega_{n}^{jk} - i B_{j} \omega_{n}^{jk} \\&amp; = \sum_{j=0}^{n-1} (A_{j} - i B_{j}) \left(\cos \left(\frac{2 \pi jk}{n}\right) + i \sin \left(\frac{2 \pi jk}{n}\right)\right) \\&amp; = \sum_{j=0}^{n-1} \left(A_{j} \cos \left(\frac{2 \pi jk}{n}\right) + B_{j} \sin \left(\frac{2 \pi jk}{n}\right)\right) + i \left(A_{j} \sin \left(\frac{2 \pi jk}{n}\right) - B_{j} \cos \left(\frac{2 \pi jk}{n}\right)\right) \\&amp; = \text{conj} \left( \sum_{j=0}^{n-1} \left(A_{j} \cos \left(\frac{2 \pi jk}{n}\right) + B_{j} \sin \left(\frac{2 \pi jk}{n}\right)\right) - i \left(A_{j} \sin \left(\frac{2 \pi jk}{n}\right) - B_{j} \cos \left(\frac{2 \pi jk}{n}\right)\right) \right) \\&amp; = \text{conj} \left( \sum_{j=0}^{n-1} \left(A_{j} \cos \left(\frac{-2 \pi jk}{n}\right) - B_{j} \sin \left(\frac{-2 \pi jk}{n}\right)\right) + i \left(A_{j} \sin \left(\frac{-2 \pi jk}{n}\right) + B_{j} \cos \left(\frac{-2 \pi jk}{n}\right)\right) \right) \\&amp; = \text{conj} \left( \sum_{j=0}^{n-1} (A_{j} + i B_{j}) \left(\cos \left(\frac{-2 \pi jk}{n}\right) + i \sin \left(\frac{-2 \pi jk}{n}\right)\right)\right) \\&amp; = \text{conj} \left( \sum_{j=0}^{n-1} (A_{j} + i B_{j}) \omega_{n}^{-jk} \right) \\&amp; = \text{conj} \left( \sum_{j=0}^{n-1} (A_{j} + i B_{j}) \omega_{n}^{(n-k)j} \right) \\&amp; = \text{conj} \left( Pâ€™[n-k] \right)\end{align}$$å¥½å§æˆ‘æ‰¿è®¤è¿™æ®µæ¨å¯¼è¿‡ç¨‹çš„ä»£ç ç”šæ˜¯å£®è§‚ï¼Œäºæ˜¯å¹¶ä¸æ˜¯æˆ‘è‡ªå·±å†™çš„qwqã€‚ é‚£ä¹ˆæˆ‘ä»¬å‘ç°å…¶ä¸­$A(x)$å’Œ$B(x)$å¯ä»¥é€šè¿‡$P,Q$æ¨å‡ºæ¥ï¼š$$Aâ€™[k] = \frac{Pâ€™[k] + Qâ€™[k]}{2} \\Bâ€™[k] = \frac{Pâ€™[k] - Qâ€™[k]}{2i}$$å“¦ï¼Œå¯¹äº†ï¼Œå½“$k=0$æ—¶ï¼Œç”±äºä¸å­˜åœ¨è¿™ä¸€é¡¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹ã€‚å¹¶ä¸”ç”±äºæˆ‘ä»¬çš„$P(x)$å’Œ$Q(x)$çš„å®éƒ¨å’Œè™šéƒ¨éƒ½å¯ä»¥åˆ©ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹äºä¸ƒæ¬¡$DFT$å¯ä»¥ä¼˜åŒ–åˆ°$4$æ¬¡$DFT$. ä»¥ä¸‹æ˜¯å…±è½­ä¼˜åŒ–$FFT$çš„åˆå·æœºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#define MAXN 423333#define rr register #define rep(i, a, b) for(i = a ; i &lt;= b ; ++ i)using namespace std ;int f[MAXN], g[MAXN] ;int R[MAXN], Len, x, Ans[MAXN] ;const long double Pi = acos(-1) ;struct node&#123; long double r, i ; inline node (long double xx = 0, long double yy = 0)&#123; r = xx, i = yy ; &#125; inline node Conj() &#123; return node(r, -i); &#125;&#125;A[MAXN], B[MAXN], w[MAXN], t1[MAXN], t2[MAXN] ;node H1[MAXN], H2[MAXN], H3[MAXN] ; int L1, L2, P, N, M ;node operator + (node J, node Q)&#123; return node(J.r + Q.r , J.i + Q.i); &#125;node operator - (node J, node Q)&#123; return node(J.r - Q.r , J.i - Q.i); &#125;node operator * (node J, node Q)&#123; return node(J.r * Q.r - J.i * Q.i , J.r * Q.i + J.i * Q.r) ; &#125;inline int qr()&#123; rr int k = 0 ; char c = getchar() ; while (!isdigit(c)) c = getchar() ; while (isdigit(c)) k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k ;&#125;void FFT(node *J, int flag)&#123; rr int i, j, k, l ; for(i = 0; i &lt; N; i ++) if(i &lt; R[i]) swap(J[i], J[R[i]]) ; for(j = 1; j &lt; N; j &lt;&lt;= 1) for(k = 0; k &lt; N; k += (j &lt;&lt; 1)) for(l = 0 ; l &lt; j; ++ l)&#123; node T = w[N / j * l] ; T.i *= flag ; node Nx = J[k + l], Ny = T * J[k + j + l] ; J[k + l] = Nx + Ny, J[k + j + l] = Nx - Ny ; &#125;&#125;inline void Init(int L)&#123; rr int i ; while (N &lt;= L) N &lt;&lt;= 1, ++ Len ; for (i = 0 ; i &lt; N ; ++ i) A[i] = node(f[i] &amp; 32767, f[i] &gt;&gt; 15) ; for (i = 0 ; i &lt; N ; ++ i) B[i] = node(g[i] &amp; 32767, g[i] &gt;&gt; 15) ; for (i = 0 ; i &lt; N ; ++ i) w[i] = node(cos(Pi * i / N), sin(Pi * i / N)) ; for (i = 0 ; i &lt; N ; ++ i) R[i] = (R[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; (Len - 1)) ;&#125;void MTT()&#123; node ia, ib, a1, a2, b1, b2 ; rr int i, k, t = L1 + L2, q1, q2, q3 ; Init(t) ; // for (i = 0 ; i &lt;= N ; ++ i) cout &lt;&lt; A[i].r &lt;&lt; " "; cout &lt;&lt; endl ; // for (i = 0 ; i &lt;= N ; ++ i) cout &lt;&lt; B[i].r &lt;&lt; " "; cout &lt;&lt; endl ; FFT(A, 1), FFT(B, 1) ; for (i = 0 ; i &lt; N ; ++ i)&#123; k = (N - i) &amp; (N - 1), ia = A[k].Conj(), ib = B[k].Conj() ;//(ia,ib) = Q a1 = (ia + A[i]) * node(0.5, 0), a2 = (A[i] - ia) * node(0, -0.5) ; b1 = (ib + B[i]) * node(0.5, 0), b2 = (B[i] - ib) * node(0, -0.5) ; t1[i] = a1 * b1 + (a1 * b2 + b1 * a2) * node(0, 1), t2[i] = a2 * b2 ; &#125; FFT(t1, -1), FFT(t2, -1) ; // for (i = 0 ; i &lt;= N ; ++ i) cout &lt;&lt; w[i].r &lt;&lt; " "; cout &lt;&lt; endl ; // for (i = 0 ; i &lt;= N ; ++ i) cout &lt;&lt; A[i].r &lt;&lt; " "; cout &lt;&lt; endl ; // for (i = 0 ; i &lt;= N ; ++ i) cout &lt;&lt; B[i].r &lt;&lt; " "; cout &lt;&lt; endl ; for (i = 0 ; i &lt; N ; ++ i)&#123; q1 = (long long)(t1[i].r / N + 0.5) % P, q2 = (long long)(t1[i].i / N + 0.5) % P ; q3 = (long long)(t2[i].r / N + 0.5) % P, Ans[i] = ((((long long)q3 &lt;&lt; 30) % P + ((long long)q2 &lt;&lt; 15) % P + q1) % P + P) % P ; &#125;&#125;signed main()&#123; rr int i ; cin &gt;&gt; L1 &gt;&gt; L2 &gt;&gt; P ; N = 1 ; for (i = 0 ; i &lt;= L1 ; ++ i) f[i] = qr() % P ; for (i = 0 ; i &lt;= L2 ; ++ i) g[i] = qr() % P ; MTT() ; for (i = 0 ; i &lt;= L1 + L2 ; ++ i) printf("%d ", Ans[i]) ; return 0 ;&#125; $\rm{0x04\quad}$æ‹¼å‘½å¡å¸¸å¥½çš„ï¼Œé¦–å…ˆæˆ‘ä»¬å¯ä»¥æ¬£èµä¸€ä¸‹æœ€åˆçš„ç‰ˆæœ¬ï¼ˆç”¨å°å·äº¤çš„æ‹†ç³»æ•°$FFT$ + $O2$ï¼‰ ç„¶åæ˜¯å¤§å·çš„å…±è½­ä¼˜åŒ–$FFT$ï¼ˆä¸åŠ $O2$ï¼Œå³ä¸Šæ–¹ä»£ç ï¼‰ï¼š ç‰¹åˆ«çš„ï¼Œä»¥ä¸‹æ˜¯æ— å…±è½­ä¼˜åŒ–çš„æ‹†ç³»æ•°$FFT$ï¼Œä¸å¼€$O2$: å¥½å§ï¼Œä»–çœ‹èµ·æ¥æ²¡æœ‰å¿«å¤šå°‘ã€‚æ¯•ç«Ÿéƒ½æ˜¯åŒé˜¶çš„å¤æ‚åº¦ï¼Œå¥½åƒåè€…çš„å¸¸æ•°æ›´å¤§é‚£ä¹ˆä¸€ç‚¹â€¦â€¦ äºæ˜¯è€ƒè™‘å¯¹å…±è½­ä¼˜åŒ–çš„è¿›è¡Œå¤§åŠ›å¡å¸¸ï¼š å¤šæ¬¡ä½¿ç”¨çš„éå…¨å±€å˜é‡ã€‚ä½¿ç”¨registerä¿®é¥°ç¬¦ã€‚ å°†$double$è½¬æ¢æˆä¸º$long~double$ ã€‚ å‡å°‘å–æ¨¡æ¬¡æ•°ã€‚ ä»yjké‚£é‡Œå·æ¥çš„$\rm{fread/fwrite}$ ä¸€ç•ªæ“ä½œä¹‹åï¼Œæˆ‘ä»¬æˆåŠŸåœ°å¡åˆ°äº†ç¬¬äº”é¡µä¸Šâ€¦â€¦ æœ€åå¥‰ä¸Šæœ€å¿«çš„ä»£ç qwqï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586// luogu-judger-enable-o2#pragma GCC optimize(3)#pragma GCC optimize("Ofast")#include &lt;bits/stdc++.h&gt;#define MAXN 102333#define MAXM 272333#define rr register #define ll long long#define rep(i, a, b) for(i = a ; i &lt;= b ; ++ i)using namespace std ;namespace IO&#123; const int ch_top=4e7+3; char ch[ch_top],*now_r=ch-1,*now_w=ch-1; inline int read()&#123; while(*++now_r&lt;'0'); register int x=*now_r-'0'; while(*++now_r&gt;='0')x=x*10+*now_r-'0'; return x; &#125; inline void write(int x)&#123; static char st[20];static int top; while(st[++top]='0'+x%10,x/=10); while(*++now_w=st[top],--top); *++now_w=' '; &#125;&#125;int R[MAXM], Len, x, Ans[MAXN &lt;&lt; 1] ;const double Pi = acos(-1) ;struct node&#123; double r, i ; inline node Conj() &#123; return node(r, -i); &#125; inline node (double xx = 0, double yy = 0)&#123; r = xx, i = yy ; &#125;//å®šä¹‰çš„Complexå‹æ˜¯ç”¨æ¥è¿›è¡Œå¤æ•°è¿ç®—çš„ &#125;A[MAXM], B[MAXM], w[MAXM], t1[MAXM], t2[MAXM] ; int L1, L2, P, N, M ;inline node operator + (const node &amp;J, const node &amp;Q) &#123; return node(J.r + Q.r , J.i + Q.i); &#125;inline node operator - (const node &amp;J, const node &amp;Q) &#123; return node(J.r - Q.r , J.i - Q.i); &#125;inline node operator * (const node &amp;J, const double &amp;Q) &#123; return (node) &#123;J.r * Q, J.i * Q&#125; ; &#125;inline node operator * (const node &amp;J, const node &amp;Q) &#123; return node(J.r * Q.r - J.i * Q.i , J.r * Q.i + J.i * Q.r) ; &#125;inline void FFT(node *J)&#123; rr node t ; rr int i, j, k, l ; for(i = 0; i &lt; N; i ++) if(i &lt; R[i]) t = J[i], J[i] = J[R[i]], J[R[i]] = t ; for(j = 1; j &lt; N; j &lt;&lt;= 1) for(k = 0; k &lt; N; k += (j &lt;&lt; 1)) for(l = 0 ; l &lt; j; ++ l)&#123; rr node T = w[N / j * l] ; rr node Nx = J[k + l], Ny = T * J[k + j + l] ; J[k + l] = Nx + Ny, J[k + j + l] = Nx - Ny ; &#125;&#125;inline void IFFT(node *J)&#123; reverse(J + 1, J + N), FFT(J) ; rr int i ; rr double qwq = 1.0 / N ; rep(i, 0, N - 1) J[i] = J[i] * qwq ;&#125;using namespace IO ;int main()&#123; fread(ch,1,ch_top,stdin); rr int i, k, t ; rr node ia, ib, a1, a2, b1, b2 ; t = ((L1 = read()) + (L2 = read())), P = read(), N = 1 ; while (N &lt;= t) N &lt;&lt;= 1, ++ Len ; for (i = 0 ; i &lt;= L1 ; ++ i) x = read(), A[i] = node(x &amp; 32767, x &gt;&gt; 15) ; for (i = 0 ; i &lt;= L2 ; ++ i) x = read(), B[i] = node(x &amp; 32767, x &gt;&gt; 15) ; for (i = 0 ; i &lt; N ; ++ i) w[i] = node(cos(Pi * i / N), sin(Pi * i / N)), R[i] = (R[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; (Len - 1)) ; FFT(A), FFT(B) ; for (i = 0 ; i &lt; N ; ++ i)&#123; k = (N - i) &amp; (N - 1), ia = A[k].Conj(), ib = B[k].Conj() ;//(ia,ib) = Q a1 = (ia + A[i]) * node(0.5, 0), a2 = (A[i] - ia) * node(0, -0.5) ; b1 = (ib + B[i]) * node(0.5, 0), b2 = (B[i] - ib) * node(0, -0.5) ; t1[i] = a1 * b1 + (a1 * b2 + b1 * a2) * node(0, 1), t2[i] = a2 * b2 ; &#125; IFFT(t1), IFFT(t2) ; for (i = 0 ; i &lt;= t ; ++ i) write(((ll)(t1[i].r + 0.5) + ((ll)(t1[i].i + 0.5) % P &lt;&lt; 15) + ((ll)(t2[i].r + 0.5) % P &lt;&lt; 30)) % P) ; fwrite(ch,1,now_w-ch,stdout); return 0 ;&#125; å®è·µè¯æ˜ï¼Œä»¥ä¸Šä»£ç ä¸åŠ ä»»ä½•ä¼˜åŒ–ï¼ˆä¸å¼€$\rm{O2/3/fast}$ï¼‰ç”šè‡³å¯ä»¥å¿«$4ms$ï¼ $\rm{0x00\quad Afterword}$å—¯ï¼Œå…¶å®æŒ‰é“ç†æ¥è®²ï¼Œä¸æ˜¯ç‰¹åˆ«éš¾ã€‚ä½†æ˜¯è¿™è·Ÿ$HLPP$ä¸€æ ·ï¼Œéƒ½æ˜¯æ‰“æ­»éƒ½ä¸ä¼šè€ƒçš„ç®—æ³•ï¼Œæ‰€ä»¥å­¦è¿™äº›åªæ˜¯ä¸ºäº†å¨±ä¹â€¦â€¦å¬èµ·æ¥æŒºè‹å‡‰ï¼Ÿ ä½†ä¼¼ä¹ï¼Œä»ä¸€å¼€å§‹å°±ä¸åº”è¯¥æŠŠåº”ä»˜è€ƒç‚¹ä½œä¸ºOIçš„åˆè¡·å§ï¼Œè™½ç„¶å¦‚æœæ²¡æœ‰è·åˆ©ï¼Œæ²¡æœ‰å¤šå°‘äººä¼šå»å­¦ï¼Œä½†æ˜¯ä¸æ²¾æŸ“åŠŸåˆ©çš„OIï¼Œä¼¼ä¹å¯çˆ±äº†é‚£ä¹ˆå‡ åˆ†å‘¢â€¦â€¦ å¹¶ä¸”åœ¨å­¦çš„è¿‡ç¨‹ä¸­é¡ºä¾¿è®¤è¯†äº†ä¸€ä¸ªå·¨ä½¬CMXRYNPï¼Œå˜¿å˜¿ï¼Œä¹Ÿç®—ä¸äºå•¦ã€‚ æœ¬ç¯‡æ–‡ç« çœŸå®å®Œç¨¿æ—¶é—´æ˜¯$2019/3/17$ï¼Œå› ä¸ºå¤ªæ‡’+å¤ªå¿™ï¼Œé¸½äº†ä¸€ä¸ªæœˆ$\rm{qaq}$. $\rm{Reference}$ $[1]$ :$lvzelong2014$çš„$blog$ $^{^{[\nearrow ]}}â€‹$ $[2]$:æ— æ¢¦ä¹‹æ¢¦çš„$blog$ $^{^{[\nearrow ]}}â€‹$ $[3]$:$Cyhlnj$çš„$blog$ $^{^{[\nearrow ]}}â€‹$ $[4]$:$litble$çš„$blog$ $^{^{[\nearrow ]}}â€‹$ $[5]â€‹$:$CMXRYNPâ€‹$çš„$blogâ€‹$ $^{^{[\nearrow ]}}â€‹$ $[6]$ :2016å›½å®¶é›†è®­é˜Ÿè®ºæ–‡ã€Šå†æ¢å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ã€‹æ¯›å•¸Â· $^{^{[\nearrow]}}$ æå–ç ï¼švua4]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
        <category>å¤šé¡¹å¼</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>å¤šé¡¹å¼-FFT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤šé¡¹å¼1Â·æ™®é€šçš„FFT]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F19%2FFFT1%2F</url>
    <content type="text"><![CDATA[$\rm{0x01\quad Preface}$è¿™ç¯‡æ–‡ç« åˆå†™äº$7/1/2018$ï¼Œæ˜¯åœ¨é™ªåŒå¥½å‹$yjk$ä¸$wx$ä»¥åŠå­¦é•¿$rqy$ä¸€èµ·å»å‚åŠ çœé˜Ÿé›†è®­æ—¶å†™çš„ã€‚ä»Šå¤©çªç„¶æ¥äº†å…´è‡´ï¼Œæ‰“ç®—é‡æ–°å¤ä¹ ä¸€é$FFT$å¹¶ä¸”å†™$MTT$ï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ å…¶å®ä¸€å¼€å§‹æˆ‘æ˜¯ä¸æƒ…æ„¿æŠŠè¿™ç¯‡æ–‡ç« æ¬åˆ°è¿™å„¿æ¥çš„â€”â€”è¿™å¥½åƒæ˜¯ä¸€ä¸ªæ—¶ä»£çš„ç¼©å½±ï¼Œé‚£ä¸ªæ—¶ä»£çš„orchidanyç‰¹åˆ«å–œæ¬¢æ‰®æ¼”è€å¸ˆï¼Œæ¯å¤©ä»¿ä½›æ¥åˆ°å¥¥èµ›å®¤åªæ˜¯ä¸ºäº†â€œä¸ºäººå¸ˆâ€çš„ï¼šå¿ƒæ€§æµ®èºï¼Œå­¦ä¹ åŠŸåˆ©ã€‚ä½†ç°åœ¨æˆ‘åˆ™æ˜¯æƒ³æ²‰ä¸‹å¿ƒæ¥ï¼Œè®¤çœŸåšå­¦é—®ã€‚ ä½†æ— è®ºå¦‚ä½•ï¼Œæˆ‘å¸Œæœ›è¿™ç¯‡åŸæœ¬å†—æ‚ç¹é•¿çš„æ–‡ç« å¯ä»¥æ›´çŸ­ã€æ›´æ–°é¢–ã€ä»æ›´é«˜çš„è§’åº¦å®¡è§†ä¸€äº›é—®é¢˜ã€‚ $\rm{0x02\quad Convolution}$å·ç§¯$\boldsymbol{(Convolution)}$ï¼Œå‡†ç¡®æ¥è¯´æ˜¯ä¸€ç§é€šè¿‡ä¸¤ä¸ªå‡½æ•°$\boldsymbol f$ å’Œ$\boldsymbol gâ€‹$ ç”Ÿæˆç¬¬ä¸‰ä¸ªå‡½æ•°çš„ä¸€ç§æ•°å­¦ç®—å­. è€Œå¹¿ä¹‰ä¸Šå…¶å®šä¹‰ä¸ºï¼š$$\boldsymbol{h(x) = \int _{- \infty} ^{\infty}g(\tau) \cdot f(x - \tau)} \rm{d\tau}$$ æˆ‘ä»¬ç§°$h(x)$æ˜¯$g(x)$ä¸$f(x)$çš„å·ç§¯ã€‚ è€Œæ­¤å¤„æˆ‘ä»¬è®¨è®ºçš„æ˜¯æ•´æ¬¡å¤šé¡¹å¼åŸŸï¼Œé‚£ä¹ˆå°±æŠŠå…¶å®šä¹‰åˆ’å½’è¿›å¤šé¡¹å¼ï¼Œå¾—åˆ° $$A(x) \cdot B(x) =\sum\limits_{i = 0}^{n} \sum\limits_{j=0}^{i}{a_jb_{i-j}} $$å…¶ä¸­$A(x)$å’Œ$B(x)$å‡ä¸º$N-1$æ¬¡å¤šé¡¹å¼æ¯”è¾ƒæ˜¾ç„¶çš„æ˜¯ï¼Œåœ¨æˆ‘ä»¬åˆå¹¶åŒç±»é¡¹çš„æƒ…å†µä¸‹ï¼Œæœ€ç»ˆå·å‡ºæ¥çš„ç»“æœåº”è¯¥æœ‰$2n+1$é¡¹ã€‚ $\rm{0x03\quad Dot~Method}$æˆ‘ä»¬çŸ¥é“ï¼ŒåŸæœ¬çš„å¤šé¡¹å¼æ˜¯ç³»æ•°è¡¨ç¤ºæ³•ï¼Œç°åœ¨æˆ‘ä»¬å°†å…¶è½¬åŒ–ä¸ºç‚¹å€¼è¡¨ç¤ºæ³•$(\boldsymbol{dot~method} )$ã€‚å³æˆ‘ä»¬å¯ä»¥æŠŠå¤šé¡¹å¼$F(x)$è½¬åŒ–ä¸ºå¤šé¡¹å¼å‡½æ•°$f(x)$ï¼Œé‚£ä¹ˆè¿™ä¸ª$n$é˜¶å‡½æ•°å°±å¯ä»¥ç”±$n+1$ä¸ªç‚¹å”¯ä¸€ç¡®å®šã€‚å³$$f(x)\Longleftrightarrow{(x_0,y_0),(x_1,y_1),(x_2,y_2)â€¦.(x_n,y_n)}$$é‚£ä¹ˆ$$\forall k,y_k = f(x_k)$$è¿™æ˜¯å¾ˆæ˜¾ç„¶çš„ï¼Œå¹¶ä¸”è¿™$n+$ä¸ªç‚¹æ˜¯éšæ„é€‰å–çš„â€”â€”åªè¦æ±‚å®ƒä»¬ç›¸å¼‚å³å¯ã€‚ $\rm{Advanced~Trick~Point}$ $\color{red}{1}$ $\rm{Multiplication}$ å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªå…³äº$x$çš„$n+1$æ¬¡å¤šé¡¹å¼$A(x)$å’Œ$B(x)$ï¼Œæˆ‘ä»¬è¦å¯¹å®ƒçš„ç‚¹å€¼è¡¨è¾¾å¼è¿›è¡Œä¹˜æ³•æ“ä½œã€‚ç”±äºç»“æœæœ‰$2n+1$é¡¹ï¼Œæˆ‘ä»¬è€ƒè™‘è¡¥ä¸Šä¸€å †é¡¹ï¼Œå¹¶å¯¹$$A(x) = {(x_0,y_0),(x_1,y_1)â€¦.(x_{2n},y_{2n})}$$ $$B(x) = {(x_0,y_0â€™),(x_1,y_1â€™)â€¦.(x_{2n},y_{2n})}$$ åšä¹˜æ³•å¯å¾— $$A(x)B(x) = {(x_0,y_0y_0â€™),(x_1,y_1y_1â€™)(x_{2n},y_{2n}y_{2n}â€™)}$$ æˆ‘ä»¬è§‚å¯Ÿç‚¹ä¹˜æ³•ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº†$\Theta(n)$ï¼Œå®Œå…¨å¯ä»¥æ¥å—ã€‚é‚£ä¹ˆä¸å¦¨å…ˆçœ‹ä¸€ä¸‹ç®—æ³•çš„å¤§ä½“æ€è·¯ï¼š å¯¹äºæ¯ä¸ªå› å­å¤šé¡¹å¼ï¼Œé€‰å–$n+1$ä¸ªç‚¹ï¼Œå¾—å‡ºç‚¹å€¼è¡¨è¾¾å¼ï¼ˆå¤æ‚åº¦$\Theta(n^2)$ï¼‰ $\longrightarrow$ç‚¹ä¹˜æ³•(æ—¶é—´å¤æ‚åº¦$\Theta(n)$)â€”â€”&gt;å°†å¾—å‡ºæ¥çš„$C(x)$çš„ç‚¹å€¼è¡¨è¾¾å¼å†è½¬æ¢æˆç³»æ•°è¡¨è¾¾å¼(å¤æ‚åº¦$\Theta(n^2)$) è¿™å°±æ˜¯$FFT$çš„å¤§ä½“æµç¨‹ã€‚è½¬åŒ–ä¹‹åæ€ä¹ˆæ²¡å¤šå¿«å¸¸æ•°è¿˜å¤§äº† è™½ç„¶å…¶ä½™éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯å¾ˆéº»çƒ¦çš„$O(n^2)$ï¼Œä½†æ˜¯éƒ½æ˜¯å¯ä»¥ä¼˜åŒ–æˆ$O(nlogn)$çš„ã€‚ æœ¬è´¨ä¸Šçš„$FFT$åŒ…å«$\boldsymbol{DFT}$ï¼ˆç¦»æ•£å‚…ç«‹å¶å˜æ¢ï¼‰å’Œ$\boldsymbol{IDFT}$ï¼ˆé€†ç¦»æ•£å‚…ç«‹å¶å˜æ¢ï¼‰å®é™…ä¸Šï¼Œ$DFT$å¯¹åº”ç€çš„å°±æ˜¯æŠŠç³»æ•°è¡¨è¾¾å¼æ˜ å°„åˆ°ç‚¹å€¼è¡¨è¾¾å¼çš„è¿‡ç¨‹ï¼Œ$IDFT$å¯¹åº”ç€çš„å°±æ˜¯æˆ‘ä»¬æŠŠç‚¹å€¼è¡¨è¾¾å¼æ˜ å°„åˆ°ç³»æ•°è¡¨è¾¾å¼çš„è¿‡ç¨‹ã€‚ $\rm{0x04~Base ~of~Optimization}$å› ä¸ºå®é™…ä¸Šï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€æ­¥â€”â€”æ±‚å€¼ï¼ˆç³»æ•°è½¬ç‚¹å€¼ï¼‰å’Œæˆ‘ä»¬çš„ç¬¬ä¸‰æ­¥ï¼ˆç‚¹å€¼è½¬ç³»æ•°ï¼‰éƒ½æ˜¯å¯ä»¥åšåˆ°$nlogn$çš„ï¼Œé‚£ä¹ˆæ€»çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ¸è¿›æ„ä¹‰ä¸‹å°±æ˜¯$O(nlogn)$çš„ã€‚ ä¸‹é¢å°±è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä¼˜åŒ–ï¼š $\rm{Advanced~Trick~Point}$ $\color{red}{2}$ $\rm{Unit ~Complex ~Root}$ $n$æ¬¡å•ä½å¤æ ¹æ˜¯æ»¡è¶³$\omega^n = 1$ çš„å¤æ•°$\omega$ï¼Œå…¶ä¸­æˆ‘ä»¬å¯ä»¥ç”±å¤æ•°çš„è¿ç®—æ³•åˆ™ï¼ˆè¾è§’ç›¸åŠ ï¼Œæ¨¡ç›¸ä¹˜ï¼‰å¾ˆç®€å•åœ°å¾—å‡º$n$æ¬¡å•ä½æ ¹æœ‰$n$ä¸ªè¿™ä¸ªç»“è®ºâ€”â€”äº¦æˆ–è€…æ˜¯ç”¨ä»£æ•°åŸºæœ¬å®šç†è¯ï¼Œéƒ½å¯ä»¥ã€‚è€Œåˆå› ä¸ºå¤æ•°$\omega^n$åœ¨å¤æ•°å¹³é¢ä¸Šçš„æ¨¡éƒ½æ˜¯ä¸€ï¼Œæ‰€ä»¥ç›¸ä¹˜ä¹‹åè¿˜ä¼šæ˜¯ä¸€ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„$\omega_i,1 \leq i \leq n$å°±ä¼šå‡åŒ€åˆ†å¸ƒåœ¨å•ä½åœ†ä¸Šï¼Œç±»ä¼¼å½“$n = 8â€‹$æ—¶å®ƒæ˜¯è¿™æ ·çš„ï¼š æˆ‘ä»¬è€ƒè™‘æ¬§æ‹‰å…¬å¼ï¼š $$e^{ix} = cosx + isinx$$ æˆ‘ä»¬å–$x =2\pi$ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹å…³ç³»å¼ï¼š$$e^{2 \pi i} = 1 = \omega^n \Longleftrightarrow \omega = e^{\frac{2\pi i}{n}}$$ ä»¬æŠŠæ­¤æ—¶çš„å•ä½æ ¹ç§°ä¹‹ä¸ºä¸»æ¬¡å•ä½æ ¹ï¼Œè®°ä½œ$$\omega_n = e^{\frac{2\pi i}{n}} $$ é‚£ä¹ˆå¯¹äºå…¶ä»–çš„å•ä½æ ¹ï¼Œè®°ä½œ$$\omega_n^k=e^{\frac{2\pi ik}{n}},0 \leq k &lt; n$$éƒ½æ˜¯ä¸»æ¬¡å•ä½æ ¹çš„æ•´æ¬¡å¹‚ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­çš„ä¸€åœˆã€‚ è¯¶ï¼Œè¿™ä¸ªæœ‰å•¥ç”¨å•Š$QAQ$? é‚£æ˜¯å› ä¸ºå•ä½æ ¹ä»¬æœ‰ä¸€å †ç‰¹åˆ«å¥½ç”¨çš„æ€§è´¨ï¼Œè®©æˆ‘ä»¬å¯ä»¥å°†æ•°æ®è§„æ¨¡ä¸æ–­æŠ˜åŠï¼Œä½¿å¾—å…¶è¾¾åˆ°$nlogn$çš„å¤æ‚åº¦â€¦â€¦ é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹å…¶æ”¯æŒå…¶è§„æ¨¡å‡åŠçš„å¼•ç†ï¼š $\frak{Elimination ~Lemma\quad}$æ¶ˆå»å¼•ç† å¼•ç†ï¼šå¯¹ä»»ä½•æ•´æ•°$n \geq 0,k \geq 0,d &gt;0$,æœ‰$$\omega_{dn}^{dk} = \omega_n^k$$ $\mathcal{Proof.}$ è¿™ä¸ªå¥½åƒå¾ˆå¥½è¯çš„æ ·å­â€¦â€¦ä»£å…¥å®šä¹‰å¯ä»¥è·å¾—$$\omega_{dn}^{dk} = \omega^{\frac{2\pi dk}{dn}} = e^{\frac{2\pi ik}{n}} = \omega_n^k$$$\mathcal{Q.E.D.}$ $\frak{Binary~Lemma\quad}$ æŠ˜åŠå¼•ç† å¼•ç†ï¼šå¯¹äºä»»ä½•å¤§äº$0$çš„å¶æ•°$n$ï¼Œéƒ½æœ‰$n$ä¸ª$n$æ¬¡å•ä½å¤æ ¹çš„å¹³æ–¹çš„é›†åˆï¼Œç­‰äº$\frac{n}{2}$ä¸ª$\frac{n}{2}$æ¬¡å•ä½å¤æ ¹çš„é›†åˆã€‚ $\mathcal{Proof.}$ æˆ‘ä»¬å¯ä»¥ç”±æ¶ˆå»å¼•ç†å¾—åˆ°$$(\omega _n^k)^2 = \omega^{2k}_n=\omega_{n/2}^k$$é‚£ä¹ˆ $$(\omega_n^{k + \frac{n}{2}})^2 = \omega_n^{2k + n} \Longrightarrow \omega_n^{2k} \cdot \omega_n^n \Longrightarrow \omega_n^{2k} = (\omega_n^k)^2â€‹$$ $\mathcal{Q.E.D.}$ é‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œå¦‚æœå¯¹æ‰€æœ‰çš„$n$æ¬¡å•ä½è·Ÿå¹³æ–¹ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¼šå‘ç°$\frac{n}{2}$æ¬¡å•ä½æ ¹æ¯ä¸ªéƒ½æ°å¥½å‡ºç°äº†ä¸¤æ¬¡â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨$n$ä¸ª$n$æ­¤å•ä½å¤æ•°æ ¹çš„é›†åˆï¼ˆæœ´ç´ çš„é›†åˆï¼Œå³ä¸å¯é‡é›†ï¼‰é‡Œï¼Œåªæœ‰$\frac{n}{2}$ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬å‚è€ƒä¸Šé¢é‚£å¼ å›¾ï¼Œå®ƒçš„æ„ä¹‰å°±åœ¨äºæ–¹å‘ç›¸å¯¹çš„ä¸¤åªå‘é‡ï¼Œå…¶å¹³æ–¹ç›¸ç­‰ã€‚ é‚£ä¹ˆæŠŠæ‰€æœ‰$n$å•ä½æ ¹çš„å¹³æ–¹ç”»åˆ°ä¸€ä¸ªæ•°åˆ—ä¸Šå°±æ˜¯è¿™æ ·ã€‚ è¿™ä¸ªå¼•ç†ç›´æ¥ä¿è¯äº†æˆ‘ä»¬æ±‚å€¼çš„å¤æ‚åº¦ä¸º$\Theta(n \log n)$ è€Œæˆ‘ä»¬åœ¨ä»£ç å®ç°ä¸­ï¼Œä¸èƒ½ç›´æ¥å¾—åˆ°$e$æˆ–è€…è™šæ•°$i$ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™æ±‚å•ä½æ ¹çš„ä»»åŠ¡å°±äº¤ç»™äº†æˆ‘ä»¬ä¸Šæ–‡ä¸­æåˆ°è¿‡çš„æ¬§æ‹‰å…¬å¼ã€‚ $\frak{Sum~Lemma\quad}$æ±‚å’Œå¼•ç† å¼•ç†ï¼šå¯¹äºä»»æ„$n&gt;0$ä¸”$k$ä¸èƒ½æ•´é™¤$n$ï¼Œæˆ‘ä»¬éƒ½æœ‰$$\sum\limits_{j =0}^{n-1}{(\omega_n^k)^j} = 0$$ $Proof.$ ç”±å‡ ä½•çº§æ•°çš„æ±‚å’Œå…¬å¼ï¼ˆç­‰æ¯”æ•°åˆ—æ±‚å’Œå…¬å¼)$$\sum\limits_{j = 0}^{n}{x^j} = \frac{x^{j +1} -1}{x -1}$$å¯å¾—$$\sum\limits_{j =0}^{n-1}{(\omega_n^k)^j} = \frac{(\omega_n^k)^n -1}{\omega_n^k -1} \Longrightarrow \frac{(\omega_n^n)^k -1}{\omega_n^k -1} = \frac{(1)^k -1}{\omega_n^k -1}$$ç”±äºä¿è¯äº†$k$ä¸å¯æ•´é™¤$n$æ‰€ä»¥åˆ†æ¯ä¸€å®šä¸ä¸º$0.$ $\mathcal{Q.E.D}$ $\rm{0x05\quad DFT \to FFT}$é‚£ä¹ˆæˆ‘ä»¬åœ¨äº†è§£å®Œå•ä½å¤æ•°æ ¹ä¹‹åï¼Œä¾¿å¯ä»¥æ­£å¼åœ°å¯¹$DFT$ç»™å‡ºå®šä¹‰ä¸æ“ä½œæ–¹æ¡ˆäº†ã€‚ $DFT$ å¯¹äºæˆ‘ä»¬å·²çŸ¥çš„ä¸€ä¸ªå¤šé¡¹å¼$$A(x) = \sum\limits_{i =0}^{n - 1}{a_ix^i}$$åœ¨$\omega_n^0,\omega_n^1,\omega_n^2 \cdots \omega_n^{n-1}$å¤„çš„å–å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å‡å®š$n$æ˜¯$2$çš„å¹‚ï¼Œå› ä¸ºå³ä½¿å®ƒæœ¬èº«ä¸æ˜¯$2$çš„å¹‚ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‘é«˜æ¬¡å¹‚è¡¥å€¼ä¸º$0$çš„é¡¹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è€Œè¡¥è¶³$2$çš„å¹‚çš„ç›®çš„ï¼Œå°±æ˜¯ä¸ºäº†åœ¨$FFT$åˆ†æ²»çš„è¿‡ç¨‹ä¸­ï¼Œä½¿ä¹‹å¯ä»¥ä¸€ç›´åˆ†æ²»ä¸‹å»ä¸”æ¯æ¬¡åˆ†æ²»å¾—å‡ºçš„ä¸¤åŠå¯ä»¥è¿›è¡Œè¿ç®—ã€‚ é‚£æˆ‘ä»¬ç°åœ¨ä¼šæœ‰ä¸€ä¸ª$A$çš„å‘é‡ç»„$\vec{a} = {a_1, a_2, a_3 \cdots a_{n-1}}$ï¼Œå¯¹äº$k = 0, 1, 2, \cdots n -1$ï¼Œå®šä¹‰$y_k$å¦‚ä¸‹ï¼š$$y_k = A(\omega_n^k)=\sum\limits_{j =0}^{n -1}{a_j \cdot \omega_n^{kj}}$$ï¼Œé‚£ä¹ˆå‘é‡$$\vec{y} = {y_0, y_1, y_2 \cdots y_{n-1}}$$å°±ç§°ä½œç³»æ•°å‘é‡$\vec{a} = {a_1, a_2, a_3 \cdots a_{n-1}}$çš„ç¦»æ•£å‹å‚…ç«‹å¶å˜æ¢ï¼ˆ$\boldsymbol{Discrete Fourier Transformation}$ï¼‰ã€‚ å—¯ï¼Œè¿™ä¸ªç¦»æ•£å‹æˆ‘ä»¬å¯ä»¥ç”±ç‚¹ä¹˜æ³•è”æƒ³æ„ä¼šä¸€ä¸‹ï¼šæœ¬æ¥$A(x)$æ˜¯ä¸€ä¸ªä¼˜ç¾çš„å¤šé¡¹å¼ï¼Œè½¬å˜æˆå‡½æ•°ä¹‹åæ˜¯ä¸€æ¡ä¼˜ç¾çš„æ›²çº¿ï¼ˆä¼˜ç¾åªæ˜¯å®šè¯­â€¦â€¦ä¸æ˜¯é‡è¦å†…å®¹$qwq$ï¼‰ï¼Œç»“æœä½ çªç„¶æŠŠå®ƒæ‹†æˆäº†ä¸€å †ç¦»æ•£çš„ç‚¹ï¼ŒæŠŠå®ƒç”¨ç‚¹å€¼æ³•è¡¨ç¤ºï¼Œæ•…ç§°ä¹‹æ›°ï¼šâ€œç¦»æ•£å‹â€ ã€‚ $FFT$ä¼˜åŒ–$DFT$ åœ¨ä¸Šæ–‡ä¸­æˆ‘ä»¬åˆ†æè¿‡ï¼Œå°†ç³»æ•°è¡¨è¾¾å¼è½¬åŒ–ä¸ºç‚¹å€¼è¡¨è¾¾å¼éœ€è¦çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ï¼Œè¿™æ˜¯æœ´ç´ ç®—æ³•ã€‚è€Œæˆ‘ä»¬åªéœ€è¦ç”¨ä¸€ç§è¢«ç§°ä½œå¿«é€Ÿå‚…ç«‹å¶å˜æ¢ï¼ˆ$\boldsymbol{Fast Fourier Transformation}$ï¼‰çš„æ–¹å¼ï¼Œå°±å¯ä»¥å°†å…¶æ—¶é—´å¤æ‚åº¦å‹ç¼©æˆ$O(nlogn)$ã€‚è€Œåœ¨è¿™é‡Œæˆ‘ä»¬å°±ç”¨åˆ°äº†åˆšæ‰è¯æ˜çš„å¼•ç†â€”â€”æŠ˜åŠå¼•ç†ã€‚ æˆ‘ä»¬è€ƒè™‘å°†åŸæ¥çš„å¤šé¡¹å¼$$A(x) = a_0+a_1x+ a_2x^2 \cdots +a_{n-1}x^{n-1}$$é‡å®šä¹‰æˆä¸¤ä¸ªæ¬¡æ•°ä¸º$\frac{n}{2}$çš„å°å¤šé¡¹å¼$A^{[0]}(x)$å’Œ$A^{[1]}(x)$ï¼š $$A^{[0]}(x) = a_0 + a_2x+a_4x^2 \cdots +a_{n-2}x^{\frac{n}{2} - 1}$$ $$ A^{[1]}(x) = a_1 + a_3x+a_5x^2 \cdots +a_{n-1}x^{\frac{n}{2} - 1}$$ é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´ï¼Œ$A^{[0]}(x)$å­˜å‚¨çš„æ˜¯æ‰€æœ‰å¶æ•°ä½ï¼ˆäºŒè¿›åˆ¶ä½æœ€åä¸€ä½æ˜¯$0$ï¼‰ï¼Œè€Œ$A^{[1]}(x)$å­˜å‚¨çš„æ˜¯æ‰€æœ‰çš„å¥‡æ•°ä½ï¼ˆäºŒè¿›åˆ¶ä½æœ€åä¸€ä½æ˜¯$1$ï¼‰ï¼Œé‚£ä¹ˆæœ‰ä¸‹å¼ï¼š$$A(x) = A^{[0]}(x^2)+xA^{[1]}(x^2)$$é‚£æˆ‘ä»¬æ±‚$A(x)$åœ¨å•ä½æ ¹ä»¬$\omega_n^0,\omega_n^1,\omega_n^2 \cdots ,\omega_n^{n-1}$å¤„çš„å€¼ï¼Œå°±å˜æˆäº†å…ˆæ±‚å‡º$A^{[0]}(x^2)$å’Œ$A^{[1]}(x^2)$çš„å€¼ï¼Œç„¶åæ ¹æ®ä¸Šå¼è¿›è¡Œåˆå¹¶å³å¯ã€‚ è€Œæ˜¾ç„¶çš„æ˜¯ï¼Œæ ¹æ®æŠ˜åŠå¼•ç†ï¼Œæˆ‘ä»¬æ ¹æœ¬ä¸éœ€è¦$O(n)$æ±‚ï¼Œè€Œæ˜¯é€šè¿‡æ•°æ®è§„æ¨¡ä¸æ–­å‡å°ä½¿ä¹‹æˆä¸º$O(\log n)$ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬æˆåŠŸé€šè¿‡$FFT$ä¼˜åŒ–äº†æ±‚å€¼çš„å¤æ‚åº¦ã€‚ é‚£ä¹ˆåŒæ—¶å¯¹äºå¦ä¸€è¾¹ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ® $$A(\omega_n^{k+\frac{n}{2}}) = A^{[0]}(\omega_n^{2k+n})+\omega_n^{k+\frac{n}{2}}A^{[1]}(\omega_n^{2k+n}) \Longrightarrow A^{[0]}(\omega_n^{2k}\cdot \omega_n^{n})-\omega_n^{k}A^{[1]}(\omega_n^{2k}\cdot \omega_n^{n})$$ å¾—åˆ° $$A(\omega_n^{k+\frac{n}{2}})=A^{[0]}(\omega_n^{2k})-\omega_n^{k}A^{[1]}(\omega_n^{2k})$$ ä»è€Œæœ‰ä¼ªä»£ç ï¼š 1234567891011121314151617181920212223int Lim = 1, N, M ;function FFT(int lenth, complex *A, int flag)&#123; IF (Lim == 1) return ; complex A0[lenth &gt;&gt; 1], A1[lenth &gt;&gt; 1] ;//åˆ†æˆä¸¤éƒ¨åˆ† for(int j : 0 to lenth by_grow 2) A0[j &gt;&gt; 1] = A[j], A1[j &gt;&gt; 1] = A[j + 1] ; FFT(lenth &gt;&gt; 1, A0, flag) ; FFT(lenth &gt;&gt; 1, A1, flag) ; complex Wn = unit(,) , w = (1, 0) ;//Wnæ˜¯å•ä½æ ¹ï¼Œwç”¨æ¥æšä¸¾å¹‚ï¼Œå³æˆ‘ä»¬ä»¤ä¸»æ¬¡å•ä½æ ¹ä¸å˜ï¼Œç”±äºå…¶ä½™å•ä½æ ¹éƒ½æ˜¯å…¶æ•´æ¬¡å¹‚ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸€ä¸ªwæ¥è®°å½•åˆ°ç¬¬å‡ æ¬¡å¹‚ /*æ­¤å¤„æ±‚å•ä½æ ¹çš„æ—¶å€™ä¼šç”¨åˆ°æˆ‘ä»¬çš„å‚æ•°flagâ€¦â€¦å—¯æ²¡é”™å°±ç”¨è¿™ä¸€æ¬¡ï¼Œå¹¶ä¸”flagçš„å€¼åŸŸä¸º(-1, 1)â€¦â€¦æ˜¯çš„ï¼Œåªä¼šæœ‰ä¸¤ä¸ªå€¼*/ for(int j : 0 to (lenth &gt;&gt; 1) by_grow 1 with w = w * Wn)&#123; A[i] = A0[i] + A1[i] * w ;//åº”ç”¨å…¬å¼ï¼Œä¸‹åŒ A[i + (lenth &gt;&gt; 1)] = A0[i] - A1[i] * w ; //é¡ºä¾¿æ±‚å‡ºå¦ä¸€åŠï¼Œç”±æŠ˜åŠå¼•ç†å¯æ˜¾ç„¶ã€‚ &#125; &#125; function Main&#123; input(N), input(M) ; for(i : 0 to N by_grow 1) =&gt; input(A) ; for(i : 0 to M by_grow 1) =&gt; input(B) ; while(Lim &lt; N + M) Lim &lt;&lt;= 1 ;//Limä¸ºç»“æœå¤šé¡¹å¼çš„é•¿åº¦ï¼ˆæš‚æ—¶ï¼‰ï¼ŒåŒ–ä¸º2çš„å¹‚çš„ä¾¿äºåˆ†æ²»ï¼ˆäºŒåˆ†ï¼‰ FFT(Lim, A, 1) ;//ä¸¤éFFTè¡¨ç¤ºä»ç³»æ•°åŒ–ä¸ºç‚¹å€¼ FFT(Lim, B, 1) ; for(i : 0 to Lim by_grow 2) =&gt; A[i] *= B[i] ;//ç‚¹ä¹˜æ³•ï¼Œæ­¤å¤„éœ€è¦é‡å®šä¹‰ä¹˜å·ï¼Œå› ä¸ºæ¯ä¸€é¡¹ç°åœ¨è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªç‚¹ï¼Œæœ‰xå’Œyä¸¤ä¸ªå±æ€§qwq &#125; ä»¥ä¸Šæ˜¯åŸºäº$pks$æ ‡å‡†ä¸‹çš„ä¼ªä»£ç ä½ å¯ä»¥è¯•è¯•åœ¨c++æ ‡å‡†ä¸‹è¿è¡Œï¼Œå…¶ä¸­$for$å¾ªç¯éƒ¨åˆ†ï¼Œ$grow$è¡¨ç¤ºå½“å‰å¾ªç¯å˜é‡çš„å•æ¬¡å¢é‡ï¼Œä¹‹åå¸¦æœ‰$with$è¡¨ç¤ºæ¯æ¬¡å¾ªç¯ç»“æŸéƒ½ä¼šè¿›è¡Œçš„è¿ç®—ï¼ˆä¸‹åŒ å—¯ï¼Œè¿™å°±æ˜¯æ±‚å€¼çš„æ–¹æ³•ï¼Œå¥½åƒå¾ˆ$nice$åœ°è¾¾åˆ°äº†$O(n \log n)$ $FFT$ä¼˜åŒ–$IDFT$ ä¸Šæ–‡ä¸­æˆ‘ä»¬æ›¾ç»æåŠè¿‡çš„èŒƒå¾·è’™å¾·çŸ©é˜µå¯ä»¥æ”¾åˆ°è¿™å„¿ç”¨ï¼š $\begin{vmatrix} 1 &amp; 1 &amp; 1 &amp; \cdots &amp; 1 \newline 1 &amp; \omega_n &amp; \omega_n^2 &amp; \cdots &amp; w_n^{n-1} \\newline1 &amp; \omega_n^2 &amp; \omega_n^4 &amp; \cdots &amp; \omega_n^{2(n-1)} \newline \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \newline 1 &amp; \omega_n^{n-1} &amp; \omega_n^{2(n-1)} &amp; \cdots &amp; \omega_n^{(n-1)(n-1)} \newline \end{vmatrix}$ $\begin{vmatrix} a_0 \newline a_1 \newline a_2 \newline \vdots \newline a_{n-1} \end{vmatrix}$ = $\begin{vmatrix} y_0 \newline y_1 \newline y_2 \newline \vdots \newline y_{n-1} \end{vmatrix}$ é‚£ä¸ºäº†æ±‚å‡ºæˆ‘ä»¬çš„$\vec{a} = {a_0, a_1 \cdots ,a_{n-1}}$æˆ‘ä»¬åº”è¯¥è®©åˆšåˆšæ±‚å€¼ç®—å‡ºçš„$\vec{y}$ä¹˜ä¸Šæˆ‘ä»¬$\vec{V}^{~-1}$ï¼ˆ$\vec{V}$çš„é€†çŸ©é˜µï¼‰å³å¯ã€‚ä½†æ˜¯æ¡¥è±†éº»è¢‹~~~ä¸éœ€è¦ç”¨ä»€ä¹ˆé«˜æ¶ˆå•Šâ€¦ä½™å­å¼å•Šâ€¦æˆ‘ä»¬åªéœ€è¦ä»¥ä¸‹ï¼š æ¨è®ºï¼šå¯¹äº$j,k = 0,1, 2 \cdots n-1,V_n^{-1}$çš„$(j, k)$å¤„çš„å€¼ä¸º$\omega_n^{-kj}/n$ $Proof.$ æˆ‘ä»¬è€ƒè™‘åå‘è¯æ˜ï¼Œå·²çŸ¥$V_nâ€™$æ˜¯ä¸€ä¸ª$(j,k)$å¤„å€¼ä¸º$\omega_n^{-kj}/n$çš„ã€ä¸$V$å½¢æ€ç›¸åŒçš„çŸ©é˜µï¼Œé‚£æˆ‘ä»¬åªéœ€è¦è¯æ˜$Vâ€™ \cdot V = I_n$å³å¯ï¼Œå…¶ä¸­$I_n$æ˜¯$n$é˜¶å•ä½çŸ©é˜µï¼Œå³ä¸»å¯¹è§’çº¿éƒ½æ˜¯$1$ï¼Œå…¶ä½™ä½ç½®ä¸Šæ˜¯$0$çš„çŸ©é˜µã€‚ é‚£ä¹ˆæˆ‘ä»¬è€ƒå¯Ÿ$Vâ€™ V$ä¸­çš„å…ƒç´ $(i, j)$ï¼Œæœ‰å¦‚ä¸‹çš„å¼å­$$Vâ€™V = \sum\limits^ {n-1}_{k=0}{(\omega_n^{-ki}/n)} \cdot {\omega_n^{kj}} = \frac{1}{n} \sum\limits^ {n-1}_{k=0}{\omega_n^{k(j-i)}}$$ ç”±æ±‚å’Œå¼•ç†å½“ä¸”ä»…å½“$i=j$æ—¶å…¶å€¼ä¸ºä¸€ï¼Œå…¶ä½™çš„æ—¶åˆ»å‡ä¸ºé›¶ï¼Œæ‰€ä»¥æœ‰$Vâ€™V = I_n$ $\mathcal{Q.E.D}$ é‚£ä¹ˆæˆ‘ä»¬æŠŠæˆ‘ä»¬åˆšåˆšæ±‚å‡ºæ¥çš„é€†çŸ©é˜µ$V^{-1}$ç¾åŒ–ä¸€ä¸‹ï¼Œæå‡ºæ¯ä¸€é¡¹æ‰€é™¤çš„$n$ï¼Œå¯ä»¥å¾—åˆ°$IDFT$å¯ä»¥å¦‚æ­¤è®¡ç®—ï¼š$$IDFT_n(y) = \frac{1}{n}\sum\limits_{k = 0}^{n-1}{y_k\omega_n^{-kj}},j\in [0,n-1]$$è¯¶ï¼Œè¿™ä¸ªå¥½åƒâ€¦â€¦è·Ÿæˆ‘ä»¬æ±‚å€¼æ—¶çš„å…¬å¼å·®ä¸å¤šï¼Ÿæ²¡é”™ï¼Œé™¤äº†å¸¦ä¸ªè´Ÿå·ï¼Œå…¶ä½™çš„éƒ½å·®ä¸å¤šã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘æ‰“ä¸ªæ ‡è®°ï¼šå½“$flag=1$æ—¶ï¼Œä»–æ˜¯æ­£å‘$DFT$ï¼›å½“å®ƒç­‰äº$-1$æ—¶ï¼Œå®ƒæ˜¯é€†å‘çš„$ IDFT$ã€‚è¿™å¯ä»¥è®©æˆ‘ä»¬é€šè¿‡è¿™ä¸€ä¸ªå‡½æ•°è§£å†³ä¸¤ä¸ªè¿‡ç¨‹ã€‚æˆ‘ä»¬åªéœ€è¦ç”¨$y$æ›¿æ¢$a$ï¼Œç”¨$\omega_n^{-1}$æ›¿æ¢$\omega_n$ï¼Œå…¶ä½™çš„æ²¡ä»€ä¹ˆå·®åˆ«ï¼Œäºæ˜¯â€¦â€¦æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯$O(n \log n)$çš„! 123456789101112131415161718192021void FFT(int Lim,complex *A,int flag)&#123; if(Lim == 1) return ; complex A0[Lim &gt;&gt; 1], A1[Lim &gt;&gt; 1] ; for(int i = 0; i &lt;= Lim ; i += 2) A0[i &gt;&gt; 1] = A[i], A1[i &gt;&gt; 1] = A[i+1] ; FFT(Lim &gt;&gt; 1, A0, flag) ; FFT(Lim &gt;&gt; 1, A1, flag) ; complex unit = (complex)&#123;cos(2.0 * Pi / Lim) , flag * sin(2.0 * Pi / Lim)&#125;, w = complex(1, 0) ;//æ¬§æ‹‰å…¬å¼ for(int i = 0;i &lt; (Lim &gt;&gt; 1) ; i ++, w = w * unit) &#123; A[i] = A0[i] + w * A1[i] ; A[i + (Lim&gt;&gt;1)] = A0[i] - w*A1[i]; &#125;&#125;int main()&#123;......................FFT(A, 1), FFT(B, 1) ;for(i = 0; i &lt;= Lim; i ++) A[i] = A[i] * B[i] ;FFT(A, -1) ;......................&#125; å¥½çš„ï¼Œç°åœ¨å˜›â€¦â€¦å¯ä»¥è€ƒè™‘æ’’èŠ±èŠ±å•¦ï¼å› ä¸ºæˆ‘ä»¬çš„$FFT$å®é™…ä¸Šå·²ç»ç»“æŸäº†ï¼$But$ï¼Œè¿™ä¸ªé€’å½’ç‰ˆæœ¬çš„$FFT$ç”±äºç‰µæ‰¯åˆ°$sin/cos$çš„è¿ç®—ã€$double$ã€é€’å½’æ—¶çš„å…¥æ ˆå‡ºæ ˆï¼ˆåº•å±‚ï¼‰ï¼Œæ‰€ä»¥å¸¸æ•°ç‰¹åˆ«çš„å¤§$emmmmm$ï¼Œé‚£ä¹ˆâ€”â€” $\rm{0x06~Iterative~ Optimization}$æˆ‘ä»¬ç°åœ¨è¦å¼•å‡ºçš„å°±æ˜¯è¿­ä»£ç‰ˆçš„$FFTqwq$ Â· $\rm{Advanced~Trick~Point}$ $\color{red}{3}$ $\rm{The~Butterfly ~Operation}$$emmm$å…ˆä¸Šä¸€ä¸ªä¸æ˜¯ç‰¹åˆ«å¡å¸¸æ•°çš„ä¼˜åŒ–ã€‚æˆ‘ä»¬è§‚å¯Ÿä¹‹å‰çš„ä»£ç ä¸­ï¼Œæœ‰è¿™ä¹ˆä¸€æ­¥ï¼š1234 for(int i = 0;i &lt; (Lim &gt;&gt; 1) ; i ++, w = w * unit) &#123; a[i] = A0[i] + w * A1[i] ; a[i + (Lim&gt;&gt;1)] = A0[i] - w*A1[i];&#125; æˆ‘ä»¬ä¼šå‘ç°â€¦â€¦$\omega \cdot A^{[1]}[i]$è¢«æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¦¨ç”¨ä¸ªå˜é‡è®°å½•å®ƒï¼š12345 for(int i = 0;i &lt; (Lim &gt;&gt; 1) ; i ++, w = w * unit) &#123; int temp = w * A1[i] ; a[i] = A0[i] + t ; a[i + (Lim&gt;&gt;1)] = A0[i] - t ;&#125; å—¯ï¼Œè¿™å°±æ˜¯å…¨éƒ¨çš„ä¼˜åŒ–å•¦ï¼é‚£ä¹ˆï¼ŒFFTï¼Œå®Œï¼ $qwq$è¿™åˆ†æ˜æ˜¯éª—å°å­©å­çš„å•¦â€¦â€¦å¦‚æœå•å•è¿™ä¸€æ­¥å°±å¯ä»¥å¡å¸¸æ•°çš„è¯ï¼Œé‚£è¿™ä¸ªä¸–ç•Œè¯¥å¤šä¹ˆç¾å¥½$\mathcal{QAQ}$ã€‚å¥½å§ï¼Œè¯´è¿™ä¸ªçš„åŸå› ï¼Œåªæ˜¯ä¸ºäº†å¼•å‡ºæˆ‘ä»¬å…³äºè´è¶æ“ä½œçš„å®šä¹‰ï¼š æˆ‘ä»¬å®šä¹‰$\omega_n^k$ä¸ºæ—‹è½¬å› å­ï¼Œé‚£ä¹ˆæ¯ä¸€æ¬¡æˆ‘ä»¬å…ˆå°†$y_k^{[1]}$ä¸æ—‹è½¬å› å­çš„ä¹˜ç§¯å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡$t$é‡Œï¼Œå¹¶åœ¨$y_k^{[0]}$å¢åŠ ã€å‡å»$t$çš„æ“ä½œç§°ä¸ºä¸€æ¬¡è´è¶æ“ä½œã€‚ è¯´ç™½äº†ï¼Œè´è¶æ“ä½œæ˜¯ä¸€æ¬¡$O(2)$çš„æ±‚å‡º$A^{[0]}_k$ä¸$A^{[1]}_k$çš„æ“ä½œã€‚ æˆ‘ä»¬é¦–å…ˆè€ƒè™‘æŒ‰ç…§é€’å½’çš„æ€è·¯ï¼Œå°†$FFT$çš„åˆ†æ²»æµç¨‹åˆ»ç”»ä¸€ä¸‹ï¼š æˆ‘ä»¬ä¼šå‘ç°ï¼Œå…¶å®æˆ‘ä»¬æ˜¯å¯ä»¥å¯¹å®ƒè¿›è¡Œåå‘è¿­ä»£çš„ã€‚ä»¥ä¸Šé¢çš„è¿­ä»£æ ‘ä¸ºä¾‹ï¼Œæˆ‘ä»¬çš„æ­¥éª¤å¤§ä½“å¦‚ä¸‹ï¼š $step 1$ æˆå¯¹åœ°å–å‡ºå„¿å­èŠ‚ç‚¹ï¼Œç”¨è´è¶æ“ä½œè®¡ç®—å‡ºå…¶$DFT$ã€‚$step 2$ ç”¨è¿™ä¸€æ­¥çš„$DFT$æ›¿æ¢ä¹‹å‰çš„ï¼›$step 3$ ç›´åˆ°æˆ‘ä»¬è¿­ä»£åˆ°æ ¹èŠ‚ç‚¹ä¸ºæ­¢ï¼Œå¦åˆ™è¿”å›$step 1$ è€Œåå‘è¿­ä»£ä¼¼ä¹æœ‰è§„å¾‹å¯å¾ªã€‚æˆ‘ä»¬å‘ç°åªè¦æˆ‘ä»¬ç”¨è¿­ä»£çš„è¿‡ç¨‹æ¨¡æ‹Ÿå‡ºå›æº¯çš„è¿‡ç¨‹å³å¯ã€‚é‚£ä¹ˆæ€è·¯ä¾¿æœ‰äº†ï¼šä¸‰å±‚$for$ï¼Œå…ˆæšä¸¾åŒºé—´é•¿åº¦ï¼ˆ1ï¼Œ2ï¼Œ4ï¼Œ8â€¦â€¦ï¼‰ï¼Œç¬¬äºŒå±‚æšä¸¾é•¿åº¦ä¸º$j*2$çš„æ¯ä¸ªåŒºé—´çš„èµ·ç‚¹â€”â€”æ„å›¾ä¸ºåŒæ—¶æšä¸¾ä¸¤ä¸ªç›¸é‚»åŒºé—´ï¼Œä¾¿äºç›¸é‚»åŒºé—´ä¹‹é—´$DFT$çš„åˆå¹¶ï¼Œç¬¬ä¸‰å±‚è´Ÿè´£éå†æ¯æ®µåŒºé—´ï¼Œè¿ç”¨è´è¶æ“ä½œé€ä¸ªåˆå¹¶ï¼š 12345678910for(j = 1; j &lt; Lim; j &lt;&lt;= 1)&#123;//æšä¸¾åŒºé—´é•¿åº¦ï¼Œä»å°åŒºé—´åˆ°å¤§åŒºé—´ä¾æ¬¡åˆå¹¶ã€‚ node T(cos(Pi / j), flag * sin(Pi / j)) ; for(k = 0; k &lt; Lim; k += (j &lt;&lt; 1) )&#123;//ä¸¤æ®µåŒºé—´ä¸¤æ®µåŒºé—´çš„æšä¸¾ï¼Œç”¨äºåˆå¹¶ node t(1, 0) ; for(l = 0 ; l &lt; j; l ++, t = t * T)&#123;//æšä¸¾kæ‰€æšä¸¾çš„ä¸¤ä¸ªåŒºé—´å†…çš„å€¼ï¼Œå¹¶è¿›è¡Œè´è¶æ“ä½œã€‚ node Nx = J[k + l], Ny = t * J[k + j + l] ; J[k + l] = Nx + Ny ; J[k + j + l] = Nx - Ny ;//ä¸€æ¬¡è´è¶æ“ä½œ &#125; &#125; &#125; å—¯ï¼Œå¥½åƒâ€¦â€¦æµ·æ˜Ÿï¼Ÿå“ˆï¼Œæ€ç»´ä¸ä¸¥è°¨çš„æˆ‘ä»¬æ¼äº†ä¸€ä¸ªåœ°æ–¹ï¼šæˆ‘ä»¬åœ¨$DFT$çš„æ—¶å€™ï¼Œä¸ºäº†ä¿è¯æ—¶é—´å¤æ‚åº¦æ˜¯$\Theta(\log n)$ï¼Œæˆ‘ä»¬æ›¾ç»è¿›è¡Œè¿‡ä¸€æ¬¡$A(x) = A^{[0]}(x^2)+xA^{[1]}(x^2)$çš„æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªåŠ¨è°ƒæ•´é¡ºåºã€‚é€šä¿—ä¸€ç‚¹ï¼Œå°±æ˜¯æˆ‘ä»¬åŸæ¥çš„åºåˆ—é¡ºåºæ˜¯$0,1,2,3,4,5,6,7$ï¼Œä½†æ˜¯è¿­ä»£ç‰ˆçš„$FFT$å´éœ€è¦çš„é¡ºåºåº”è¯¥è·Ÿå¶å­ç»“ç‚¹çš„é¡ºåºå»åˆï¼Œå³$0, 4, 2, 6, 1, 5,3,7$ã€‚æ‰€ä»¥â€”â€” Â· $\rm{Trick~Point}$ $\color{red}{4}$ $\rm{The~Butterfly ~Law}$ è¿™ä¸ªå˜›â€¦â€¦æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ‰“ä¸ªè¡¨è§‚å¯Ÿï¼šåŸæ¥çš„åºå· $0 1 2 3 4 5 6 7$ç°åœ¨çš„åºå· $0 4 2 6 1 5 3 7$åŸæ¥çš„äºŒè¿›åˆ¶è¡¨ç¤º $000 001 010 011 100 101 110 111$ç°åœ¨çš„äºŒè¿›åˆ¶è¡¨ç¤º $000 100 010 110 100 101 011 111$ è¯¶ï¼ŒäºŒè¿›åˆ¶å¥½åƒæ˜¯ååºçš„å—·~~è¿™ä¾¿æ˜¯æˆ‘ä»¬çš„æœ€åä¸€ä¸ª$trick$ï¼Œè´è¶å®šç†ã€‚è€Œå› ä¸ºæˆ‘ä»¬è§‚å¯Ÿåˆ°çš„è´è¶å®šç†æ˜¯æ»¡è¶³ä¸€ä¸€å¯¹åº”æ€§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨$FFT$ä¹‹å‰$swap$ä¸€éå³å¯ã€‚ å—¯ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªååºå­˜åœ¨ä¸€ä¸ªæ•°ç»„é‡Œé¢ã€‚ç±»ä¼¼è¿™æ ·æ±‚å‡ºæ¥ï¼š1for(i = 0; i &lt; Lim; i ++ ) R[i] = (R[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; (L - 1)) ; å‘ƒï¼Œè¿™ä¸ªäºŒè¿›åˆ¶è®¡ç®—è‡ªå·±æ¨ä¸€ä¸‹å°±å¥½ã€‚ é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™å°±ç®€åŒ–äº†å¾ˆå¤šå†—ä½™çš„æ­¥éª¤ï¼Œå¹¶è®©æˆ‘ä»¬è„±ç¦»é€’å½’çš„å¤§å¸¸æ•°ã€‚çœŸå¼€æ£®å•Š æœ€åé™„è¿­ä»£ç‰ˆçš„ä»£ç (æˆ‘å†™çš„å¸¸æ•°å¥½åƒæœ‰ç‚¹å„¿å¤§$QAQ$) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#define il inlineusing namespace std ;int N, M, K ;const int MAXN = 3000100 ;const double Pi = acos(-1.0) ;int i, j, k, l, Lim = 1, L, R[MAXN] ; struct node&#123; double x, y ; node (double xx = 0, double yy = 0)&#123; x = xx, y = yy ; &#125;&#125;A[MAXN], B[MAXN] ;node operator * (node J, node Q)&#123; return node(J.x * Q.x - J.y * Q.y , J.x * Q.y + J.y * Q.x);&#125;node operator + (node J, node Q)&#123; return node(J.x + Q.x , J.y + Q.y);&#125;node operator - (node J, node Q)&#123; return node(J.x - Q.x , J.y - Q.y );&#125;il int qr()&#123; int k = 0, f = 1 ; char c = getchar() ; while(!isdigit(c))&#123;if(c == '-') f = -1 ;c = getchar() ;&#125; while(isdigit(c)) k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48 ,c = getchar() ; return k * f ;&#125;void FFT(node *J, int flag)&#123; for(i = 0; i &lt; Lim; i ++) if(i &lt; R[i]) swap(J[i], J[R[i]]) ;//å‰é¢çš„ifä¿è¯åªæ¢ä¸€æ¬¡ for(j = 1; j &lt; Lim; j &lt;&lt;= 1)&#123; node T(cos(Pi / j), flag * sin(Pi / j)) ; for(k = 0; k &lt; Lim; k += (j &lt;&lt; 1) )&#123; node t(1, 0) ; for(l = 0 ; l &lt; j; l ++, t = t * T)&#123; node Nx = J[k + l], Ny = t * J[k + j + l] ; J[k + l] = Nx + Ny ; J[k + j + l] = Nx - Ny ; &#125; &#125; &#125;&#125;int main()&#123; N = qr(), M = qr() ; for(i = 0; i &lt;= N; i ++) A[i].x = qr() ; for(i = 0; i &lt;= M; i ++) B[i].x = qr() ; while(Lim &lt;= N + M) Lim &lt;&lt;= 1, L ++ ; for(i = 0; i &lt; Lim; i ++ ) R[i] = (R[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; (L - 1)) ; FFT(A, 1), FFT(B, 1) ; for(i = 0; i &lt;= Lim; i ++) A[i] = A[i] * B[i] ; FFT(A, -1) ; for(i = 0; i &lt;= N + M; i ++) printf("%d ", (int)(A[i].x / Lim + 0.5)) ;//æˆ‘ä»¬æ¨è¿‡çš„å…¬å¼é‡Œé¢æœ‰ä¸€ä¸ª1/nè¿™ä¸€é¡¹ï¼Œæœ€åè¾“å‡ºçš„æ—¶å€™æ·»ä¸Šå³å¯ return 0 ;&#125; å•Šâ€¦â€¦é‚£å°±æ’’èŠ±èŠ±å§ï¼ï¼ $\rm{0x00\quad Afterword}$ä»¥ä¸‹æ˜¯åŸå°¾è¯­ï¼Œä¿ç•™äº†ä¸‹æ¥ï¼š å—¯â€¦â€¦æ€ä¹ˆè¯´å‘¢ï¼Œç°åœ¨çœ‹è¿™ä¸ªç®—æ³•ï¼ŒçœŸæ˜¯ç®€å•çš„ä¸€åŒ¹å•Šâ€¦â€¦ä»£ç è¿™ä¹ˆçŸ­è¿™ä¹ˆå®¹æ˜“èƒŒè¿‡ã€‚ä½†æ˜¯å½“æ—¶ç†è§£èµ·æ¥å´èŠ±äº†å¾ˆå¤§å¿ƒæ€å‘¢ï¼è¿™ç¯‡åšå®¢æˆ‘å†™äº†æ•´æ•´ä¸‰å¤©$qwq$ï¼Œç”±äºè¦åŸ¹è®­å’Œè€ƒè¯•ï¼Œæ‰€ä»¥æ‹–æ‹–æ²“æ²“åœ°å†™äº†ä¸‰å¤©ï¼Œä¸€è¾¹å†™ä¸€è¾¹æ„Ÿå¹è‡ªå·±ç†è§£çš„ç®€ç›´å¤ªæµ…æ˜¾äº†ã€‚æ¯ä¸€ä¸ªè¯æ˜ã€æ¯ä¸€ä¸ªå¼•ç†ã€ç”šè‡³æ¯ä¸€ä¸ªç¬¦å·ï¼Œæˆ‘éƒ½éœ€è¦å»å’Œå…¶ä»–$DALAO$æ¯”å¯¹å®¡æ ¸ã€æˆ–è€…ç¼ ç€$rqy$é—®ä¸ªæ²¡å®Œï¼›æ¯æ¬¡ä¸€è®²åˆ°åŸç†ï¼Œæˆ‘éƒ½å‘ç°è‡ªå·±åŸæ¥å¹¶ä¸ç†è§£é‚£äº›ï¼Œäºæ˜¯ä¸å¾—ä¸æ¨å€’é‡æ¥ã€‚è¿™ç¯‡åšå®¢ä¼šæŒç»­æ›´æ–°ï¼Œè¡¥å……è¯­æ„ä¸æ˜ã€è¯æ˜éš¾ä»¥ç†è§£çš„åœ°æ–¹ã€‚ ä»¥ä¸‹æ˜¯æ¸©é¦¨æç¤ºï¼š å¥½å¤šè‡ªå·±å½“åˆä¸ç†è§£çš„åœ°æ–¹åœ¨ä»£ç é‡Œå°±åªæœ‰åŠè¡Œqaq ä¸‰ä¸ªå¼•ç†ä¸­ï¼Œåªæœ‰æ¶ˆå»å¼•ç†è·Ÿç®—æ³•çš„å®ç°æ²¡æœ‰å…³ç³»â€”â€”æ¶ˆå»å¼•ç†ä¸»è¦æ˜¯ç”¨æ¥è¯æ˜å…¶ä»–å¼•ç†çš„ çœŸ Â· ç»“æŸè¯­ï¼š å…¶å®æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä»Šå¤©é‡æ–°å¤ä¹ äº†ä¸€éï¼Œå‘ç°è‡ªå·±ä»¥å‰æœ‰å¥½å¤šå†…å®¹è™½ç„¶å¦‚åŸå°¾è¯­æ‰€è¨€ï¼Œçœ‹ä¸Šå»ç°åœ¨çœ‹è¿™ä¸ªç®—æ³•ï¼ŒçœŸæ˜¯ç®€å•çš„ä¸€åŒ¹å•Šï¼Œä½†å®é™…ä¸Šå¿½ç•¥äº†å¥½å¤šä¸œè¥¿ã€‚æˆ‘æƒ³å¤§æ¦‚åªæœ‰ä¸€éä¸€éåœ°é’»ç ”æ‰èƒ½äº†è§£å®Œå…¨ä¸€ä»¶äº‹æƒ…å§ã€‚ $\rm{Reference}$ $[1]$ :$rvalue$çš„$blog$ $^{^{[\nearrow ]}}$ $[2]$ :ç®—æ³•å¯¼è®º $^{^{[\nearrow]}}$ æå–ç : txs2 [3]*ï¼šé¸£è°¢rqy $\mathfrak{writter:pks}$]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
        <category>å¤šé¡¹å¼</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>å¤šé¡¹å¼-FFT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšæƒ³äº”Â·æ‰‹ä¸­æ²¡æœ‰çº¢ç«ç‘°]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F14%2F%E9%9A%8F%E6%83%B3%E4%BA%94%C2%B7%E6%83%85%E4%BA%BA%E8%8A%82%2F</url>
    <content type="text"><![CDATA[â€œéšæƒ³â€ç³»åˆ—ç´¢å¼•ï¼šæˆ³æˆ‘ ä»Šå¤©ä¸‹äº†ä¸€å¤©çš„é›ªã€‚ æˆ‘æ˜¯éš”ç€çª—æˆ·æœ›çš„ï¼Œç›´åˆ°ç°åœ¨æˆ‘è¿˜æ²¡æœ‰çœŸæ­£è§¦æ‘¸åˆ°ä¹…è¿çš„é›ªèŠ±ã€‚ä¸€å¹´å¤šäº†ï¼Ÿæˆ–è®¸å§ã€‚æˆ‘è½»åº¦è¿‘è§†ï¼Œä½†æ˜¯ç™½å¤©åœ¨çª—è¾¹çš„ä¹¦æ¡Œæ—ä¹ ä½œæ—¶ï¼Œä¸æˆ´çœ¼é•œçš„ï¼Œè¿˜æ˜¯èƒ½çœ‹åˆ°çº·é£çš„ç™½çµ®â€”â€”è™½ç„¶æœ‰äº›æ¨¡ç³Šã€‚å®ƒä»¬ç»å¸¸æƒ³æˆ‘æŒ¥æ‰‹è‡´æ„ï¼Œæˆ‘ä¹Ÿæ»¡è¶³äº†ã€‚ â€œæƒ…äººèŠ‚å‘¢â€¦â€æˆ‘æƒ³ç€ã€‚å½“ç„¶ï¼Œäººç±»åœ¨æ€è€ƒä¸€ä»¶äº‹çš„æ—¶å€™ä¸å¯é¿å…çš„è¦è”æƒ³ï¼Œæˆ‘è”æƒ³åˆ°çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯æˆ‘æ²¡å†™å®Œä¹Ÿå‹æ ¹ä¸æƒ³å†™çš„ä½œä¸šï¼Œæ˜¯å¦‚æœæœ‰äº†æ‹äººä¹‹åè€å¸ˆä»¬çš„ç«­åŠ›åå¯¹ã€åœ¨åŒå­¦ä¸­æ˜¾å¾—é¹¤ç«‹é¸¡ç¾¤ä»¥åŠåœ¨å­¦ä¸šä¸å¤„ç†æ‹çˆ±å…³ç³»çš„æ¼©æ¶¡äº¤å‰ä¸­æŠ½ä¸å¼€èº«â€”â€”å¤§æŠµå°±æ˜¯è¿™äº›å§ã€‚æˆ‘ä¸æ•¢æƒ³äº†ï¼Œå› ä¸ºæˆ‘æƒ³åˆ°ä¸€æ¡©ç¾å¥½çš„äº‹æƒ…ï¼Œä»¿ä½›å°±ä¼šè”æƒ³åˆ°åä»¶ã€ä¸Šç™¾ä»¶ä»¤äººä¸å¯’è€Œæ —çš„äº‹æƒ…â€”â€”è¿™è®©æˆ‘æ„Ÿåˆ°ææƒ§ã€‚ é›ªçœŸç¾å•Šã€‚ æ—©æ‹ï¼Ÿ â€œä¸¥æ‰“ï¼â€ï¼Œ â€œå¥½å­©å­ä¸æ—©æ‹ï¼â€ï¼Œ â€œæ—©æ‹è‚¯å®šæ²¡æˆï¼Œå¥½å¥½å­¦ä¹ å§â€ï¼Œâ€œä»€ä¹ˆå¹´é¾„å°±è¯¥å¹²ä»€ä¹ˆå¹´é¾„è¯¥å¹²çš„äº‹å„¿â€â€¦â€¦ è¯´çœŸçš„ï¼Œæˆ‘å¾ˆéš¾å¯é½¿ï¼Œå“ªæ€•æ˜¯åœ¨è¦å¥½çš„æœ‹å‹é¢å‰â€”â€”å½“æˆ‘è¯´å‡ºæˆ‘å¯¹å“ªä¸ªå¥³å­©å­æœ‰å¥½æ„Ÿçš„æ—¶å€™ï¼Œæˆ‘éƒ½æ˜¯æ€¯æ€¯çš„ã€‚ ç›´åˆ°åˆšåˆšçœ‹åˆ°äº†è¿™æ ·ä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯ä¸€ä¸ªç½‘ç»œä½œå®¶è‹è§ç¥ˆå†™çš„ï¼ŒæŒºæ—©çš„ä¸€ç¯‡æ–‡ç« äº†ï¼š å°å­¦äº”å¹´çº§çš„æ—¶å€™ï¼Œæˆ‘å–œæ¬¢ç­ä¸Šçš„ä¸€ä¸ªå¥³å­©å­ã€‚é‚£æ—¶å€™æƒ³çš„å¾ˆå¤šã€‚æ¯”å¦‚æœ‰ä¸€å¤©çœ‹ç”µè§†å‰§ï¼Œç”·ä¸»æ‰‘è¿‡æ¥æ›¿å¥³ä¸»æŒ¡äº†ä¸€æªï¼ŒæŒ‚äº†ã€‚é‚£å¤©æˆ‘è¾—è½¬åä¾§äº†ä¸€å¤œï¼Œè´¨é—®è‡ªå·±å¦‚æœæœ‰äººç”¨æªæŒ‡ç€æˆ‘å–œæ¬¢çš„å°å¥³å­©ï¼Œæˆ‘æ•¢ä¸æ•¢æ‰‘è¿‡å»èµ´æ­»ã€‚è¿™çŠ¹è±«è®©12å²çš„æˆ‘éå¸¸ç¾æ„§ã€‚æˆ‘è§‰å¾—è¿™æ ·è‡ªç§çš„æˆ‘ï¼Œä¸é…å–œæ¬¢å¥¹ã€‚æˆ‘å¼€å§‹è´¨ç–‘è‡ªå·±ï¼Œæˆ‘è‡ªä»¥ä¸ºçš„å–œæ¬¢æ˜¯ä¸æ˜¯çœŸçš„åƒå¤§äººè¯´çš„é‚£æ ·ï¼Œåªæ˜¯ä¸æ‡‚äº‹çš„å°å­©é—¹ç€ç©ã€‚ å¦‚ä»Šæˆ‘çŸ¥é“è¿™è‡ªè´£æ¯«æ— å¿…è¦ã€‚åœ¨æ„Ÿæƒ…é‡Œé—¹ç€ç©ï¼Œè¿™äº‹å„¿åœ¨å¤§äººçš„ä¸–ç•Œé‡Œè¦æµè¡Œçš„å¤šã€‚ æˆ‘æƒ³å¾—å¤šè¿˜ä½“ç°åœ¨äº†åˆ«çš„æ–¹é¢ã€‚æ¯”å¦‚è€å¸ˆè¯´å¥½å¥½å­¦ä¹ ï¼Œå¯æˆ‘ä¸€ç›´ä¸æ˜ç™½ä¸ºä»€ä¹ˆã€‚ä»–ä»¬çš„é‚£äº›ç†ç”±ï¼Œæ¯”å¦‚æ‰¾ä¸ªå¥½å·¥ä½œå•Šï¼Œå‡ºäººå¤´åœ°å•Šï¼Œå¬èµ·æ¥å°±å¾ˆæ— èŠï¼Œä½•å¿…å‘¢ã€‚ äºæ˜¯ä»åˆä¸€å¼€å§‹ï¼ŒåŸæœ¬ä¸‰å¥½å­¦ç”Ÿçš„æˆ‘æˆç»©ä¸€è½åƒä¸ˆï¼Œå‹‰å¼ºåªèƒ½ä¸Šä¸ªæœ«æµé«˜ä¸­ã€‚å®¶é•¿è€å¸ˆå…¨éƒ½æ€¥æ­»äº†ï¼Œæˆ–å¨é€¼åˆ©è¯±ï¼Œæˆ–è‹¦å£å©†å¿ƒï¼Œæˆ‘ä¸€æ¦‚æ²¹ç›ä¸è¿›ã€‚å½“ç„¶ç°åœ¨çš„æˆ‘çŸ¥é“äº†è¯»ä¹¦çš„ç†ç”±ï¼Œå¯æ˜¯å›é€†æœŸçš„å°‘å¹´ä»€ä¹ˆä¹Ÿä¸æƒ³å¬ã€‚ åæ¥åˆä¸‰å¼€å­¦ï¼Œæˆ‘æ”¶åˆ°äº†ä¸€å°ä¿¡ã€‚æ¥è‡ªé‚£ä¸ªå°å­¦æ—¶å€™å–œæ¬¢çš„å¥³å­©å­ã€‚ä¿¡çš„æœ«å°¾æœ‰ä¸€å¥è¯ï¼šæˆ‘å‡†å¤‡æŠ¥è€ƒXä¸­ï¼Œä½ è¦ä¸è¦ä¸€èµ·ï¼Ÿ æˆ‘çš„æ‰‹ä¸å—æ§åˆ¶åœ°é¢¤æŠ–ã€‚çƒˆç„°åœ¨çµé­‚çš„æ·±å¤„ç‡ƒèµ·ï¼Œç¼äººçš„çƒ­æµªå¸­å·äº†å…¨èº«æ¯ä¸€ä¸ªç»†èƒã€‚ ä¸ºä»€ä¹ˆè¦è¯»ä¹¦å‘¢ï¼Ÿ16å²çš„æˆ‘è·å¾—äº†å”¯ä¸€çš„ç­”æ¡ˆâ€”â€”ä¸ºäº†å’Œå–œæ¬¢çš„äººåœ¨ä¸€èµ·ã€‚æˆ‘å¼€å§‹ç–¯äº†ä¸€æ ·åœ°å¤ä¹ ï¼Œæ¶è¡¥è¿™ä¸¤å¹´è½ä¸‹çš„çŸ¥è¯†ç‚¹ã€‚ä¹¦æ¡Œè¾¹ä¸Šæ”¾äº†ä¸€ç›†æ°´ï¼Œå›°äº†å°±ç”¨æ°´æ³¼è‡ªå·±çš„è„¸ã€‚å¯¹äºæˆ‘ä¸€å¤œä¹‹é—´çš„å‰§å˜ï¼Œå¤§äººä»¬ä¸€ä¸ªä¸ªå–œç¬‘é¢œå¼€ï¼Œè¯´å­©å­ç»ˆäºæ‡‚äº‹äº†ã€‚æ˜¯å•¦ï¼Œä»–ä»¬æ€»ä»¥ä¸ºè‡ªå·±å¾ˆæ‡‚ã€‚ å¾ˆå¤šäººè¯´ï¼Œå°å­©å­ä¸è¦è°ˆæ„Ÿæƒ…ï¼Œå› ä¸ºåæ­£ä¸ä¼šæœ‰ç»“æœã€‚æ˜¯ï¼Œçš„ç¡®ä¸ä¼šæœ‰ç»“æœã€‚å°±åƒå“ªæ€•åæ¥æˆ‘å¦‚æ„¿è€ƒä¸Šäº†Xä¸­ï¼Œè¿™ä¾ç„¶ä¸æ˜¯æŸ¯æ™¯è…¾æ²ˆä½³å®œé‚£æ ·çš„æ•…äº‹ã€‚ä»å§‹è‡³ç»ˆï¼Œæˆ‘éƒ½æ²¡èƒ½åœ¨å¥³å­©çš„äººç”Ÿé‡Œæ‰®æ¼”è¿‡å“ªæ€•ä¸€ä¸ªé…è§’ã€‚ å¯æ˜¯å¦‚ä»Šæˆ‘ç«™åœ¨æ—¶é—´çš„å½¼ç«¯å›æœ›ï¼Œå¦‚æœé‚£ä¸ªåå‡ å²çš„å­©å­æ²¡æœ‰çˆ±ä¸Šè¿‡ä»€ä¹ˆäººï¼Œé‚£ä¹ˆä»–ä¹‹åçš„äººç”Ÿï¼Œå°†æ— æ³•æŒ½å›åœ°æ»‘å…¥æ·±æ¸Šã€‚çˆ±è¿‡ä¸€ä¸ªäººï¼Œæ˜¯æˆ‘å°‘å¹´æ—¶æœ€å¤§çš„å¹¸è¿ã€‚ æ‰€ä»¥ï¼Œå½“æ‰€æœ‰å¤§äººè§†æ—©æ‹ä¸ºæ´ªæ°´çŒ›å…½çš„æ—¶å€™ï¼Œæˆ‘å®Œå…¨ä¸æ•¢è‹ŸåŒã€‚è€Œå½“ä»–ä»¬è¨€ä¹‹å‡¿å‡¿åœ°è¯´â€œè°ˆæ‹çˆ±å½±å“å­¦ä¹ â€çš„æ—¶å€™ï¼Œæˆ‘æ›´åªèƒ½æŠ¥ä»¥ç™½çœ¼ã€‚æ˜¯ï¼Œè°ˆæ‹çˆ±å½±å“å­¦ä¹ ã€‚åªæ˜¯å¾ˆå¤šæ—¶å€™ï¼Œè¿™â€œå½±å“â€å¯ä»¥è¢«ç§°ä¸ºâ€œæ¿€åŠ±â€ã€‚ æœ‰å¯èƒ½å½±å“å­¦ä¹ çš„ä¸œè¥¿å¾ˆå¤šï¼Œç”µè§†å‰§å¯ä»¥ï¼Œå°è¯´å¯ä»¥ï¼Œç³Ÿç³•çš„è€å¸ˆå’Œä¸åˆæ ¼çš„çˆ¶æ¯æ›´åŠ å¯ä»¥ã€‚è€Œåœ¨æ‰€æœ‰çš„å› å­é‡Œï¼Œæ‹çˆ±æœ€æœ‰å¯èƒ½æŠŠå›é€†çš„å°‘å¹´å˜æˆæ›´å¥½çš„äººã€‚ç»“æœæ‰€æœ‰çš„å¤§äººï¼Œååç”¨å°½æ‰€æœ‰åŠ›æ°”ï¼Œæªç€è¿™æŸ„åŒåˆƒå‰‘çº ç¼ ä¸æ¸…ã€‚ æˆ‘ç”šè‡³æ€€ç–‘ï¼Œæ¯”èµ·é‚£äº›é«˜å¤§ä¸Šçš„â€œä¸ºä½ å¥½â€ï¼Œä»–ä»¬åªæ˜¯ææƒ§å¦ä¸€ä¸ªäººæˆä¸ºè‡ªå·±å­©å­çš„ç²¾ç¥å¯„æ‰˜ï¼Œææƒ§å­©å­è„±ç¦»è‡ªå·±çš„æŒæ§â€”â€”å’Œå©†å©†åˆéš¾åª³å¦‡çš„å¿ƒç†ç›¸åŒã€‚ ä»–ä»¬è½»è”‘åœ°è¯´ï¼Œå°å­©å­æ‡‚ä»€ä¹ˆæ‹çˆ±ã€‚å¥½ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹å¤§äººä»¬æœ‰å¤šä¹ˆæ‡‚çˆ±æƒ…ã€‚ç›¸äº²çš„ç”·å¥³å°†å„è‡ªçš„ç­¹ç æ‘†ä¸Šå¤©å¹³ï¼Œæˆ¿ï¼Œè½¦ï¼Œè¡Œä¸šï¼Œå®¶åº­ï¼Œæ”¶å…¥ï¼Œåƒä¸€åœºç­‰ä»·äº¤æ¢çš„ç”Ÿæ„ã€‚å¤œåœºé‡Œä¹å£°éœ‡è€³æ¬²è‹ï¼Œç”·äººåœ¨åˆšè®¤è¯†åŠå°æ—¶çš„å¥³äººè€³è¾¹å¤§å–Šï¼Œæ˜å¤©ä¸Šåˆæˆ‘é€ä½ å›å­¦æ ¡å¥½å—ã€‚å¤«å¦»äºŒäººååœ¨æ²™å‘çš„ä¸¤ç«¯ç©ç€å„è‡ªçš„æ‰‹æœºï¼Œä¸€æ™šä¸Šéƒ½æ‡’å¾—æŠ¬å¤´çœ‹å¯¹æ–¹ä¸€çœ¼ã€‚ æ‰€ä»¥æˆ‘ä¸€ç›´æ— æ³•ç†è§£ï¼Œæˆå¹´äººåœ¨å­©å­çš„çˆ±æƒ…é¢å‰ï¼Œé‚£ä»½ä¼˜è¶Šæ„Ÿåˆ°åº•ä»ä½•è€Œæ¥ã€‚ä»–ä»¬è¶¾é«˜æ°”æ‰¬åœ°è¯´ç€â€œå°å­©æ‡‚ä»€ä¹ˆæ‹çˆ±â€ï¼Œå´ä¸æ‹¿é•œå­ç…§ç…§è‡ªå·±çš„ä¸€åœ°é¸¡æ¯›ã€‚éš¾é“ä»¥ä¸Šè¿™äº›ç”»é¢ï¼Œæ¯”ç©¿ç€æ ¡æœçš„å¥³å­©å‡è£…è·¯è¿‡çƒåœºï¼Œåªä¸ºå·çœ‹ä¸€çœ¼å–œæ¬¢çš„ç”·ç”Ÿæ‰“çƒï¼Œæ›´èƒ½ç§°ä¸ºçˆ±æƒ…ï¼Ÿ è¿˜æœ‰ä¸€ç§æ¯”è¾ƒæ¸©å’Œçš„åå¯¹ï¼Œè¯´èµ·æ¥è¯­é‡å¿ƒé•¿ï¼šâ€œä½ ä»¬è¿˜å¹´è½»ï¼Œåˆ«ç€æ€¥ï¼Œè°ˆæ‹çˆ±ä»¥åæœ‰çš„æ˜¯æœºä¼šã€‚â€ä»”ç»†å›æƒ³ï¼Œè¿™ç§è¿‡æ¥äººç°èº«è¯´æ³•çš„æ–¹å¼ï¼Œå¯¹å­©å­çš„ç¡®å¾ˆæœ‰è¯´æœåŠ›ã€‚å­©å­æ€»æ˜¯ç›¸ä¿¡ç¾å¥½çš„ï¼Œç›¸ä¿¡ä¹…åˆ«é‡é€¢ï¼Œç›¸ä¿¡å§»ç¼˜ä¸€çº¿ï¼Œç›¸ä¿¡åå¹´ä¹‹åæˆ‘ä»¬è‡³å°‘è¿˜æ˜¯æœ‹å‹ã€‚ å¯æ˜¯ï¼Œè¯·å¦‚ä»Šå·²ç»é•¿å¤§çš„å¤§å®¶é—®é—®è‡ªå·±ï¼Œå½“å¹´é­‚ç‰µæ¢¦è¦çš„é‚£ä¸ªäººï¼Œå¦‚ä»Šè¿˜åœ¨å—ï¼Ÿä½ ä»¬æ˜¯çœŸçš„æœ‰çš„æ˜¯ä»¥åï¼Œè¿˜æ˜¯æ—©å·²ç¦»æ•£åœ¨äººæµ·ï¼Ÿè€Œåæ¥é‡åˆ°çš„é‚£äº›äººï¼ŒçœŸèƒ½æ¨¡ç³Šäº†åå…­å²ç•™åœ¨å¿ƒé‡Œçš„çœ‰çœ¼å—ï¼Ÿ å¾ˆä¹…ä»¥åæˆ‘ä»¬ç»ˆäºçŸ¥é“ï¼Œå¤§äººéƒ½åœ¨è¯´è°ã€‚å°‘å¹´çš„é”™è¿‡æ˜¯ä¸€ç”Ÿçš„æ±‚ä¸å¾—ï¼Œæ˜¯å“ªæ€•åŠŸæˆåå°±å’Œå¯Œå¯æ•Œå›½éƒ½æ— æ³•æŒ½å›çš„é—æ†¾ã€‚æˆ–è®¸æœªæ¥çš„ä½ é£å…‰æ— é™ï¼Œå¯ä½ æ°¸è¿œæ— æ³•é€†è½¬æ—¶é—´ã€‚æ²¡æœ‰ä»€ä¹ˆâ€œæœ‰çš„æ˜¯æœºä¼šâ€ï¼Œé”™è¿‡æ­¤åˆ»ï¼Œå°±æ˜¯é”™è¿‡ä¸€ç”Ÿã€‚ å¦‚æœæœ‰è¿˜åœ¨ä¸Šå­¦çš„è¯»è€…çœ‹åˆ°è¿™é‡Œï¼Œè¯·è®°ä½ï¼Œäººç”Ÿæ²¡æœ‰é‚£ä¹ˆå¤šä»¥åã€‚æœ‰å–œæ¬¢çš„äººå°±å»è¿½ï¼Œä½ ä¸è¿½ä¸Štaï¼Œåˆ†ç¦»å°±ä¼šè¿½ä¸Šä½ ï¼Œæ²¡æœ‰ä¾‹å¤–ã€‚å½“ç„¶å•¦ï¼Œä¸ºäº†ä½ ä»¬çš„æ‰‹èƒ½ç‰µå¾—ä¹…ä¸€äº›ï¼Œæˆç»©ä¸€å®šä¸èƒ½è½ä¸‹ã€‚ è‡³äºé‚£äº›ä¹‰æ­£è¾ä¸¥æ£’æ‰“é¸³é¸¯çš„é•¿è¾ˆâ€¦â€¦ç›¸ä¿¡æˆ‘ï¼Œåå¹´åä»–ä»¬ä¸ä¼šç†ä¼šä½ çš„é—æ†¾å’Œæ€…æƒ˜ï¼Œä»–ä»¬ä¼šå‚¬ä½ éšä¾¿æ‰¾ä¸ªäººç»“å©šï¼Œå¹¶ä¸”ä¸æ¯«ä¸è§‰å¾—åœ¨æ‰“è‡ªå·±çš„è„¸ã€‚ æˆ‘æœ‰ä¸ªæœ‰ç‚¹å„¿ä¸§çš„æœ‹å‹ï¼Œå«å°æ€ªã€‚å…³äºå°‘å¹´çš„çˆ±æ‹ä»–è¯´è¿‡ä¸€æ®µè¯ï¼Œæˆ‘è§‰å¾—æˆ‘ä¸èƒ½è¯´å¾—æ›´å¥½äº†ï¼Œå€ŸèŠ±çŒ®ä½›é€ç»™å¤§å®¶ã€‚ â€ å¾ˆå¤šäººå³ä½¿åªè§è¿‡ä¸€é¢ï¼Œå·²ç»ç®—è§è¿‡äº†æœ€åä¸€é¢ã€‚â€œ åå…«å²å‰ä¸æ—©æ‹ï¼Œè¿™è¾ˆå­éƒ½æ¥ä¸åŠæ—©æ‹ã€‚ä½ çš„äººç”Ÿçœ‹èµ·æ¥å¾ˆé•¿ï¼Œæ¯ä¸€ç§’éƒ½æ— æ³•æŒ½å›ã€‚ è™½ç„¶ä¸æ’é™¤æœ‰â€œç«™ç€è¯´è¯ä¸è…°ç–¼â€çš„å«Œç–‘ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™æˆ–è®¸æé†’äº†æˆ‘ä»€ä¹ˆã€‚ æˆ‘ä»Šå¤©åœ¨è¿™é‡Œå¯ä»¥å¼€è¯šå¸ƒå…¬åœ°è·Ÿå„ä½è®²æˆ‘æ‰€è°“çš„â€æ„Ÿæƒ…ç»å†â€œï¼Œâ€å¿ƒè·¯å†ç¨‹â€œã€‚ å½“ç„¶ï¼Œä¹Ÿæ˜¯ç»™æˆ‘è‡ªå·±è®²ã€‚ å…³äºè¿™ä»¶äº‹ï¼Œæˆ‘ä¸€ç›´çº ç»“çš„å¾ˆã€‚å› ä¸ºèº«æ—æˆ–è®¸æœ‰äº†å–œæ¬¢çš„å¥³ç”Ÿï¼Œä½†æ˜¯æˆ–å› ä¸ºå¥¹æœ‰ç”·æœ‹å‹äº†ï¼Œæˆ–å› ä¸ºåˆ«çš„ä»€ä¹ˆåŸå› ï¼Œæˆ‘ä¸èƒ½å¾ˆé¡ºåˆ©åœ°å®ç°ã€‚æ˜¯åšæŒå‘¢ï¼Œè¿˜æ˜¯ä¸åšæŒå‘¢ï¼Ÿæˆ‘ä¸çŸ¥é“ã€‚ä»¥å‰åœ¨åˆä¸­ï¼Œé‡åˆ°ä¸€ä¸ªå¥³å­©å°±ç—´ç—´åœ°è§‰å¾—å¯ä»¥æºæ‰‹ä¸€ç”Ÿï¼Œä½†æœ€åå´æ˜¯è¿ç‰µæ‰‹çš„æœºä¼šéƒ½æ²¡æœ‰ã€‚ ç°åœ¨ä¸ä¸€æ ·äº†å§ï¼Œä¸€ç”Ÿï¼Œå¤šé•¿å•Šã€‚ æˆ‘æ˜¯åœ¨æ‹…å¿ƒè¿™ä¸ªå—ï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“ã€‚å¤§æ¦‚æ˜¯ä»æ¥æ²¡æœ‰ä»€ä¹ˆäººæ”¯æŒè¿‡æˆ‘ï¼ŒåŒ…æ‹¬æˆ‘è‡ªå·±ï¼Œä¹Ÿä»æ¥æ²¡æœ‰æ”¯æŒè¿‡æˆ‘è‡ªå·±ã€‚ æ²¡æèµ·è¿™ä»¶äº‹ï¼Œé‡è§å¥¹ï¼Œæ€»ä¼šæ„Ÿè§‰å†…å¿ƒæ— æ¯”çº ç»“ï¼Œä¼šå› ä¸ºå¥¹ä¸€é¢¦ä¸€ç°‡å¿ƒé‡Œç¿»è…¾å¥½ä¹…ï¼Œä¹Ÿä¼šå› ä¸ºå…¶ä»–çš„åŸå› æ„Ÿåˆ°ç•¥ç•¥å‹æŠ‘ã€‚å¥½åƒæˆ‘å·²ç»æŠŠå¥¹å½“æˆäº†ä»€ä¹ˆæ´ªæ°´çŒ›å…½ã€‚å› è€Œæˆ‘ä¹Ÿå¸¸å¸¸çº ç»“ä¸å·²ã€‚ ç­‰ä¼šå„¿ï¼Œéš¾é“æ¯å¤©çº ç»“çš„è¦æ­»å°±æ˜¯æˆ‘æƒ³è¦çš„å—ï¼Ÿç†æ€§åˆ†æä¸€ä¸‹ï¼Œæˆ‘æƒ³è¦å¥¹æˆä¸ºæˆ‘çš„æ‹äººæ˜¯æˆ‘å–œæ¬¢å¥¹çš„å¿…ç„¶ç»“æœï¼Œä½†æ˜¯è¿™ä¸¤ç§çŠ¶æ€æˆ‘çœŸçš„å¯ä»¥æƒè¡¡çš„å¾ˆå¥½å—ï¼Ÿæ¢å¥è¯è¯´ï¼Œæˆ‘å…³äºå¥¹çš„çš„å–œæ€’å“€ä¹è¿˜æ˜¯å› ä¸ºæˆ‘å–œæ¬¢å¥¹å—ï¼Ÿ ä¸ï¼Œæˆ‘è§‰å¾—ä¸æ˜¯ã€‚ æˆ‘æ˜¯åœ¨äºµæ¸ä¸€ç§æ„Ÿæƒ…ï¼Œæ˜¯åœ¨ä¾®è¾±ä¸€ä¸ªäººã€‚ çˆ±ä»æ¥éƒ½æ˜¯æ— ç§åœ°ä»˜å‡ºï¼Œè€Œä¸æ˜¯æ‹¼å‘½çš„å æœ‰å•Šã€‚ æˆ‘ä»¿ä½›æŠŠå¥¹å½“åšäº†ä¸€ç§å•†å“ï¼Œä¸€ç§ååˆ†æƒ³å¾—åˆ°æ‰‹çš„å•†å“ã€‚æˆ‘ç°åœ¨ä¼šå±•ç°ç»™è‡ªå·±ã€ä¹Ÿå±•ç°ç»™å…¶ä»–äººä¸€å‰¯ååˆ†æ¸´æ±‚ã€ååˆ†çœŸè¯šçš„é¢å­”ï¼Œæˆ–è®¸ä¹Ÿä¸è¿‡æ˜¯å¸Œæœ›å¾—åˆ°å¥¹çš„ä¸€ç§æ‰‹æ®µã€‚å½“æˆ‘ä»¬çœŸæ­£å±äºå½¼æ­¤åï¼Œæˆ‘ä¸èƒ½ä¿è¯åœ¨é‚£å±‚çš®æ’•å¼€ä¹‹åï¼Œæˆ‘è¿˜ä¼šä¸€å¦‚æ—¢å¾€åœ°çæƒœè¿™ä»½æƒ…æ„«ï¼Œä½ ä¹Ÿä¸èƒ½ä¿è¯ï¼ŒåŒæ ·ï¼Œå¥¹ä¹Ÿä¸èƒ½ä¿è¯ã€‚ ä½ çœ‹ï¼Œå°±è¿™ä¹ˆç‚¹å„¿äº‹æƒ…æˆ‘çº ç»“äº†è¿™ä¹ˆé•¿çš„ç¯‡å¹…ã€‚ä»€ä¹ˆçº ç»“å•Šï¼Œå æœ‰å•Šï¼ŒçœŸçˆ±å•Šï¼Œä¸€ç”Ÿå•Šï¼Œ éƒ½ä¸è¿‡æ˜¯æ‹¼å‘½åœ°æƒ³è¢«çˆ±è€Œå·²ã€‚ ä¸çŸ¥é“ç°åœ¨çœ‹åˆ°è¿™å„¿çš„ä½ æ˜¯å¦å’Œæˆ‘ä¸€æ ·å­¤ç‹¬ï¼Ÿå­¤ç‹¬å¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½æœ‰çš„æƒ…æ„Ÿï¼Œæœ‰äº›äººï¼Œå¾ˆå¤šäººä»æ¥éƒ½ä¸ä¼šæ„Ÿåˆ°å­¤ç‹¬â€”â€”æˆ‘å¤šç¾¡æ…•ä»–ä»¬å•Šâ€¦â€¦ å­¤ç‹¬ï¼Œæˆ–è®¸ä¹Ÿæ˜¯å¦ä¸€ç§ç¨‹åº¦ä¸Šçš„çº¯ç²¹ã€‚æˆ‘è‡³ä»Šä»è§‰å¾—æˆ‘æœ‰ç€æœ€çº¯ç²¹çš„æ„Ÿæƒ…ï¼Œæ˜¯å°‘å¹´ä¸€æ ·çš„æ„Ÿæƒ…ï¼Œä¸æ˜¯å‘å‚æš®è€äººä¸€æ ·çš„ã€åªå¯ç‹¬è‡ªæ€€å¿µçš„æƒ…æ„Ÿã€‚è¿™ç§æ„Ÿæƒ…æ˜¯çƒ­åˆ‡çš„ã€ç”ŸåŠ¨çš„ã€‚ æˆ‘å¾ˆå–œæ¬¢ä¸€é¦–åˆå”±æ›²ç›®ï¼Œå«åšâ€æˆ‘å–œæ¬¢â€œã€‚æ­Œè¯ååˆ†åŠ¨äººï¼Œæ—‹å¾‹ä¼˜ç¾åŠ¨å¬ï¼Œæ¾å¼›æ°åˆ°å¥½å¤„ã€‚ ä¸‹é¢æ˜¯æ­Œè¯ï¼š æˆ‘å–œæ¬¢æš–å†¬çš„å¤ªé˜³æˆ‘å–œæ¬¢åˆæ˜¥çš„é’è‰æˆ‘å–œæ¬¢åˆåçš„åº­é™¢å’Œä¸€æ—å‘å‘†çš„ç§‹åƒæˆ‘å–œæ¬¢ä»²å¤çš„å†°æ²™æˆ‘å–œæ¬¢æ¸…ç§‹çš„æ˜æœˆè‰¯å®µçš„å¤œç©º æ¼«å¤©æ˜Ÿè¾°æˆ‘å–œæ¬¢é›¨åçš„é’è›™æˆ‘å–œæ¬¢å±±å‰çš„ææˆ‘å–œæ¬¢å‘¨ä¸‰çš„å‚æ™šè¢«éœå…‰äº²å»çš„æ°´æ—é¦†æˆ‘å–œæ¬¢æˆç¾¤çš„é‡æˆ‘å–œæ¬¢å‡Œä¹±çš„ä¹¦æ¶æ¸…é£çš„éœ²å°è¿œå¤„çš„ç¯æµ·æˆ‘å–œæ¬¢ èµ°åœ¨æ— äººçš„ä¹åå…­å·å…¬è·¯æˆ‘å–œæ¬¢ æœ¨æ‘æ‹“å“‰é•¿é•¿çš„å¤´å‘æˆ‘å–œæ¬¢ æ— å°½ç”°é‡ä¸Šå¥”è·‘çš„éº‹é¹¿æˆ‘å–œæ¬¢ å¤–å©†é—¨å‰çš„æ¦•æ ‘æˆ‘å–œæ¬¢æ¯äº²çš„ä¾¿å½“å–œæ¬¢çˆ¶äº²çš„èƒ¡æ¸£æˆ‘å–œæ¬¢å…«æœˆçš„å¤œæ™šè¿˜åœ¨è¥ä¸šçš„æ¸¸ä¹åœºæˆ‘å–œæ¬¢æ”¾å­¦çš„é“ƒé“›æˆ‘å–œæ¬¢åœç”µçš„å¤œæ™šç‚¹ä¸€å¯¹èœ¡çƒ› åœ¨å¹½é™çš„ç„å…³æˆ‘å–œæ¬¢ åŸå¸‚å°½å¤´é‚£è¿œè¿œçš„é’å±±æˆ‘å–œæ¬¢ çƒ­æ°”çƒé£ä¸Šè¥¿è¾¹çš„å¤©ç©ºæˆ‘å–œæ¬¢ æ¸…æ™¨çš„çŸ³æ¿è·¯é›¾è…¾è…¾çš„æ—©é¤åº— é˜¿å…¬çš„æ¡‚èŠ±ç³•æˆ‘å–œæ¬¢ æ¯ä¸€æœµæš®äº‘ æ¯ä¸€æ ªç»¿æ ‘æˆ‘å–œæ¬¢ä½ ï¼Œä½ åº”è¯¥ï¼Œä¹ŸçŸ¥é“æˆ‘å–œæ¬¢ä½ ï¼Œä½ åº”è¯¥ï¼Œä¹ŸçŸ¥é“ ä¼˜ç¾çš„æ—‹å¾‹ï¼Œé…ä¸Šæœ€åä¸¤å¥ç”œç”œçš„å‘Šç™½ã€‚æˆ–è®¸æˆ‘ä»¬å¼€æ¥ï¼Œä¼¼ä¹æœ‰ç‚¹æ‰­æâ€”â€”æ‰¯è¿™ä¹ˆå¤šåªä¸ºäº†è¡¨è¾¾æœ€åä¸¤å¥â€”â€” æˆ‘å–œæ¬¢ä½ ï¼Œä½ åº”è¯¥ï¼Œä¹ŸçŸ¥é“. æˆ‘å–œæ¬¢ä½ ï¼Œä½ åº”è¯¥ï¼Œä¹ŸçŸ¥é“ã€‚ å¾ˆå¹³å¸¸ï¼Ÿç¡®å®å¾ˆå¹³å¸¸ã€‚ä½†æ˜¯æˆ‘è®¤ä¸ºè¿™ä¸¤å¥æ°åˆ°å¥½å¤„ã€‚å‰é¢å¤§æ®µå¤§æ®µçš„é“ºå«ï¼Œå™è¿°äº†è®¸è®¸å¤šå¤šç¾å¥½ã€æ¬é™çš„äº‹ç‰©ï¼Œä½†æ˜¯è¿™ä¸€åˆ‡æˆ–è®¸éƒ½æ¯”ä¸è¿‡ä½ ã€‚ ä½ å¯ä»¥æƒ³è±¡ï¼Œåœ¨ä¸€ç‰‡åŠ¨äººçš„å¤•é˜³ä¸‹ï¼Œå¤©ç©ºä¸­æ˜¯å¤§ç‰‡å¤§ç‰‡çš„å¥¶èŒ¶çº¢ï¼Œä¸€ä¸ªæ†¨æ†¨çš„å¤§ç”·å­©ï¼Œçªç„¶å«ä½ä½ ï¼Œçº¢ç€è„¸è·‘åˆ°ä½ é¢å‰ï¼Œæ‹¿ç€çš±çš±å·´å·´çš„ç¨¿å­ï¼Œé¢¤é¢¤åœ°æœ—è¯µç€è¿™äº›â€”â€”ä»–å®åœ¨å¤ªåŠ¨æƒ…äº†ï¼Œå¿µç€å¿µç€çªç„¶å£°è°ƒæ”¾é«˜ï¼Œå£°éŸ³å˜å¤§â€”â€”ä»–æ˜¯æ‰“å¿ƒçœ¼é‡Œå–œæ¬¢ä½ ï¼Œè¶Šè¯»è¶Šæœ‰æ„Ÿæƒ…ï¼Œè¶Šè¯»ä»–è¶Šè‡ªä¿¡â€”â€”ä½†æ˜¯çªç„¶ä»–åˆç•ç¼©èµ·æ¥ï¼Œå£°éŸ³ä½ä½åœ°å‘ä½ è¯´å‡ºäº†æœ€åä¸€å¥æœ€åŠ¨äººçš„è¯ï¼šâ€æˆ‘å–œæ¬¢ä½ ï¼Œä½ åº”è¯¥ï¼Œä¹ŸçŸ¥é“â€œã€‚ æœ‰å¯èƒ½ä½ æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„æ„Ÿè§‰ï¼Œä½†åœ¨æˆ‘å¿ƒé‡Œï¼Œè¿™å°±æ˜¯æœ€çº¯ç²¹çš„ä¸œè¥¿â€”â€”æ˜¯ä¸å¥¢æ±‚çš„æœ´å®çš„çˆ±ï¼Œæ˜¯ä¸è€ƒè™‘ç‰©è´¨åªæ‹¿ææ„Ÿæƒ…çš„çˆ±ï¼Œæ˜¯æ— è¯­å‡å™ä½†å¿ƒä¸­é‡å¤åƒåƒä¸‡ä¸‡æ¬¡çš„çˆ±ï¼Œæ˜¯çœŸæŒšçš„çˆ±â€”â€”è¿™æ˜¯å±äºæˆ‘ä»¬è¿™ä¸ªå¹´çºªæœ€ç¾å¥½çš„ä¸œè¥¿ï¼Œè™½ç„¶æœ‰å­¦ä¸šç¹å¿™ç­‰è¯¸å¤šå› ç´ é˜»æŒ ï¼Œæ— æ³•å®Œæ•´åœ°å¾—åˆ°â€”â€”ä½†æˆ–è®¸åªæ˜¯ä¸€ç‰‡ã€ä¸¤ç‰‡è¿™æ ·çš„æœ‰ç€äº®æš–è‰²è°ƒçš„æ«å¶ï¼Œå°±å¯ä»¥ç‚¹äº®ä¸€æ•´ç‰‡æ¯è´¥çš„æ«æ—ã€‚ æˆ‘å¤§æ¦‚åœ¨å¬è¿™é¦–æ­Œä¹‹å‰ï¼Œä»æ¥æ²¡æœ‰çœŸæ­£çŸ¥é“åŸæ¥â€å–œæ¬¢â€œè¿™ä¸ªå·²ç»çƒ‚å¤§è¡—çš„è¯ã€è¿™ä¸ªç°å¦‚ä»Šå¯ä»¥éšä¾¿è¯´å‡ºå£åˆå¯ä»¥éšä¾¿å¿˜è®°çš„è¯ã€è¿™ä¸ªåœ¨æˆ‘ä¸Šè¿‡çš„æ‰€æœ‰å­¦æ ¡é‡Œä»æ¥æ²¡æœ‰äººæ•¢å…‰æ˜æ­£å¤§è¯´å‡ºæ¥çš„è¯ã€è¿™ä¸ªç°åœ¨åœ¨èŠ¸èŠ¸ä¼—ç”Ÿä¸­å·²ç»è¢«ç·æ±¡çš„ã€è¢«äººä»¬è®¤ä¸ºè¿˜æ²¡æœ‰ä¸€å—é’±æ¥çš„å®åœ¨çš„è¯ï¼Œç«Ÿç„¶å¦‚æ­¤çš„å¯çˆ±ï¼Œç«Ÿç„¶å¦‚æ­¤çš„å€¼å¾—äººä»¬å°Šæ•¬ï¼Œç«Ÿç„¶å¯ä»¥åœ¨å†°å†·çš„å¯’å¤œæ•£å‘å‡ºå¦‚æ­¤è€€çœ¼çš„å…‰èŠ’ã€‚ æˆ‘å–œæ¬¢ä½ ï¼Œä½ åº”è¯¥ï¼Œä¹ŸçŸ¥é“ã€‚ var ap = new APlayer({ element: document.getElementById("aplayer-YwUKTTnU"), narrow: false, autoplay: false, showlrc: false, music: { title: "æˆ‘å–œæ¬¢", author: "å½©è™¹åˆå”±å›¢", url: "ä¸Šæµ·å½©è™¹å®¤å†…åˆå”±å›¢-æˆ‘å–œæ¬¢ (åˆå”±ç‰ˆ).flac", pic: "/QWQ/2019/02/14/éšæƒ³äº”Â·æƒ…äººèŠ‚/wxh.jpg", lrc: "" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap); å¿ƒåœ¨æµæµªçš„äººå•Šï¼Œåœ¨è¿™åç¯éè¡—çš„æƒ…äººèŠ‚ï¼Œä½ æ˜¯å¦ä¹Ÿè·Ÿæˆ‘ä¸€æ ·ï¼Œè·Ÿè‡ªå·±çš„çµé­‚å½¢å½±ç›¸åŠå‘¢ï¼Ÿ å¦‚æœä½ å·²ç»æœ‰äº†å¿ƒä¸Šäººï¼Œæˆ‘ç¥ç¦ä½ ï¼›å¦‚æœä½ å·²ç»æœ‰äº†æ‰“ç®—æºæ‰‹ä¸€ç”Ÿçš„äººï¼Œæˆ‘ä¹Ÿç¥ç¦ä½ ã€‚å”¯æœ‰é‚£äº›éƒ½å¸‚é‡Œæœ€è§’è½çš„å­¤ç‹¬è€…ï¼Œæˆ‘ä»¬çš„é‚‚é€…æˆ–è®¸æ˜¯ä¸€ç§ç¼˜åˆ†å§ï¼Œæˆ–è®¸æˆ‘ä»¬ç´ æœªè°‹é¢ï¼Œæˆ–è®¸æˆ‘ä»¬å¹¶ä¸ç†Ÿè¯†ï¼Œä½†åœ¨è¿™æµå…‰æ å½±çš„æ¼†é»‘å¤œç©ºä¸‹ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½è·¨è¿‡ä¸€åˆ‡ï¼Œè·¨è¿‡æ—¶é—´â€”â€”çœ‹è¿™ç¯‡æ–‡ç« æ—¶çš„ä½ ï¼Œä¼¸å‡ºä½ çš„å³æ‰‹ï¼Œæˆ–è®¸å°±å¯ä»¥è·Ÿåœ¨è¿™ä¸€æ™šä¼æ¡ˆæ²‰æ€å†™ä¸‹è¿™ç¯‡æ–‡ç« çš„æˆ‘ï¼Œè½»è½»å‡»æŒï¼Œæ„Ÿå—å¯¹æ–¹çš„ä½“æ¸©ä¸çµé­‚ã€‚ æˆ‘ä¼¸å‡ºæ‰‹äº†å•Šï¼Œä½ å‘¢ï¼Ÿå—¯â€¦æŠ±æ­‰å•¦ï¼Œæˆ‘æ‰‹ä¸­ä»Šå¤©æ²¡æœ‰çº¢ç«ç‘°å¯ä»¥é€ä½ ã€‚è¿™ç¿©é£çš„é›ªèŠ±ï¼Œå°±å½“åšæ˜¯æˆ‘é€ä½ æœ€å¥½çš„ç¤¼ç‰©å§ã€‚ ç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸ªä¸–ç•Œä¸Šç»å¯¹æœ‰äººå·å·åœ°çˆ±ç€ä½ ï¼Œå³ä½¿ä½ è§‰å¾—è‡ªå·±å¾ˆä¸å ªã€‚æ¯”å¦‚ä½ ç­é‡Œçš„æŸä¸ªäººï¼Œæ¯”å¦‚ä½ å¯¹é—¨ï¼Œæ¯”å¦‚ä½ åŒäº‹ï¼Œæ¯”å¦‚ä½ çš„åæ¡Œï¼Œæ¯”å¦‚ï¼Œæˆ‘ã€‚ $19/2/14$ æœ¬æ¥æ‰“ç®—è¿™ç¯‡æ°´æ–‡å°±è¿™ä¹ˆç»“æŸï¼Œç•™ä¸‹ä¸€ä¸ªæ¸©é¦¨é¸¡æ±¤ç»“å°¾ï¼ŒæŒºå¥½çš„ã€‚ä½†çªç„¶æƒ³äº†æƒ³ï¼Œè‡ªå¤ä»¥æ¥èƒ½ç»™äººç•™ä¸‹å°è±¡çš„ä»æ¥ä¸æ˜¯å–œå‰§ç»“å°¾ï¼ŒçŸ­æš‚çš„æ¬¢æ„‰ä¼šè®©äººå¿˜è®°ã€‚ é‚£ä¹ˆå°±è¡¥ä¸€ä¸ªæ·±æ²‰ä¸€ç‚¹çš„ç»“å°¾å§ã€‚ æˆ‘ä¸€ç›´ä¸çŸ¥é“æˆ‘ç°åœ¨æœ‰å¥½æ„Ÿçš„é‚£ä¸ªäººï¼Œç©¶ç«Ÿæ˜¯è‡ªå·±æ„è¯†æµå¼ºåŠ çš„ï¼Œè¿˜æ˜¯çœŸçš„å‘è‡ªå†…å¿ƒçš„å–œæ¬¢ã€‚æˆ‘çº ç»“ã€‚æˆ‘æ— æ³•çŸ¥é“å°†æ¥æ˜¯å¦ä¼šé‡åˆ°ä¸€è§é’Ÿæƒ…çš„äººâ€”â€”æˆ‘å¸Œæœ›è¿™æ ·ï¼Œè€Œä¸æ˜¯ä¸ºäº†æ•è·çˆ±æƒ…è€Œå»æ•è·å¾—æ¥çš„æ„Ÿæƒ…ã€‚æˆ‘æƒ¶æã€‚ ä½†å…¶å®æ²¡å‡†æ‰€è°“ä¸€è§é’Ÿæƒ…+ä¿®æˆæ­£æœä¸€ç›´æ˜¯æ–‡å­¦ä½œå“é‡Œé¢ç”¨æ¥æŠ“è¯»è€…çœ¼çƒçš„å·¥å…·è€Œå·²ï¼Œå¤§å®¶æˆ–è®¸éƒ½ä¸å¯èƒ½æ‰¾åˆ°è‡ªå·±çš„â€œæœ€çˆ±â€ï¼Œåªèƒ½æ‰¾åˆ°ä¸€ä¸ªâ€œå·®ä¸å¤šâ€ï¼Œè¿›è€Œä¸æ–­åœ°ç£¨åˆï¼Œç›´è‡³ç£¨æˆâ€œæœ€çˆ±â€ã€‚ä½†è¿™æ ·çš„æƒ…èŠ‚ï¼Œè¯´ä»€ä¹ˆéƒ½ä¸ä¼šè®©äººæ»¡æ„å§â€¦â€¦ è·¯åœ¨å“ªå‘¢ï¼Ÿå½¼å²¸åˆåœ¨å“ªå‘¢ï¼Ÿæˆ‘å·²ç»å—å¤Ÿä¸€ä¸ªäººå½¢å½±ç›¸åŠçš„å­¤ç‹¬ç”Ÿæ´»äº†ï¼Œä½†åœ¨è¿™æµ©å¦‚çƒŸæµ·çš„æ±‚å­¦ä¹‹æ—…ä¸­ï¼Œä¼¼ä¹æ¥å—å­¤ç‹¬ã€ä½“å‘³å­¤ç‹¬ã€å¹¶æœ€ç»ˆçƒ­çˆ±å­¤ç‹¬æ‰æ˜¯æœ€å¥½çš„æ³•å­å§ã€‚ å¯æ˜¯é¢å¯¹ç€æ— å¥ˆçš„æ˜å¤©çš„æˆ‘ï¼Œä»€ä¹ˆéƒ½ä¸èƒ½åšã€‚ é›ªï¼Œç»ˆäºåœäº†å•Šã€‚ç°åœ¨å·²ç»åˆå¤œäº†ï¼Œè¡—ä¸Šä¸€ä¸ªäººéƒ½æ²¡æœ‰ï¼Œå¤©ç©ºåœ¨ç§¯é›ªçš„æ˜ ç…§ä¸‹ï¼Œæ˜¯è®©äººç€è¿·çš„ç´«çº¢è‰²ã€‚ var ap = new APlayer({ element: document.getElementById("aplayer-DrKyjGsf"), narrow: false, autoplay: false, showlrc: false, music: { title: "é‡è§", author: "å­™ç‡•å§¿", url: "å­™ç‡•å§¿-é‡è§.flac", pic: "/QWQ/2019/02/14/éšæƒ³äº”Â·æƒ…äººèŠ‚/yj.jpg", lrc: "" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap);]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>éšæƒ³/ä¸‹ä¸‹ç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018-2019èµ›å­£æœ€åçš„éšæƒ³/NOIP2018æ¸¸è®°Â·å¯ç¤ºå½•]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F14%2F%E9%9A%8F%E6%83%B3%E4%B8%89%C2%B7NOIP%2F</url>
    <content type="text"><![CDATA[â€œéšæƒ³â€ç³»åˆ—ç´¢å¼•ï¼šæˆ³æˆ‘ ä»–çœ‹ç€çœ¼å‰çš„å±å¹•ï¼Œé™é™åœ°å‘å‘†ã€‚ ä»–ä¸çŸ¥é“è¿æ¥ä»–çš„å°†ä¼šæ˜¯ä»€ä¹ˆï¼Œåå¤©çš„$\rm{NOIp}$ç»ˆç©¶æ˜¯ä¸ªè°œã€‚ åˆšåˆšç»™æœºæˆ¿é‡Œå…¶ä»–äººè®²å®ŒæœŸæœ›çš„ä»–ï¼Œæ‰“å¿ƒåº•è§‰å¾—è‡ªå·±æ²¡æœ‰è®²å¥½ï¼Œä½†æ•ˆæœä¼¼ä¹è¿˜å¯ä»¥ã€‚ â€œå¸Œæœ›åˆ«è€ƒæœŸæœ›å§ï¼Œå˜¿å˜¿â€¦â€¦â€ä»–å¿ƒé‡Œè¿™ä¹ˆæƒ³ç€ã€‚ æ™šä¸Šï¼Œä»–ä¸€ç›´åœ¨è¡¥ä»–å‡ºçš„é¢˜çš„é”…ã€‚é¸½äº†è¿™ä¹ˆä¹…ï¼Œä¹Ÿè¯¥å†™ä¸€å†™é¢˜è§£äº†å•Šã€‚ ä»–ä¸çŸ¥é“æ˜¯å¦è¯¥å‘èº«æ—çš„åŒåƒšä»¬ä¸€æ ·ç»§ç»­æ‰“æ¿å­â€”â€”ä¸Šåˆæ‰“çš„æ¿å­è®©ä»–å¾ˆæ»¡æ„ï¼Œè™½ç„¶éƒ½æ˜¯å¾ˆç®€å•çš„ä¸œè¥¿ï¼Œä½†æ˜¯ä»–å´è§‰å¾—è‡ªå·±å†™çš„å¾ˆç²¾å½©ï¼Œéƒ½æ˜¯ä¸€é$AC$ã€‚å¤§æ¦‚è¿™æ ·ï¼Œä»–è§‰å¾—ä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ ä»ä¸‹åˆå°±å¼€å§‹æœ‰ç©ºè°ƒæš–é£äº†ï¼Œè¿™å€’æ˜¯è®©ä»–ååˆ†æ¬£å–œã€‚å‰å‡ å¤©ï¼Œæˆ–è€…è¯´æ˜¨å¤©ï¼Œåœ¨æœºæˆ¿ç©¿ç€åšåšçš„ç¾½ç»’æœï¼Œæ‰‹é¢¤æŠ–ç€ï¼Œè„‘è¢‹ååˆ†æ˜æ²‰åœ°æ‰“ä»£ç ï¼Œä»–ä¸æ„¿æ„å†å›æƒ³èµ·è¿™äº›ã€‚ æ—©ä¸Šååˆ†ç€æ€¥åœ°ä¹°äº†æ—©é¥­ï¼Œä¹‹å‰åƒå­¦æ ¡é‡Œçš„ç¾Šæ±¤éƒ½åƒçš„æ˜¯ç¾Šæ‚æ±¤ï¼Œä»Šå¤©å†³å®šå°è¯•ä¸€ä¸‹è´µä¸‰å—é’±çš„ç¾Šè‚‰æ±¤çš„ä»–æ„Ÿåˆ°å¾ˆå¤±æœ›â€”â€”ç¾Šè‚‰åˆè‚¥åˆè…»åˆè†»è…¥ã€‚ä»–ä¸€ç‚¹æ²¡åƒï¼Œä¹°äº†ä¸€å—è„†é¦™ç±³å°±èµ°å‡ºäº†é£Ÿå ‚ã€‚å»å¥¥èµ›å®¤æ”¶æ‹¾äº†ä¸€ä¸‹ä¸œè¥¿ï¼Œæœ¬æ¥è¿˜æƒ³ç¦»çº¿ä¸‹æ¥å‡ é›†æœ€è¿‘åœ¨è¿½çš„ç•ªå‰§ï¼Œæ‰å‘ç°åŸæ¥$\rm{Bilibili}$æ²¡æœ‰$Mac$ç‰ˆï¼Œè¿ç¡•é¼ ä¹Ÿä¸èƒ½ç”¨äº†ï¼Œä¾¿åªå¾—ä½œç½¢ã€‚ ç»ˆäºè¦èµ°äº†ã€‚è¸ä¸Šå»æ˜Œé‚‘ä¸€ä¸­çš„è½¦çš„å‰ä¸€åˆ»ï¼Œä»–å›å¤´çœ‹äº†ä¸€çœ¼å­¦æ ¡ã€‚ä»–è®°å¾—é‚£ä¸ªå¼€æœ—çš„ã€ä½†æ˜¯å®é™…ä¸Šå¹¶ä¸æ˜¯å¾ˆç†Ÿçš„å¥³å­©åœ¨å¬è¯¾ä¹‹å‰ä¸ºä»–åŠ©å¨çš„åœºæ™¯ï¼›ä»–è®°å¾—ä»–è‡ªå·±è®¡åˆ’çš„æ˜¯ï¼Œ$NOIP$å¥½å¥½è€ƒï¼Œå‚åŠ å®Œå†¬ä»¤è¥ï¼Œç­¾ä¸€ä¸ªæ¸…åŒ—çº¦ï¼Œå¸¦ç€è¿˜ç®—ä¸é”™çš„æˆç»©è¿æ¥å¯’å‡ï¼Œç„¶ååœ¨å¯’å‡é‡Œå»æ‰¾ä»–çš„å¥³ç¥â€”â€”é«˜ä¸­æ–°è®¤è¯†çš„ã€ä¸€ä¸ªçˆ±ç¬‘çš„ã€åŠªåŠ›çš„ã€å¯çˆ±çš„å¥³ç”Ÿï¼Œæ’©å¥¹å‡ºå»ç©å„¿ï¼Œæœ€å¥½æ˜¯èƒ½åœ¨ä¸€èµ·å§â€”â€”ä½†æ˜¯å­¦æ ¡è§„åˆ™æ˜¯ä¸ä¼šå…è®¸çš„å§ã€‚ä¸è¿‡ä»–è®¤ä¸ºï¼Œåªè¦å½¼æ­¤éƒ½åœ¨å­¦æ ¡é‡Œæ•°ä¸€æ•°äºŒï¼Œåªè¦å½¼æ­¤éƒ½èƒ½æ¯”è¾ƒè½»æ¾åœ°ä¸Šæ¸…åŒ—ï¼Œå­¦æ ¡æˆ–è®¸ä¼šçä¸€åªçœ¼é—­ä¸€åªçœ¼ã€‚ä»–ä¼¼ä¹å¯¹å°†æ¥ä»–ä»¬ä¸€èµ·åŠªåŠ›çš„åœºæ™¯å……æ»¡äº†ä¿¡å¿ƒã€‚ â€œå¤§æ¦‚åªéœ€è¦400åˆ†ï¼Œæˆ–è€…ä»¥ä¸Šï¼Ÿæ€»ä¹‹ä¸æ˜¯ç‰¹åˆ«éš¾å§ã€‚â€ä»–è¿™ä¹ˆæƒ³ç€ï¼Œçœ¼é‡Œå‘å‡ºæ™¶è“è‰²çš„å…‰ï¼Œæˆ–è®¸æ˜¯åå°„çš„å¤ªé˜³å…‰å§ã€‚ çœ‹äº†çœ‹å¤©ç©ºï¼Œä»–ä¸Šäº†å¤§å·´è½¦ã€‚ â€æ˜Œé‚‘ä¸€ä¸­çœŸå¤§å•Šâ€œè¿™æ˜¯ä»–åˆ°è¿™å„¿åçš„ç¬¬ä¸€æƒ³æ³•ã€‚ åˆ°è¾¾æ˜Œé‚‘ä¸€ä¸­å·²ç»æ˜¯ä¸­åˆã€‚é¥­èœæ¯”è¾ƒå¯å£ï¼Œåœ¨ä»–å¿ƒé‡Œå¤§æ¦‚æ¯”æ—¥ç…§ä¸€ä¸­çš„é¥­èœ$better$å‡ å€ã€‚ä¸‹åˆåŸæœ¬æƒ³å‡ºå»æ‰¾åŒåƒšä»¬è¹­ä¸€ä¸‹ç½‘ï¼ŒæŠŠæ¿å­æ‰“å®Œï¼Œä½†è°çŸ¥é“ä¸€ç¡å°±ç¡åˆ°äº†å››ç‚¹ã€‚åŒ†åŒ†å¿™å¿™åœ°çœ‹å®Œè€ƒåœºä½ç½®ï¼Œåœ¨è·¯ä¸Šé‡åˆ°äº†åŒåƒšå’Œå‰åŒåƒšã€‚çä¾ƒäº†å‡ å¥ä¹‹åå‘ç°åˆ°é¥­ç‚¹å„¿äº†ï¼Œäºæ˜¯å°±åªèƒ½é€‰æ‹©å»åƒæ™šé¥­äº†ã€‚æ™šé¥­ç»™ä»–çš„æ„Ÿè§‰ä¼¼ä¹æ²¡æœ‰åˆé¥­é‚£ä¹ˆæƒŠè‰³ï¼Œâ€œæˆ–è®¸æ˜¯å¤ªç´¯äº†å§â€ï¼Œä»–è¿™ä¹ˆæƒ³ã€‚åƒé¥­çš„æ—¶å€™å’Œ$rqy$çä¾ƒï¼Œæ„Ÿè§‰æµ·æ˜Ÿã€‚ å®¿ç®¡è¯´$6$ç‚¹ä»¥åæ¥ç”µï¼Œç»“æœå’•å’•å’•ã€‚æˆ‘ä»¬äºæ˜¯å°±ç”¨ç©ºè°ƒæ’å¤´æ¥ä¸Šæ’æ’å‡‘æ´»äº†ä¸€æ™šä¸Šã€‚ ä»–åäºŒç‚¹å·¦å³æ‰ç¡ä¸‹â€”â€”è™½ç„¶ä»–çŸ¥é“è¿™ä¹ˆæ™šç¡ä¸è¡Œï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•ï¼Œæ¿å­æ²¡æ‰“å®Œçš„è¯ï¼Œå¿ƒä¸­åƒæ˜¯æœ‰ä»€ä¹ˆè´Ÿæ‹…ä¸€æ ·â€”â€”å½“åˆä»–æ‰§ç€äºè¡¥ä¸€æ™šä¸Šè‡ªå·±çš„é”…è€Œä¸æ˜¯å»æ‰“æ¿å­å¤§æ¦‚ä¹Ÿæ˜¯è¿™ä¸ªç¼˜ç”±ã€‚ä»–æƒ³æ”¾å¿ƒåœ°è¿›å…¥è€ƒåœºï¼Œè¿™æ˜¯ä»–è€ƒè¯•çš„ä¹ æƒ¯ã€‚ $\rm{Day~1}$çªç„¶ä¸è®©åç”µæ¢¯ï¼Œå…­æ¥¼è®©ä»–æ°”å–˜ååã€‚â€œè¯¥å‡è‚¥äº†â€¦â€¦ä¸è¿‡ç°åœ¨æˆ–è®¸ä¸æ˜¯æƒ³è¿™ä¸ªçš„æ—¶å€™â€ã€‚ è€ƒåœºåœ¨å…­æ¥¼ï¼Œæ˜¨æ™šè¯•æœºçš„æ—¶å€™ï¼Œä»–å†™äº†ä¸€ä¸ª$dijkstra$ï¼Œå†™äº†ä¸ª$ST$è¡¨åˆå†™äº†ä¸ªæš´åŠ›$n^2 ~\rm{RMQ}$ ï¼Œå¹¶å†™äº†ä¸ªå¯¹æ‹ã€‚éƒ½æ˜¯ä¸€æ¬¡æˆåŠŸã€‚è®©ä»–æ„Ÿè§‰å¾ˆå¥½ã€‚ å…¥åœºäº†ï¼Œä»–å¸¦äº†ä¸¤å—æ©¡çš®ç³–ï¼Œä¸¤å°å—è„†é¦™ç±³ï¼Œéƒ½æ˜¯æ—©å…ˆä»å­¦æ ¡ä¹°å¥½çš„ã€‚ $T1$ä»–è§‰å¾—ä¼¼æ›¾ç›¸è¯†ï¼Œå¤§æ¦‚æ˜¯ä»€ä¹ˆç§¯æœ¨å¤§èµ›è¿˜æ˜¯ç§¯æœ¨å¤§ä¼šå•¥çš„ï¼Œä»–è®°ä¸æ¸…äº†ã€‚è€ƒåœºçš„æ—¶å€™ä»–ä¸€èµ°ç¥å°±ä¼šä¸è‡ªè§‰åœ°å»æƒ³æœ€åä¸€ä¸ªå­—åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä½†å°±æ˜¯æƒ³ä¸èµ·æ¥ã€‚æœ€åä»–å†™äº†ä¸€ä¸ªå¤æ‚åº¦$n\log^2n$çš„çº¿æ®µæ ‘å’Œä¸€ä¸ª$n\log n$çš„$ST$è¡¨ï¼Œåˆå†™äº†ä¸ªå¯¹æ‹å•¥çš„è®©ä»–ä¿©æ‹ï¼Œæ­¤æ—¶å·²ç»$9:15$äº†ã€‚ $T2$ä»–ä»ç¬¬ä¸€çœ¼å¼€å§‹å°±å·²ç»è¾“äº†ã€‚ä»–è§‰å¾—åº”è¯¥æ˜¯ä»€ä¹ˆæ•°å­¦é¢˜æˆ–è€…ç»“è®ºé¢˜ï¼ŒèŠ±äº†$10min$å†™äº†ä¸ªæš´åŠ›ï¼Œè¿‡ä¸äº†å¤§æ ·ä¾‹çš„æœ€åä¸€ä¸ªç‚¹ï¼Œåˆæƒ³äº†$10min$ä»–æ‰å‘ç°åŸæ¥ä¸æ­¢å¯ä»¥ç”±ä¸¤ä¸ªæ¨å‡ºæ–°çš„ï¼Œå¯èƒ½æ˜¯ä¸‰ä¸ªæˆ–è€…æ›´å¤šã€‚$DP$è¿™ä¸ªæƒ³æ³•åœ¨ä»–è„‘å­é‡Œä¸€é—ªè€Œè¿‡ï¼Œä»–æ²¡æœ‰é€‰æ‹©æ•æ‰ã€‚æœ€ç»ˆä»–å±…ç„¶åªå†™äº†ä¸€ä¸ªæš´åŠ›+éª—åˆ†ã€‚ $T3$å¤§æ¦‚åªä¼šæ±‚ç›´å¾„â€”â€”ä½†æ˜¯ä»–åªè®°å¾—æ˜¯ä»€ä¹ˆä¸¤é$dfs$æˆ–è€…$bfs$ï¼Œå› ä¸ºä»–ä»æ²¡åšè¿‡æ±‚ç›´å¾„çš„é¢˜ã€‚è€ƒè¯•ä¹‹å‰$qbxt$çš„æ—¶å€™ï¼Œä»–ç”šè‡³è®©åˆ«äººç»™ä»–æ¨èå‡ é“ç›´å¾„çš„é¢˜ï¼Œä½†ç»ˆç©¶æ˜¯æ²¡æ¥å¾—åŠåšã€‚ä»–å¾ˆåæ‚”ã€‚æœ€ç»ˆå†™äº†ä¸€ä¸ªæš´åŠ›éª—åˆ†ã€‚ æœŸæœ›å¾—åˆ†$100pts + random(0,100)+random(10,20) $ $Luogu$æ•°æ®$100pts + 65pts + 15pts = 180pts$ å¬è¯´ä»Šå¤©ä¸‰é“é¢˜éƒ½æ˜¯åŸé¢˜ï¼Œä»–å¾ˆæ„¤æ‡‘ï¼Œå¸Œæœ›æ²¡å‡†å¯ä»¥è®©$CCF$é‡è€ƒä¸€ä¸‹ä¹‹ç±»çš„ã€‚ä½†æ˜¯è¿™æ ¹æœ¬æ˜¯æ— ç¨½ä¹‹è°ˆã€‚ ä¸‹åˆä»–å’ŒåŒåƒšå»é€›äº†é€›æ˜Œé‚‘ä¸€ä¸­ï¼Œå¹¶ä¸”ä¹°äº†ä¸‰æœ¬ä¸œé‡åœ­å¾çš„ä¹¦ï¼Œåº—ä¸»å¯¹ä»–ä¸é”™ï¼Œç»™ä»–æ‰“äº†ä¸ƒæŠ˜ã€‚ è€ƒæŒ‚äº†ï¼Œä»–æƒ³åˆ°ã€‚ è¿™ä¸–ç•Œä¸Šä¼¼ä¹å°±ä»–ä¸€ä¸ªä¸ä¼š$T2$çš„äººã€‚ ä»–å¯¹å¥½å¤šäººçš„è¨€è¡Œæ„Ÿåˆ°åŒçƒ¦ï¼šæœ‰äººè¯´â€œå®Œäº†ï¼Œå¤§ä¼—åˆ†160â€ï¼Œæ¥ç€ä¾¿æœ‰äººå›é©³ä»–â€œæ˜æ˜å¤§ä¼—åˆ†220â€ï¼Œä½†æ¥ç€åˆæœ‰äººå¤§å£°åœ°è¯´â€œå¤§ä¼—åˆ†æ˜æ˜255å¥½å§â€ã€‚ è™½ç„¶å¤§å®¶å¹³å¸¸éƒ½äº’%ï¼Œä½†æ˜¯æ€»æ„Ÿè§‰é‚£äº›å¼±å°çš„äººæ˜¯å¤šä¹ˆçš„æ— åŠ©å•Šâ€”â€”ä»–ä»¬åªä¼šæ„Ÿåˆ°è™šä¼ªã€æ— åŠ©ã€ç»æœ›ã€‚åƒæˆ‘ä¸€æ ·ã€‚ æˆ–è®¸ä»–æœŸæœ›ç€æ˜å¤©èƒ½ç¿»ç›˜ï¼Ÿ æ™šä¸Šä»–å½»åº•é¢“åºŸäº†ï¼Œè¦æ±‚ç†„ç¯åï¼Œä»–ç”¨åŒå­¦çš„çƒ­ç‚¹çœ‹äº†ã€Šé’æ˜¥æœŸçŒªå¤´å°‘å¹´XXXXã€‹çš„æœ€æ–°ä¸‰é›†ï¼Œæ„Ÿåˆ°æµ·æ˜Ÿã€‚ä¾æ—§ç¡å¾—ä¸æ—©ã€‚$11ï¼š30$å·¦å³å§ã€‚ $\rm{Day~2}$ä»Šå¤©ä»–æ²¡æœ‰å¸¦ä»€ä¹ˆåƒçš„ã€‚ $T1$åªä¼š$60$åˆ†ï¼Œè½¬çœ¼å»çœ‹$T2$ å†™äº†å¥½é•¿æ—¶é—´çš„æš´åŠ›å¹¶ä¸”è°ƒäº†å¥½ä¹…ï¼Œåœ¨è€ƒè¯•ç»“æŸå‰$30min$ä»–å†™å¥½äº†çˆ†æœï¼Œæ‰¾å‡ºäº†è§„å¾‹ï¼Œ$65pts$å·¦å³ã€‚ $T3$è¿æƒ³çš„æ—¶é—´éƒ½æ²¡æœ‰ã€‚ é€€å½¹äº†ã€‚ ä»–å¾ˆä¼¤å¿ƒã€‚ å›å®¶ä¹‹åä»–å’Œå…¶ä»–çœå¸‚çš„$Oier$äº¤æµä¹‹åå‘ç°å¤§æ¦‚éƒ½æŒ‚äº†ã€‚æ— å¥ˆçš„ä¸–ç•Œã€‚ ä»–æœ¬æ¥ä¸æƒ³æœŸä¸­è€ƒè¯•ï¼Œä½†æ˜¯å´åˆæƒ³ä¸å‡ºä»€ä¹ˆç†ç”±æ¥ä¸å»è€ƒè¯•ã€‚æ¯•ç«Ÿåˆšè€ƒå®Œ$NOIp$çš„å…¶ä»–äººéƒ½ç…§å¸¸æœŸä¸­è€ƒè¯•ã€‚ ä»–è§‰å¾—è‡ªå·±è¯­æ–‡å‘æŒ¥çš„ä¸€èˆ¬ï¼Œç‰©ç†å‘æŒ¥çš„æ­£å¸¸ï¼Œé™¤äº†ç‰©ç†çš„æŸä¸ªå‚»ç‹—å¡«ç©ºé¢˜è®©ä¿ç•™ä¸€ä½å°æ•°è‡ªå·±çœ¼çäº†è€Œå·²ã€‚ å…¶ä½™çš„éƒ½è€ƒç‚¸äº†ã€‚ åˆå›æ–‡åŒ–è¯¾ï¼Œç­é‡Œçš„äººå¹¶ä¸é™Œç”Ÿã€‚è¯­æ–‡è€å¸ˆä¼¼ä¹å¯¹ä»–çš„è¿™ä¸ªè¯­æ–‡è¯¾ä»£è¡¨çš„å›å½’æ„Ÿåˆ°å¾ˆé«˜å…´ã€‚ ä»–ä¸€å¼€å§‹ä¹Ÿå¹¶ä¸æ€æ ·ï¼Œæ²¡å•¥æ„Ÿè§‰ã€‚ ç›´åˆ°é‚£å¤©ä¸‹åˆã€‚ ä»–å…´é«˜é‡‡çƒˆåœ°å»å¥¥èµ›å®¤çœ‹æ°‘é—´æµ‹è¯•æ•°æ®çš„æˆç»©ã€‚ä¸­åˆé«˜äºŒçš„æŸä¸ªå­¦é•¿å‘Šè¯‰ä»–çš„ï¼Œä»–è€ƒäº†å…¨æ ¡ç¬¬å››ï¼Œæ¥è¿‘$400$åˆ†ã€‚è™½ç„¶å¯ä¿¡åº¦ä¸é«˜ï¼Œæ¯•ç«Ÿè‡ªå·±ä»€ä¹ˆé€¼æ•°ä»–è‡ªå·±å¿ƒé‡Œæ¸…æ¥šã€‚ä¸è¿‡è¿˜æ˜¯æœŸå¾…äº†ä¸€ä¸‹åˆã€‚ å…´å¥‹çš„ä»–å»å¥¥èµ›å®¤çœ‹æˆç»©ã€‚ å­¦é•¿çœ‹é”™äº†ã€‚ ä»–çš„ä¸¤ä¸ªåŒåƒšéƒ½æ˜¯$370/380+$çš„æ ·å­ã€‚ åªæœ‰ä»–ä¸åˆ°. å…¶ä»–äººçš„åˆ†æ•°ä¹Ÿæ¯”ä»–é«˜ã€‚ ä»–å¤§æ¦‚å…¨æ ¡ç¬¬åå‡ å§ã€‚ ä»–æ„Ÿåˆ°äº†ç»æœ›ã€‚ æœ¬æ¥ä»¥ä¸ºçš„ä¸‰äººè¡Œï¼ˆä¸‰ä¸ªäººä¸€èµ·å‚åŠ è¿‡ä¸¤å±Šçœé˜Ÿé›†è®­ï¼‰ï¼Œå…¶å®æ˜¯ä¸åŒ…æ‹¬ä»–çš„ä¸¤äººè¡Œã€‚ ä»–æ³¨å®šæ˜¯å¤±è´¥è€…ã€‚ ä»–ä¼¤å¿ƒæäº†ã€‚ ä»–å¼€å§‹æ„ˆå‘æ¶ˆæ²‰ï¼Œæ™šè‡ªä¹ çœ‹äº†ä¸€æ™šä¸Šçš„æ–‡å­¦ç´ æèŸèƒé‚£ç§ä¸œè¥¿ï¼Œéƒ½æ˜¯äº›é¸¡æ±¤ä¹‹ç±»çš„è ¢æ–‡ç« ã€‚ä½†ä»–ä»€ä¹ˆéƒ½ä¸æƒ³å¹²ã€‚ä»–æƒ³åœ¨å­¦æ ¡è¯»é‚£å‡ æœ¬ä»æ˜Œé‚‘ä¹°å›æ¥çš„ä¹¦ï¼Œä½†æ˜¯æ€•è¢«æŠ“åªå¥½ä½œç½¢ã€‚ ä»–è§‰å¾—ä¸€å¹´æ¥ï¼Œä»–ä¸€äº‹æ— æˆã€‚ æˆ–è®¸è¿›å®éªŒéƒ¨åªæ˜¯ä¸ªé”™è¯¯ã€‚ä½†ä»–æ˜¯ä¸ä¼šé€€å‡ºçš„ã€‚å³ä½¿æ˜¯ä¸ºäº†é¢å­ä¹Ÿä¸ä¼šã€‚ ä»–åŸæœ¬è®¡åˆ’å¥½çš„ä¸€åˆ‡éƒ½æ²¡æœ‰æˆåŠŸã€‚ç°åœ¨æœ€åä¸€æ¬¡æœºä¼šï¼Œä»–ä¾æ—§å¤±è´¥äº†ã€‚äººç”Ÿè¾“å®¶ï¼Œå¤§æŠµå°±æ˜¯è¿™æ ·ã€‚ä»–ä¸æ„¿æ„å»é¢å¯¹ä»–çš„å¥¥èµ›åŒåƒšä»¬ã€‚ä»–å¤§æ¦‚å°±åƒæ˜¯$EDG$â€”â€”å›½å†…èµ›å¦‚åŒæˆ˜ç¥ä¸€èˆ¬ï¼Œä¸€åˆ°å›½é™…æ¯”èµ›å°±æ­»ã€‚ ä»–çš„å¥³ç¥è¶Šå¼€å¿ƒï¼Œä»–è¶Šå¯’å¿ƒã€‚å€’ä¸æ˜¯å› ä¸ºåˆ«çš„ï¼Œåªæ˜¯ä»–çš„å¥³ç¥è¶Šå¯çˆ±ï¼Œä»–è¶Šè§‰å¾—æ›¾ç»åšç™½æ—¥æ¢¦çš„è‡ªå·±æ˜¯ä¸ªä¸æ›¾è®¤æ¸…ç°å®çš„å‚»$B$ï¼Œä»–è¶Šå‘æ„Ÿåˆ°è½å·®çš„ä¸å¯é€¾è¶Šã€‚ä»–ç»æœ›äº†ã€‚ æœŸä¸­è€ƒè¯•æˆç»©å‘ä¸‹æ¥äº†ï¼Œä»–ä»åœè¯¾ä¹‹å‰çš„ç­é‡Œç¬¬äº”ï¼Œå¹´çº§ç¬¬äºŒåæ»‘åˆ°äº†ç­é‡Œç¬¬å››åï¼Œå¹´çº§ç¬¬$289$ã€‚è¿™æ¬¡ä»–ä»¬ç­è€ƒå¾—å¾ˆå¥½ã€‚å¹´çº§å‰å››ï¼Œä»–çš„ç­é‡Œæœ‰ä¸‰ä¸ªï¼›å¹´çº§å‰20æœ‰10ä¸ªï¼Œå¹´çº§å‰400æœ‰46ä¸ªã€‚å¹´çº§å…±æœ‰1640å·¦å³çš„äººã€‚ è¿™ä¼¼ä¹æ˜¯å®éªŒéƒ¨è¯¥æœ‰çš„æˆç»©ã€‚å¯æ˜¯è·Ÿä»–æ²¡æœ‰å…³ç³»ã€‚ ç‰¹åˆ«çš„ï¼Œä»–çš„å¥³ç¥è€ƒäº†å¹´çº§28ï¼Œç­é‡Œç¬¬13ã€‚ä»–æ¯”å¥¹å·®åå€ã€‚è™½ç„¶åœè¯¾äº†ä¸€æ®µæ—¶é—´æ²¡ä¸Šå¥½åƒæ˜¯ä¸ªä¸é”™çš„ç†ç”±ï¼Œä½†ä»–ä¾æ—§è§‰å¾—ï¼Œè‡ªå·±å¤ªå¤±è´¥äº†ã€‚ å¤ªå¤±è´¥äº†ã€‚ å¤ªå¤±è´¥äº†ã€‚ å¤§ä¼‘å›å®¶ï¼Œç°åœ¨æ˜¯$11.17$æ™šï¼Œæˆ‘ç”¨ç¬¬ä¸‰äººç§°è¯´å®Œäº†è¿™ä¸ªæ•…äº‹ï¼Œæ„Ÿè§‰â€¦â€¦å¹¶æ²¡æœ‰ä»€ä¹ˆæ„Ÿè§‰ã€‚ æˆ‘å‘ç°æˆ‘ç°åœ¨å¿ƒæƒ…è™½ç„¶å¾ˆæ²‰é‡ï¼Œä½†æ˜¯åŒæ ·å¾ˆæ”¾æ¾ã€‚æˆ‘å¤§æ¦‚ä¸ä¼šå†å‚åŠ ä»€ä¹ˆ$OI$äº†å§â€”â€”è¿™è®©æˆ‘æ„Ÿåˆ°è½»æ¾æ— æ¯”ã€‚ä¸éœ€è¦é¢å¯¹å…¶ä»–å¾ˆå¼ºçš„äººè€Œæœ‰å¿ƒç†è´Ÿæ‹…ï¼Œä¸å¿…é¢å¯¹æ•™ç»ƒä¸»ä»»å»æ‰¿å—ä»–ä»¬çš„â€œé«˜ç›®æ ‡â€ï¼Œä¸å¿…æ¯æ¬¡fakeæ—¶è¿˜ä¼šçº ç»“æˆ‘è‡ªå·±åˆ°åº•å¼ºä¸å¼ºï¼Œä¸å¿…å†å»äº‰å¼ºå¥½èƒœã€‚è™½ç„¶æœ€ç»ˆå…ä¸äº†è¢«å½“åšåé¢æ•™æè¯´ä¸ª$OI$çš„å­¦å¼Ÿä»¬ï¼Œè™½ç„¶å…ä¸äº†æ˜¯è¦ä¸»ä»»è¢«æ‰¹ä¸€é¡¿å¹¶ä¸”è®©ä½ æ€»ç»“ä¸ªä»€ä¹ˆå‚»é€¼é”™å› æˆ–è€…æ„Ÿæ‚Ÿå¹¶è®©ä½ å£°æ³ªä¿±ä¸‹åœ°å»åçœå¹¶ä¸”ä¿è¯ä»¥åå¥½å¥½å­¦$OI$ï¼Œä½†ï¼Œæˆ‘è½»æ¾çš„å¾ˆã€‚ è¿™çœŸæ˜¯ä»æœªæœ‰è¿‡çš„è½»æ¾çš„æ„Ÿè§‰ã€‚ æˆ–è®¸æˆ‘æœ¬æ¥æ²¡æœ‰ä»€ä¹ˆå¤©èµ‹ï¼Œåªæ˜¯åœ¨é ä¸ªäººç´ è´¨ç¡¬åˆšè€Œå·²ã€‚ä¹Ÿè®¸ä¿¡ç«ç»™æˆ‘çš„ç»ˆç©¶æ˜¯é™¤äº†æˆåŠŸä¹‹å¤–çš„ä¸€åˆ‡ï¼Œæ¯”å¦‚æ¯…åŠ›ï¼Œæ¯”å¦‚åšäººã€‚ æˆ‘æ„Ÿåˆ°æ— æ¯”çš„è½»æ¾ã€‚ ä»¥åå¤§æ¦‚ä¸ä¼šå­¦ä¿¡ç«äº†å§ã€‚æ¯•ç«Ÿå‹æ ¹æ²¡æœ‰ä»€ä¹ˆè½¬æœºã€‚è·¯çš„è¯ï¼Œè¾¹èµ°è¾¹æƒ³å§ã€‚ æˆ‘ç°åœ¨ååˆ†åœ°æƒ³å­¦$CNAO$ï¼Œä¹‹å‰ç”±äºè¦å‡†å¤‡$NOIp$ï¼Œä»å›¾ä¹¦é¦†å€Ÿæ¥çš„ä¹¦æ²¡æ¥å¾—åŠçœ‹ã€‚ç°åœ¨ç»ˆäºæœ‰æ—¶é—´äº†ã€‚ å—¯ï¼Œå¤§æ¦‚å¤©æ–‡æ‰æ˜¯æˆ‘çœŸæ­£å–œæ¬¢çš„å§ã€‚ä»¥å‰æ¯æ¬¡ä¸ºäº†$OI$å¥‹æ–—çš„æ—¶å€™æ€»è¦æƒ³æƒ³è‡ªå·±åˆ°åº•æ˜¯ä¸æ˜¯çœŸæ­£å–œæ¬¢$OI$ï¼Œå…¶å®è¯´ä¸ä¸Šå–œæ¬¢å§ï¼Œæ¯•ç«Ÿæ²¡æœ‰çœŸçš„ä»éª¨å­é‡Œå–œæ¬¢è¿™ä¸œè¥¿ã€‚ ä½†æ˜¯å…¶å®å±±ä¸œæ²¡æœ‰å¼€å±•$AO$çš„ï¼Œä¸è¿‡æˆ‘æƒ³å½“è¿™ä¸ªç¬¬ä¸€äººã€‚ æˆ‘çªç„¶å¾ˆæ„Ÿæ¿€è¿™ä¸€åˆ‡ï¼Œæ„Ÿæ¿€æ›¾ç»çš„å¤±è´¥ä¸æˆåŠŸã€æ”¶è·ä¸æ„ŸåŠ¨ã€‚å›ä¸æˆ‘ä¹‹æ©ï¼Œæ¯•ç”Ÿéš¾å¿˜ã€‚ åˆ°äº†è¯´å†è§çš„æ—¶å€™äº†ï¼Œå“ˆï¼Œæˆ‘çš„ä½œä¸šè¿˜æ²¡å†™å‘¢ã€‚æˆ‘å¯è¦å­¦å¥½æ–‡åŒ–è¯¾ï¼Œåšçš„æ»´æ°´ä¸æ¼æ‰èƒ½å»å­¦$AO$å•Šï¼Œè™½ç„¶è¿™æ˜¯ä¸€æ®µæœªçŸ¥çš„æ—…ç¨‹ï¼Œä½†æ˜¯æˆ‘ä¹æ„å»é—¯ã€‚ åœ¨æˆç»©å•ä¸Šçœ‹åˆ°äº†å¥½å¤šå±±ä¸œçš„å·¨ä½¬â€¦â€¦æ›¾ç»åœ¨æˆ‘çœ‹æ¥ä¸æˆ‘æ°´å¹³å·®ä¸å¤šçš„äººï¼Œå¤§æ¦‚éƒ½ä»¥å‹å€’æ€§çš„ä¼˜åŠ¿å‡»è´¥äº†æˆ‘å§ã€‚ æ²¡å‡†å­¦$OI$çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä¸€ç›´æ˜¯ä¸ºäº†åŠŸååˆ©ç¦„è€Œå­¦ï¼Œä¸ºäº†è·å¾—è¿›å…¥æŸä¸¤æ‰€å¤§å­¦çš„æœºä¼šè€Œå­¦ï¼Œç»ˆç©¶æ˜¯è‚¯å®šä¸ä¼šæˆåŠŸçš„å§â€”â€”åˆ°ä¸æ˜¯è¯´ä¸€å®šè¦å»å–œæ¬¢è¿™é—¨å¥¥èµ›ï¼Œåªæ˜¯åœ¨å¥‹æ–—çš„æ—¶å€™ï¼Œè¿˜æ˜¯åªä¸ºäº†å¥‹æ–—è€Œå¥‹æ–—æ¯”è¾ƒå¥½å§ã€‚ æˆ‘è¯¥è¯´ä»€ä¹ˆï¼Ÿå¼ºå¤§çš„ç†è§£èƒ½åŠ›æˆ–è€…æ¨ç†èƒ½åŠ›ï¼Œç»ˆæ˜¯ä¸æ˜¯OIçš„æ ¸å¿ƒç´ å…»â€”â€”åˆ›é€ åŠ›æ‰æ˜¯ã€‚å½“ç„¶å•¦ï¼Œæ•°å­¦æœ‰å¤Ÿå¥½çš„è¯+å¼ºå¤§çš„ç†è§£èƒ½åŠ›=rqyè¿™ä¸ªç­‰å¼ä¹Ÿæ˜¯æˆç«‹çš„ã€‚ å½“ç„¶ï¼Œä¸å±äºæˆ‘å•¦ã€‚ è™½ç„¶ç°åœ¨å¾ˆä¸ç”˜â€¦â€¦ä½†æ˜¯æ²¡æœ‰åŠæ³•ï¼Œå¤§æ¦‚è¿™å°±æ˜¯äººç”Ÿå§ã€‚ å¦‚æœè¯´â€¦â€¦é€€å½¹åçš„å‡ å¤©æ„Ÿè§‰æ€ä¹ˆæ ·â€¦â€¦è¿˜å¥½å§ï¼Œæ²¡æˆ‘æƒ³è±¡çš„ç—›è‹¦ã€‚åªä¸è¿‡ä¹‹å‰ä¸€ç›´æ†§æ†¬çš„æ‰€è°“â€œå¦¹å­â€ä¹Ÿå¥½ï¼Œâ€œå¥³ç¥â€ä¹Ÿå¥½ï¼ŒåŸæ¥ä¸€ç›´æœ‰ç”·æœ‹å‹åªä¸è¿‡æˆ‘ä¸çŸ¥é“ï¼›åªä¸è¿‡å¹²èµ·ä»€ä¹ˆäº‹æƒ…æ¥éƒ½åŠ›ä¸ä»å¿ƒè€Œå·²ï¼›åªä¸è¿‡é‡æ–°ç‡ƒèµ·çš„å¸Œæœ›ä¹‹ç«åˆè¢«æµ‡ç­äº†è€Œå·²å§ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¿…è¦å»ä¸ºä¹‹ä¼¤å¿ƒâ€”â€”è¿™æ‰æ˜¯äººç”Ÿå§ã€‚ å¬è¯´ä½ è°·æœ‰ä¸ªOIerè‡ªæ€äº†â€¦â€¦ä¸çŸ¥é“è¿™ä¸ªä¼ é—»æ˜¯çœŸæ˜¯å‡ï¼Œæ¯•ç«Ÿä¹Ÿæ²¡æ³•å»ç¡®è®¤ã€‚æˆ‘åªæ˜¯ä¸ºæ­¤æ„Ÿåˆ°ä¼¤å¿ƒè€Œå·²â€”â€”æ— è®ºåˆ°åº•æœ‰æ²¡æœ‰è‡ªæ€ï¼Œæˆ‘åªæƒ³ç”¨é‚£å¥è¯æ¥è¯„è®ºâ€œå®åŠ›å¦‚æœå¼ºåˆ°ç‹¬æ­¥å¤©ä¸‹ï¼Œæƒ³æ€ä¹ˆå­¦å°±æ€ä¹ˆå­¦ï¼›å¦åˆ™åªèƒ½æ¯«æ— ä¿ç•™åœ°ã€çº¯ç²¹åœ°å»åŠªåŠ›ï¼Œè€Œä¸æ˜¯ä¸ºäº†å»è·å¾—åŠŸåã€å°ä½›å°ç¥ â€”â€” ä¸å¿˜åˆå¿ƒåœ¨ä»€ä¹ˆæ—¶å€™éƒ½æ˜¯æœ€é‡è¦çš„ã€‚â€æ‰€ä»¥ï¼Œå¿ƒæ— æ—éª›ï¼Œä»€ä¹ˆæ—¶å€™éƒ½æ˜¯æœ€é‡è¦çš„ã€‚ æ€»ä¹‹å‘¢ï¼Œæˆ‘æŠŠè¿™ç¯‡æ–‡ç« ç§°ä¹‹ä¸ºâ€œå¯ç¤ºå½•â€ï¼Œåªæ˜¯å¸Œæœ›åæ¥çš„Oieræˆ–å¯ä»¥ä»æˆ‘çš„è¿™ä¸€äº›æ‚æ‚Ÿé‡Œè·å¾—äº›ä»€ä¹ˆï¼š åšä»€ä¹ˆäº‹æƒ…ï¼Œéƒ½è¦å…ˆä»è‡ªå·±çš„çµé­‚å‡ºå‘ï¼Œè€Œä¸æ˜¯ä»åˆ©ç›Šå‡ºå‘ã€‚ä¹‹ç±»çš„å§ã€‚ æˆ‘æƒ³å¼•ç”¨ä¸€å¥ï¼ˆæ®µï¼‰è¯ï¼Œæ¥è‡ªã€Šæœ¬æ°æ˜å·´é¡¿å¥‡äº‹ã€‹ï¼š æœ‰äº›äººï¼Œæ³¨å®šå¯ä»¥äºæ²³è¾¹é—²åã€‚æœ‰äº›äººè¢«é—ªç”µå‡»ä¸­è¿‡ä¸ƒæ¬¡ã€‚æœ‰äº›äººå¯¹éŸ³ä¹æœ‰ç€éå‡¡çš„å¤©èµ‹ã€‚æœ‰äº›äººæ˜¯è‰ºæœ¯å®¶ã€‚æœ‰äº›äººæ˜¯æ¸¸æ³³å¥å°†ã€‚æœ‰äº›äººæ‡‚å¾—åˆ¶ä½œçº½æ‰£ã€‚æœ‰äº›äººæ‡‚èå£«æ¯”äºšã€‚æœ‰äº›äººæ˜¯å¦ˆå¦ˆã€‚è¿˜æœ‰äº›äººï¼Œæ˜¯èˆè€…ã€‚æˆ‘ä»¬æ³¨å®šè¦å¤±å»æˆ‘ä»¬æ‰€çˆ±çš„äººï¼Œè¦ä¸ç„¶æˆ‘ä»¬æ€ä¹ˆçŸ¥é“ä»–ä»¬å¯¹æˆ‘ä»¬æœ‰å¤šä¹ˆçš„é‡è¦ã€‚ åä¼šæœ‰æœŸã€‚ $\mathscr{THE~~~END}$]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>éšæƒ³/ä¸‹ä¸‹ç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¬™ä¸ŠæœˆProject]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F14%2F%E7%AC%99%E4%B8%8A%E6%9C%88%2F</url>
    <content type="text"><![CDATA[å‡†ç¡®æ¥è¯´è¿™æ˜¯ä¸€ä¸ª$project$ï¼Œä¸“é—¨ä»¥$art/painting$ã€$music$ä¸ºä¸»ã€‚ ç°åœ¨å·²ç»åœ¨åŸåšå®¢ä¸Šæ›´äº†ä¸¤æœŸäº†ï¼Œå› ä¸ºå®åœ¨æ‡’å¾—å†å»æ¯é¥¬å›¾ç‰‡çš„äº‹å„¿ï¼Œäºæ˜¯å°±ç›´æ¥é“¾è¿‡æ¥å¥½äº†ï¼š ArseniXC &amp; è«å¥ˆ var ap = new APlayer({ element: document.getElementById("aplayer-NDmrysXC"), narrow: false, autoplay: false, showlrc: false, music: { title: "äººå•Š", author: "å¾ä½³è¹", url: "å¾ä½³è¹-äººå•Š.mp3", pic: "/QWQ/2019/02/14/ç¬™ä¸Šæœˆ/rena.png", lrc: "" } }); window.aplayers || (window.aplayers = []); window.aplayers.push(ap);]]></content>
      <tags>
        <tag>ç¬™ä¸Šæœˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CF#536Div2ã®é¢˜è§£(E&F)]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F08%2FCF-536Div2%E3%81%AE%E9%A2%98%E8%A7%A3-E-F%2F</url>
    <content type="text"><![CDATA[$0x01~~Preface$$emmm$è¿™æ¬¡CFæœ¬èº«æ‰“çš„å¾ˆé¡ºç•…ï¼Œä½†æ˜¯å±…ç„¶unratedäº†â€¦â€¦å’•å’•å’•å’• è¿™æ˜¯å¤´ä¸€æ¬¡CFæœ‰æ¯”èµ›æˆ‘å…¨éƒ¨é¢˜ç›®éƒ½åšäº†â€¦â€¦å¯å–œå¯è´ºå¯å–œå¯è´º233 ç®€å•æ€»ç»“ä¸€ä¸‹å‰é¢å››é“é¢˜$\color{red}{Link}$ï¼š Aé¢˜ï¼šsbé¢˜ï¼Œ$O(n^2)$æšä¸¾çš„çº¢é¢˜ï¼ˆæˆ–è®¸éƒ½ä¸åˆ°ï¼‰ï¼Œä½†æ˜¯æˆ‘$check$çš„æ—¶å€™å¤ªç²—å¿ƒWAäº†ä¸€æ¬¡èº«è´¥åè£‚XD Bé¢˜ï¼šsbé¢˜ï¼Œä¸€ä¸ªæ¨¡æ‹Ÿï¼Œéœ€è¦ä¸€ä¸ªå¯ä»¥å¤„ç†ä¼˜å…ˆçº§çš„æ•°æ®ç»“æ„ï¼ˆå…¶å®å°±æ˜¯å †ä½†æ˜¯æˆ‘ä¸€å¼€å§‹æƒ³çš„æ˜¯çº¿æ®µæ ‘ï¼‰ Cé¢˜ï¼šsbé¢˜ï¼Œä¸€ä¸ªè´ªå¿ƒï¼ˆå…¶å®æ˜¯æ•°å­¦ä¸Šå¯proofçš„æ•°å­¦é¢˜ä½†è¢«æˆ‘å½“è´ªå¿ƒé¢˜åšäº†XDï¼‰ï¼Œå¤§æ¦‚å°±æ˜¯ä½ èƒ¡ä¹±æ’ä¸ªåºä¹‹åèƒ¡æä¸€ä¸‹å°±å¥½ã€‚ Dé¢˜ï¼šæ°´é¢˜ï¼Œæ€è€ƒä¸€ä¸‹å¯å¾—ï¼Œæˆ‘ä»¬åªéœ€è¦å†™ä¸€ä¸ªBFS+ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—å³å¯ï¼Œå› ä¸ºæ— å‘å›¾+éšä¾¿èµ°=èƒ¡æå…«æ ä¸‹é¢ä¸¤é“é¢˜å°±å¥½åƒä¸æ˜¯é‚£ä¹ˆæ°´äº†qaq $0x02~~E\cdot \text{Lunar New Year and Red Envelopes}$$\color{red}{Link}$ç®€å•æ¥è¯´å°±æ˜¯ç»™$k$ä¸ªåŒºé—´ï¼Œæ¯ä¸ªåŒºé—´ä¸€ä¸ªå·¦ç«¯ç‚¹$s$ä¸€ä¸ªå³ç«¯ç‚¹$e$ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªèœœæ±Â·å³ç«¯ç‚¹$t$ã€‚é¡ºç€æ—¶é—´çº¿$1$~$n$ï¼Œå¯ä»¥ä»$s_i$åˆ°$e_i$çš„æ—¶é—´å†…é€‰æ‹©è·å¾—$w_i$çš„æ”¶ç›Šï¼Œä½†åŒæ—¶ä¸‹æ¬¡çš„é€‰æ‹©å¿…é¡»åœ¨$t_i$ä¹‹åã€‚ æœ€å¤§åŒ–æ”¶ç›Šçš„æ€è·¯ä¸‹ï¼Œæœ‰$m$æ¬¡æœºä¼šè®©é€‰æ‹©è€…åœ¨æŸä¸ªæ—¶é—´ç‚¹å•¥éƒ½ä¸å¹²ã€‚æ±‚æœ€å°çš„æ”¶ç›Šã€‚ $\mathfrak {Solution}$å‘ƒï¼Œå…¶å®æ¯”è¾ƒå®¹æ˜“çš„å‘ç°å°±æ˜¯ä¸ªæ—¶é—´çº¿$DP$ã€‚æ ¹æ®â€$n$ä¸å¤§å°±DP$n$â€çš„æ˜¯æŒ‡å¯¼æ€æƒ³ï¼ˆçæ‰¯çš„ï¼‰ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰æ—¶é—´$DP$ã€‚é‚£ä¹ˆç¬¬ä¸€æ­¥å°±æ˜¯æŠŠæ¯ä¸ªåŒºé—´çš„ä¿¡æ¯æ˜ å°„åˆ°æ—¶é—´çº¿ä¸Šå»ã€‚è¿™ä¸ªæ—¶å€™æœ‰ä¸€ä¸ªæ¯”è¾ƒå¦™çš„$idea$ã€‚é¦–å…ˆæˆ‘ä»¬ç»™æ¯ä¸ªåŒºé—´çš„$s$å’Œ$e+1$åœ¨æ—¶é—´çº¿ä¸Šåˆ†åˆ«æ‰“ä¸Šä¸åŒçš„æ ‡è®°ï¼Œä¹‹åæˆ‘ä»¬è€ƒè™‘æ²¿æ—¶é—´çº¿ä»å‰å‘åæ‰«ææ¯ä¸€æ®µåŒºé—´ï¼Œæ¯å½“é‡åˆ°ä¸€ä¸ªåŒºé—´çš„$s$æ—¶å°±ä¸¢åˆ°ä¸€ä¸ª$multiset$é‡Œé¢ï¼Œåä¹‹é‡åˆ°$e+1$æ—¶å°±$erase$ã€‚ç„¶åè¿™æ ·æˆ‘ä»¬åªé¡ºä¾¿ä¹±æä¸€ä¸‹å°±å¯ä»¥å¾—å‡ºæ¯ä¸ªæ—¶é—´ç‚¹æœ€ä¼˜çš„æ–¹æ¡ˆã€‚ ä¹‹åï¼Ÿä¹‹åå°±ç›´æ¥$nm$çš„DPå•Šï¼Œæ¯•ç«Ÿ$nm$åªæœ‰$20million$é‚£ä¹ˆå¤§ã€‚ Ps:ç”±äºSTLä¸­multisetä¸€åˆ åˆ ä¸€ä¸²çš„zzæ€§è´¨ï¼Œæ”¹ç”¨mapæƒ¹qaq 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;map&gt;#include &lt;vector&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#define MAXM 233#define MAXN 100010using namespace std ;struct time_node&#123; int mark, d, w ; bool operator &lt; (const time_node &amp;T) const &#123; return w &gt; T.w || (w == T.w &amp;&amp; d &gt; T.d); &#125;&#125; base[MAXN] ; map &lt;time_node, int&gt; M_set ; vector&lt;time_node&gt;Time[MAXN] ; long long Ans ;int N, M, K, A, B, C, D, i, j ; long long dp[MAXN][MAXM] ; int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; K ; memset(dp, 63, sizeof(dp)) ; for (i = 1 ; i &lt;= K ; ++ i)&#123; scanf("%d%d%d%d", &amp;A, &amp;B, &amp;C, &amp;D), Time[A].push_back((time_node)&#123;1, C, D&#125;) ; Time[B + 1].push_back((time_node)&#123;2, C, D&#125;) ; &#125; for (i = 1 ; i &lt;= N ; ++ i)&#123; register int tot = Time[i].size() ; for (j = 0 ; j &lt; tot ; ++ j) if (Time[i][j].mark == 1) ++ M_set[Time[i][j]] ; else M_set[Time[i][j]] &gt; 1 ? M_set[Time[i][j]] -- : M_set.erase(Time[i][j]) ; if (M_set.size()) base[i] = (*M_set.begin()).first ; else base[i] = (time_node)&#123;0, i, 0&#125; ; &#125;dp[0][0] = 0, Ans = dp[1][1] ; for (i = 1 ; i &lt;= N ; ++ i)&#123; for (j = 0 ; j &lt;= M ; ++ j)&#123; j &gt; 0 ? dp[i][j] = min(dp[i - 1][j - 1], dp[i][j]) : 1 ; dp[base[i].d][j] = min(dp[base[i].d][j], dp[i - 1][j] + base[i].w) ; &#125; &#125; for (i = 0 ; i &lt;= M ; ++ i) Ans = min(Ans, dp[N][i]) ; cout &lt;&lt; Ans &lt;&lt; endl ; return 0 ;&#125; $0x03~~F\cdot \text{Lunar New Year and a Recursive Sequence}$$Link$ ç®€å•æ¥è¯´å°±æ˜¯ç»™ä½ ä¸€ä¸ªåºåˆ—$F_x$çš„$k$é¡¹çš„é€’æ¨æ³•åˆ™ï¼ˆå¹‚æ¬¡ç§¯å¼é€’æ¨ï¼‰ï¼Œåœ¨è®¤å®šå‰$k-1$é¡¹éƒ½æ»¡è¶³$F_x=1$çš„åŸºç¡€ä¸Šç»™å®š$F_n$ï¼Œè®©ä½ å€’æ¨å‡º$F_k$æ¥ã€‚ $\mathfrak {Solution}$æ•æˆ‘ç›´è¨€â€¦è¿™é“é¢˜æˆ‘è€ƒåœºä¸Šæ˜¯ä¸å¯èƒ½ä¼šçš„â€¦ï¼ˆå·²æ‰‘è¡— é¦–å…ˆæˆ‘ä»¬è§‚å¯Ÿä¸€èˆ¬å½¢å¼ï¼š$$F_x = \begin{cases}1~, &amp;\rm{x&lt;k} \newline ?~, &amp; \rm{x = k} \newline \prod\limits_{j=1}^kF_{x-j}^{b_j} , &amp; \rm{x&gt;k}\end{cases}~ (\mod 998,244,353)$$ å¤§ä½“ä¸Šè¿™ä¸ªå¼å­æ˜¯æ²¡æ³•åšçš„ï¼Œå› ä¸ºæ¯•ç«Ÿæ˜¯ä¹˜ç§¯+å¹‚æ¬¡æ–¹é€’æ¨çš„å½¢å¼ã€‚ä½†æ˜¯è¿™ä¸ªåœ°æ–¹æœ‰ä¸ªæˆ‘æ²¡æƒ³å‡ºæ¥ã€æƒ³å‡ºæ¥ä¹Ÿä¸ä¼šç”¨çš„$Ideaâ€‹$ï¼Œå°±æ˜¯æˆ‘ä»¬æ—¢ç„¶è¦æŠŠä¹˜ç§¯è½¬åŒ–æˆæ±‚å’Œçš„å½¢å¼ï¼Œé‚£å°±åªèƒ½åœ¨æŒ‡æ•°ä¸Šä¹±æã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘æŠŠå®ƒçš„æ¯ä¸€é¡¹éƒ½å†™æˆåŒä¸€ä¸ªæ•°çš„å¹‚æ¬¡ï¼Œé‚£ä¹ˆé€’æ¨çš„æ—¶å€™åªéœ€è¦åšåŠ æ³•å°±å¯ä»¥äº†ã€‚ æ¬¡æˆ‘ä»¬é€‰æ‹©$998,244,353â€‹$çš„åŸæ ¹ä½œä¸ºåº•æ•°ã€‚å› ä¸ºåŸæ ¹æœ‰ä¸€ä¸ªå¾ˆä¼˜ç¾çš„æ€§è´¨ï¼Œå°±æ˜¯$pâ€‹$çš„åŸæ ¹çš„å¹‚æ¬¡å¯ä»¥éå†$pâ€‹$çš„ç®€åŒ–å‰©ä½™ç³»ã€‚è€Œç”±$NTTâ€‹$é‡Œå¾—åˆ°çš„ç»éªŒï¼Œè¿™ä¸ªæ¨¡æ•°çš„æœ€å°åŸæ ¹æ˜¯$3â€‹$ã€‚ åŸæ ¹çš„åŸºæœ¬å®šä¹‰ï¼šè®¾$g$ä¸º$p$çš„ä¸€ä¸ªåŸæ ¹ï¼Œåˆ™æ»¡è¶³ï¼š$$ğ‘”^{ğ‘âˆ’1} \equiv 1(\mod p)$$$$âˆ€1â‰¤ğ‘˜&lt;ğ‘âˆ’1, ğ‘”^ğ‘˜ \not \equiv 1(\mod p)$$ ä¹‹åå‘¢ï¼Ÿä¹‹åæˆ‘ä»¬å°±æ‰¾ä¸€ä¸ªå‡½æ•°$q(x)$ï¼Œä»¤$$g^{q(x)} \equiv x(\bmod p)$$ ç›®çš„æ˜¯ä¸ºäº†æ„é€ ä¸€ä¸ª$l_x = q(F_x)$ï¼Œä½¿å¾—ç­‰å¼$$g^{l_x} \equiv \prod \limits_{i=1}^{k}g^{b_il_{x-i}}( \mod p)$$æˆç«‹ã€‚è€Œæ¯”è¾ƒç‰¹æ®Šçš„æ˜¯ï¼Œå› ä¸º$F_1$~$F_{k-1}$éƒ½ä¸º$1$ï¼Œæ‰€ä»¥$l_i=0\quad(1 \leq i &lt;k)$ ã€‚é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´å¯¹äºæŒ‡æ•°ä¸Šçš„$l_x$æ»¡è¶³$$l_x \equiv \sum\limits_{i=1}^{k}b_il_{x-i}( \mod p-1)$$è¿™å°±æ˜¯ä¸€ä¸ªçº¿æ€§é€’æ¨çš„å½¢å¼äº†ã€‚ æ­¤å¤„æœ‰ä¸ªå°$trick$ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸ºäº†é˜²æ­¢$l_x$è¿‡å¤§ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å®ƒå–æ¨¡ï¼Œæ­¤æ—¶ç›´æ¥ä¾æ®è´¹é©¬å°å®šç†ï¼Œå–$p-1$åšæ¨¡æ•°å³å¯ã€‚ æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªååˆ†å·§å¦™çš„$Idea$ï¼Œæˆ‘ä»¬è™½ç„¶ä¸çŸ¥é“$l_k$ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥çŸ¥é“$l_k$åˆ°$l_n$æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚è§‚å¯Ÿé¢˜ç›®æ€§è´¨ï¼Œ$$l_j = \omega_j l_k \mod(p-1)$$å…¶ä¸­çš„$\omega_j$æ˜¯ä¸€ä¸ªå…³äº$b_k$çš„å¸¸é‡å› å­ã€‚è¯æ˜ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå› ä¸º$l_i=0\quad(1 \leq i &lt; k) $æ˜¯æ˜¾ç„¶çš„ã€‚ é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦åšä¸€ä¸‹çŸ©é˜µå¿«é€Ÿå¹‚â€”â€”å¹‚æ¬¡ä¸Šæ˜¯$n-k$â€”â€”å°±å¯ä»¥å¾—å‡º$\omega_n$æ¥ã€‚è€Œæˆ‘ä»¬çš„$l_n$æ˜¯å¯ä»¥é€šè¿‡å¯¹åŸæ ¹$g$æ±‚$BSGS$è§£å¾—çš„ã€‚é‚£ä¹ˆç°åœ¨å°±æ˜¯$$l_k\omega_n = l_n \mod (p-1)$$ç§»ä¸ªé¡¹å¯ä»¥å¾—åˆ°$$l_k \omega_n + t(p-1)= l_n$$ç”±äºåŸé¢˜è®©æ±‚çš„æ˜¯æœ€å°çš„æ­£æ•´æ•°è§£ï¼Œæ‰€ä»¥åº”ç”¨ä¸€ä¸‹$exgcd$åˆ¤ä¸€ä¸‹æ˜¯å¦æœ‰è§£å°±è§£å†³äº†ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182#include &lt;map&gt;#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#define MAXN 108#define LL long long#define Mod 998244353using namespace std ;map&lt;LL, LL&gt; Hash ;int N, T, base[MAXN] ;LL Ft, Hn, Xs, Ans, X, Y, G ; struct Matrix&#123; LL M[MAXN][MAXN] ; void clear() &#123; memset(M, 0, sizeof(M)) ;&#125; void reset() &#123; clear() ; for (int i = 1 ; i &lt;= N ; ++ i) M[i][i] = 1 ; &#125; Matrix friend operator *(const Matrix&amp;A, const Matrix &amp;B)&#123; Matrix Ans ; Ans.clear() ; for (int i = 1 ; i &lt;= N; ++ i) for (int j = 1 ; j &lt;= N ; ++ j) for (int k = 1 ; k &lt;= N; ++ k) Ans.M[i][j] = (Ans.M[i][j] + A.M[i][k] * B.M[k][j]) % (Mod - 1) ; return Ans ; &#125; Matrix friend operator +(const Matrix&amp;A, const Matrix &amp;B)&#123; Matrix Ans ; Ans.clear() ; for (int i = 1 ; i &lt;= N; ++ i) for (int j = 1 ; j &lt;= N ; ++ j) Ans.M[i][j] = (A.M[i][j] + B.M[i][j]) % (Mod - 1) ; return Ans ; &#125;&#125; ; inline Matrix expow(Matrix T, LL P)&#123; Matrix Ans ; Ans.reset() ; while (P)&#123; if (P &amp; 1) Ans = Ans * T ; T = T * T, P &gt;&gt;= 1 ; &#125; return Ans ;&#125;inline LL expow(LL a, LL b, LL p)&#123; LL res = 1 ; while (b)&#123; if (b &amp; 1) (res *= a) %= p ; (a *= a) %= p, b &gt;&gt;= 1 ; &#125; return res % p ;&#125;inline LL bsgs(LL x, LL y, LL p)&#123; LL P = ceil(sqrt(p - 1)), Q = expow(x, -P + 2 *(p - 1), p) ; for (LL i = 1, j = 0 ; j &lt;= P ; ++ j, (i *= x) %= p) if (!Hash.count(i)) Hash[i] = j ; for (LL i = y, j = 0 ; j &lt;= P ; ++ j, (i *= Q) %= p) if (Hash.count(i)) return Hash[i] + j * P ;&#125;inline LL exgcd(LL a, LL b, LL &amp;x, LL &amp;y)&#123; if(!b) &#123;x = 1, y = 0 ; return a ;&#125; LL t = exgcd(b, a % b, y, x) ; y -= a / b * x ; return t ;&#125;inline LL qr()&#123; register LL k = 0, p = 1 ; char c = getchar() ; while (c &lt; '0' || c &gt; '9') &#123; c = getchar() ; if (c == '-') p = -1 ;&#125; while (c &lt;= '9' &amp;&amp; c &gt;= '0') k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k * p ;&#125;int main()&#123; cin &gt;&gt; N ; register int i ; for (i = 1 ; i &lt;= N ; ++ i) base[i] = qr() ; cin &gt;&gt; T &gt;&gt; Ft ; Matrix lab ; lab.clear() ; for (i = 2 ; i &lt;= N ; ++ i) lab.M[i][i - 1] = 1ll ; for (i = 1 ; i &lt;= N ; ++ i) lab.M[i][N] = 1ll * base[N -i + 1] ; lab = expow(lab, T - N), Hn = bsgs(3,Ft, Mod), Xs = lab.M[N][N] ; G = exgcd(Xs, Mod - 1, X, Y) ; if (Hn % G) return puts("-1"), 0 ; X = (X % (Mod - 1) * (Hn / G) % (Mod - 1) + Mod - 1) % (Mod - 1) ; Ans = expow(3, X, Mod) ; cout &lt;&lt; Ans &lt;&lt; endl ; return 0 ;&#125; $0x00\quad$åè®°è¯´å®è¯ï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡åšæ•´å¥—CFçš„é¢˜ç›®â€¦ç¡®å®ï¼Œåƒé‡ŒæŒ‘ä¸€çš„é¢˜ç›®å°±æ˜¯æ¯”ä½ è°·ä¸Šéšä¾¿æ‰¾å‡ é“é¢˜åšæ¥åŠ²ã€‚$A$~$E$éƒ½è¿˜å¥½ï¼Œä½†æ˜¯$F$å®åœ¨æ˜¯â€¦â€¦çœ‹é¢˜è§£éƒ½è¦æƒ³åŠå¤©çš„é‚£ç§â€¦â€¦å°¤å…¶æ˜¯è¿™ä¸ªè§£ç¦»æ•£æ–¹æ ¹çš„ä¸œè¥¿â€¦â€¦å“‡å¡æ¶å¿ƒæ­»äº†ä»æ²¡å¬è¯´è¿‡è¿˜æœ‰è¿™ä¸œè¥¿qaq rqyè¯´$F$é¢˜æ˜¯çœé€‰ä¸€è½®çš„éš¾åº¦â€”â€”è™½ç„¶æ²¡è¯´æ˜¯$D$å‡ $T$å‡ ï¼Œä½†æˆ‘æ„Ÿè§‰ä»–çš„è¯­æ°”ä¸åƒæ˜¯åœ¨è¯´ä¸€é“å¾ˆéš¾çš„é¢˜â€¦â€¦ å®Œäº†ï¼Œè¦è·ªäº†ã€‚ å¥¥èµ›æ–‡åŒ–è¯¾ä¸¤çˆ†ç‚¸ï¼Œçœé€‰è¿›é˜Ÿè¿›ä½ maï¼ŒæŒ‡æœ›ç€å°†æ¥æ²¡å­¦ä¸Šï¼Œè¿˜ä¸å¦‚æ”¶æ‹¾å¥½é“ºç›–æ—©å›å®¶ ã€‚ â€‹ â€”â€”ï¼ˆpksã€Šæ˜¥æ—¥ç»å¥ã€‹ï¼‰]]></content>
      <categories>
        <category>é¢˜è§£</category>
      </categories>
      <tags>
        <tag>BSGS/exBSGS</tag>
        <tag>åŠ¨æ€è§„åˆ’-æ™®é€šDP</tag>
        <tag>çº¿æ€§ä»£æ•°-çŸ©é˜µ</tag>
        <tag>CodeForces</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Lagrange FormulaÂ·æ‹‰æ ¼æœ—æ—¥æ’å€¼æ³•]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F07%2FLagrange-Formula%2F</url>
    <content type="text"><![CDATA[$\rm{0x01~~} Preface$æ’å€¼($Interpolaton$) åœ¨å¤šé¡¹å¼åŸŸä¸­å¯ä»¥çœ‹åšæ˜¯æ±‚å€¼$(Evaluation)$çš„é€†è¿ç®—ï¼Œå³ç»™å®š$n$ç»„ç¡®å®šçš„æœ¬è´¨ä¸åŒçš„äºŒå…ƒç»„$(x_i, y_i)$ï¼Œæ»¡è¶³$F(x_i) = y_i$ï¼Œå¯ä»¥é€†å‘æ±‚å‡ºåŸ$n$æ¬¡å¤šé¡¹å¼ã€‚ è€Œå…¶å®ï¼Œæ‹‰æ ¼æœ—æ—¥æ’å€¼å…¬å¼æœ¬èº«æ˜¯æ ‡å‡†çš„$\Theta(n^2)$ç®—æ³•â€”â€”æˆ–è€…ä¸èƒ½ç§°å…¶ä¸ºç®—æ³•ï¼Œè¿ç®—è¿‡ç¨‹$\Theta(n^2)$æˆ–è®¸ä¼šæ›´å‡†ç¡®ä¸€äº›ã€‚$Indeed$ï¼Œè¯¥å…¬å¼æ˜¯æ„é€ å‡ºæ¥çš„ï¼Œæ‰€ä»¥æ²¡æœ‰å¤šä¹ˆç¹ççš„è¯æ˜â€”â€” $\rm{0x02}~~\rm{Proof}$$Proof ~of~Existence$â€‹ æˆ‘ä»¬å®šä¹‰$F(x)$ä¸ºä¸€åœ¨å®æ•°åŸŸä¸Šçš„å¹³å‡¡$n-1$æ¬¡å¤šé¡¹å¼ã€‚ â€‹ é¦–å…ˆæˆ‘ä»¬éœ€è¦æ„é€ ä¸€ä¸ªå¯¹äºç¬¬$i$ä¸ªäºŒå…ƒç»„çš„ç‰¹æ®Šå¤šé¡¹å¼$L_i(x)$ï¼Œæ»¡è¶³$$L_i(x_j) = \begin{cases}1, &amp;\rm{i=j} \newline 0, &amp; \rm{i \neq j}\end{cases}$$ é‚£ä¹ˆæˆ‘ä»¬æ‰€æ±‚çš„å¤šé¡¹å¼$F(x)â€‹$å°±å¯ä»¥å†™ä½œ$$F(x) = \sum L_i(x_i)\cdot y_iâ€‹$$è¿™ä¸ªå¼å­ä¿è¯äº†æˆ‘ä»¬å¯¹åº”çš„$nâ€‹$ä¸ªäºŒå…ƒç»„ï¼Œ$F(x)=yâ€‹$æ’æˆç«‹ã€‚ â€‹ é‚£ä¹ˆå¯¹äº$L_i(x)$ï¼Œæˆ‘ä»¬è€ƒè™‘ç”±æˆ‘ä»¬å¯¹$L_i(x)$çš„å®šä¹‰å¯ä»¥å¾—å‡º$$L_i(x) = k_i(x-x_1)(x-x_2)\cdots(x-x_n)$$å…¶ä¸­ä¸åŒ…å«$x-x_i$è¿™ä¸€å› å¼ã€‚è€Œç”±$L_i(x_i)=1$å¯çŸ¥æˆ‘ä»¬çš„æ¯”ä¾‹ç³»æ•°$$k_i=\frac{1}{(x_i-x_1)(x_i-x_2)\cdots(x_i - x_{i-1})(x_i - x_{i+1})\cdots(x_i-x_n)}$$é‚£ä¹ˆ$$L_i(x) = \prod\limits_{i=1, i \neq j}^{n}\frac{x - x_j}{x_i-x_j}$$ä»è€Œ$$F(x)=\sum L_i(x)\cdot y_i(x) = \sum y_i \cdot \prod\limits_{i=1, i \neq j}^{n}\frac{x - x_j}{x_i-x_j}$$ $\mathcal{Q.E.D.}$ $Proof~of~Uniqueness^{[1]}$â€‹ æˆ‘ä»¬æ¥ä¸‹æ¥è¦è¯æ˜çš„æ˜¯å¤šé¡¹å¼$L_i(x)â€‹$çš„å”¯ä¸€æ€§ â€‹ æˆ‘ä»¬å‡è®¾åŒæ—¶æœ‰ä¸¤ä¸ªå®æ•°åŸŸä¸Šçš„$n-1â€‹$æ¬¡å¤šé¡¹å¼$L_1(x),L_2(x)â€‹$æ»¡è¶³$L_i(x_j) = \begin{cases}1, &amp;\rm{i=j} \ 0, &amp; \rm{i \neq j}\end{cases}â€‹$ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”±ä½œå·®æ³•å¯ä»¥å¾—å‡ºå¤šé¡¹å¼$L_{\Delta} = L_1 - L_2â€‹$åœ¨å–æ‰€æœ‰çš„$x_iâ€‹$æ—¶ï¼Œå…¶å€¼å‡ä¸º$0â€‹$ã€‚é‚£ä¹ˆä¸€å®šä¼šæœ‰å¤šé¡¹å¼$$Lâ€™(x) = \prod\limits_{i=1}^{n}(x - x_i)â€‹$$æ»¡è¶³$$Lâ€™|L_{\Delta}â€‹$$ å…¶ä¸­$|â€‹$è¡¨ç¤ºå¤šé¡¹å¼æ•´é™¤ã€‚ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äº$Lâ€™â€‹$è¿™ä¸ªå¤šé¡¹å¼ï¼Œå…¶æ¬¡æ•°ä¸º$n-1â€‹$ï¼›è€Œå¯¹äºæˆ‘ä»¬æ‰€å®šä¹‰çš„$L_i(x)â€‹$ï¼Œå‡ä¸º$(n-2)â€‹$æ¬¡çš„ï¼Œä»è€Œ$L_{\Delta}â€‹$ä¹Ÿæ˜¯$n-2â€‹$æ¬¡å¤šé¡¹å¼ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—å‡º$$L_{\Delta} = 0â€‹$$ä»è€Œæœ‰$$L_1=L_2â€‹$$ $\mathcal{Q.E.D.}$$\rm{0x03~\color{red}{C}\color{cyan}{o}\color{gold}{d}\color{green}{e}}$1234567891011121314151617181920212223242526272829303132333435363738é¢˜å·ï¼šLuogu4781#include &lt;cstdio&gt;#include &lt;iostream&gt;#define MAXN 2020#define LL long long#define Mod 998244353using namespace std ; LL Ans, xs ;int N, i, j ; LL T, t, xv[MAXN], yv[MAXN] ;inline LL expow(LL A, LL B)&#123; LL res = 1 ; while (B)&#123; if (B &amp; 1) (res *= A) %= Mod ; B &gt;&gt;= 1, (A *= A) %= Mod ; &#125; return res ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; T ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%lld%lld", &amp;xv[i], &amp;yv[i]) ; for (i = 1 ; i &lt;= N ; ++ i)&#123; t = 1 ; for (j = 1 ; j &lt;= N ; ++ j)&#123; if (i == j) continue ; (t *= (xv[i] - xv[j] + Mod)) %= Mod ; &#125; t = expow(t, Mod - 2) ; for (j = 1 ; j &lt;= N ; ++ j)&#123; if (i == j) continue ; (t *= (T - xv[j] + Mod)) %= Mod ; &#125; (t *= yv[i]) %= Mod, (Ans += t) %= Mod ;// cout &lt;&lt; Ans &lt;&lt; endl ; &#125; printf("%lld", Ans) ; return 0 ;&#125; $\rm{Reference}$ $[1] $:Angel_Kittyçš„$blog$ã€Šæ‹‰æ ¼æœ—æ—¥æ’å€¼æ³•ã€‹ $^{^{[\nearrow ]}}$ $\mathfrak{writter:pks}$]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>Math - Lagrange Formula</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¾¤è®ºå…¥é—¨]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F06%2F%E7%BE%A4%E8%AE%BA%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[å†™åœ¨å‰é¢ï¼šç¾¤ä½œä¸ºæŠ½è±¡ä»£æ•°é¢†åŸŸä¸­æ¯”è¾ƒåŸºç¡€çš„ä¸€ç¯ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ²Ÿé€šåˆç­‰ä»£æ•°ã€åˆç­‰å‡ ä½•ä¸æŠ½è±¡ä»£æ•°çš„æ¡¥æ¢ï¼Œç€å®æ‰“å¼€äº†ç¬”è€…çš„çœ¼ç•Œã€‚æ­¤ç¯‡blogæ—¨åœ¨æ³›æ³›è°ˆä¸€äº›æ¯”è¾ƒåŸºç¡€çš„ç¾¤è®ºå†…å®¹ï¼ŒåŒ…æ‹¬ç¾¤çš„åŸºæœ¬å®šä¹‰ï¼Œå­ç¾¤çš„æ¦‚å¿µï¼Œé˜¶çš„æ¦‚å¿µç­‰ç­‰ï¼Œä¸å­˜åœ¨è¾ƒä¸ºè‰°æ·±çš„å†…å®¹ã€‚ ç¾¤$1~)~$ç¾¤çš„å®šä¹‰æ¯”è¾ƒç®€å•çš„æ¥è®²ï¼Œæ‰€è°“ç¾¤$(\rm{group})$æŒ‡çš„æ˜¯ä¸€ç±»ç‰¹æ®Šçš„é›†åˆï¼Œè¿™ä¸ªé›†åˆåŒ…å«ä¸€ç»„å…ƒç´ å’Œå¤§äºç­‰äºä¸€ä¸ªçš„è¿ç®—ï¼Œæ¯”å¦‚ä¹˜æ³•ç¾¤æ•‘è®°ä½œ$(G,\cdot)$ã€‚é‚£ä¹ˆå¹³å‡¡æ¥è®²ï¼Œç¾¤æ»¡è¶³ä¸‹åˆ—å‡ ä¸ªæ€§è´¨ï¼š æˆ‘ä»¬å‡å®šä¸€ä¸ªå¹³å‡¡çš„ç¾¤$G$æ”¯æŒ$\color{purple}{qwq}$è¿™ç§è¿ç®—ï¼š $Property1~~$å°é—­æ€§$\forall a\in G, b\in G, a~\color{purple}{qwq}~b \in G$$Property2~~$è¿ç®—çš„ç»“åˆæ€§$(a~\color{purple}{qwq}~b) ~\color{purple}{qwq}~ c=a~\color{purple}{qwq}~ (b ~qwq~ c)$$Property3~~$å­˜åœ¨å•ä½å…ƒï¼ˆå¹ºå…ƒï¼‰æ»¡è¶³ä»¥ä¸‹å®šä¹‰ï¼š$\exists e\in G, s.t. \forall a\in G, e~\color{purple}{qwq}~ a=a~\color{purple}{qwq}~e=a$$Property4~~$å¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œå­˜åœ¨é€†å…ƒï¼Œå³æ»¡è¶³ $\forall a\in G, \exists b\in G, s.t. a~\color{purple}{qwq}~ b=b~\color{purple}{qwq}~a=e$é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´çš„ç›´ç™½ç‚¹å§ï¼Œå¯¹æ‰€æœ‰çš„å…ƒç´ ï¼Œåšå®Œè¯¥ç¾¤æ‰€å¸¦æœ‰çš„å¸¦æœ‰ç»“åˆå¾‹çš„è¿ç®—ä¹‹åï¼Œæ‰€å¾—ç»“æœä»ç„¶å±äºè¯¥ç¾¤ä¸”ä¸€å®šå­˜åœ¨å•ä½å…ƒï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ å­˜åœ¨è¿ç®—é€†å…ƒã€‚ é‚£æˆ‘ä»¬ä¸å¦¨å®šä¹‰ä¸€äº›å…¶ä»–çš„ï¼š é˜¿è´å°”ç¾¤$(Abel~ Group)$ï¼šå³äº¤æ¢ç¾¤â€”â€”è¿ç®—æ»¡è¶³äº¤æ¢å¾‹çš„ç¾¤ã€‚ åŠç¾¤ï¼šæ»¡è¶³å°é—­æ€§å’Œç»“åˆå¾‹çš„ç¾¤ã€‚ æœ‰é™ç¾¤$(Finite~Group)$ï¼šå…ƒç´ ä¸ªæ•°æœ‰é™çš„ç¾¤ç§°ä¸ºæœ‰é™ç¾¤,è€Œæœ‰é™ç¾¤çš„å…ƒç´ ä¸ªæ•°ç§°ä½œæœ‰é™ç¾¤çš„é˜¶ ç»“åˆå‡ ä¸ªä¾‹å­æ¥è§£é‡Šä¸€ä¸‹ï¼š æ¯”å¦‚ä»¥ä¸‹æ˜¯å‡ ä¸ªä¹˜æ³•ç¾¤ $$ (Q\setminus{0}~,~\cdot)â€‹$$ $$(R\setminus{0}~, ~\cdot)â€‹$$$$ (C\setminus{0}~,~\cdot)â€‹$$ ä»–ä»¬éƒ½ä¸èƒ½åŒ…æ‹¬$0$è¿™ä¸ªå…ƒç´ ï¼Œå› ä¸ºè¿™ä¸ªå…ƒç´ æ˜¾ç„¶æ˜¯æ²¡æœ‰é€†å…ƒçš„ã€‚ æˆ–è€…ä¸€ä¸ªå¥½ç©å„¿çš„ä¹˜æ³•ç¾¤$$((1, -1)~~, ~~\cdot)$$æˆ–è€…æ˜¯æ‰€æœ‰éå¥‡å¼‚çš„$n$é˜¶çŸ©é˜µä¹Ÿå¯ä»¥ç»„æˆä¸€ä¸ªä¹˜æ³•ç¾¤ã€‚ æˆ–è€…æ˜¯$$(Z~,~+)$$è¿™ä¸ªç¾¤æ¯”è¾ƒç»å…¸$233$ï¼Œå…¶ä¸­æˆ‘ä»¬å€ŸåŠ©è¿™ä¸ªæ¥ç»ƒä¹ ä¸€ä¸‹å¦‚ä½•åˆ¤æ–­æ˜¯å¦æˆç¾¤,é¦–å…ˆæ€è€ƒï¼Œè¿™ä¸ªä¸œè¥¿ä¸€å®šæ˜¯å°é—­çš„ï¼Œå› ä¸ºæœ€åä¼šæ”¶æ•›äº$\pm \inf$æ‰€ä»¥ä¸€å®šå°é—­ï¼Œå…¶æ¬¡è¿ç®—æ˜¯ä¸€å®šç¬¦åˆç»“åˆå¾‹çš„ï¼Œç„¶åå•ä½å…ƒè‚¯å®šå°±æ˜¯$0$ï¼Œæœ€åé€†å…ƒçš„è¯ï¼Œå¯¹äº$n$é‚£å°±ä¸€å®šæ˜¯$-n$äº†ï¼ˆç´§æ‰£å®šä¹‰å³å¯ï¼‰ã€‚ $Extra Things :$ ä»¥ä¸‹æ˜¯ä¸¤ç§å¤åˆæŠ½ä»£æ•°æ®ç»“æ„ï¼ˆåå­—è‡ªå·±èµ·çš„$233$ï¼‰ï¼š ç¯ï¼šå®šä¹‰åœ¨ä¸¤ä¸ªè¿ç®—ä¸Šï¼Œ$(G,+,\cdot)$å…¶ä¸­$(G,+)$æ˜¯é˜¿è´å°”ç¾¤ï¼Œ$(G,\cdot)$æ˜¯åŠç¾¤ä¸¾ä¾‹å­ï¼š$Z$, $R[x]$ï¼Œå³æ•´æ•°ç¯å’Œ$R$ä¸Šçš„æ‰€æœ‰å¤šé¡¹å¼çš„é›†åˆã€‚ åŸŸï¼šåŒæ ·å®šä¹‰åœ¨ä¸¤ä¸ªè¿ç®—ä¸Šï¼Œ$(F,+,\cdot)$å…¶ä¸­$(F,+)$æ˜¯é˜¿è´å°”ç¾¤ï¼Œ$(F\setminus{0},\cdot)$æ˜¯é˜¿è´å°”ç¾¤ä¸¾ä¾‹å­ ï¼š$Q,R,C$å³æœ‰ç†æ•°åŸŸã€å®æ•°åŸŸå’Œå¤æ•°åŸŸã€‚ å¥½çš„ï¼Œé‚£æˆ‘ä»¬å°è¯•è¯æ˜ä¸¤ä¸ªå‘½é¢˜ï¼š $Proposition1~~~~$ä¸€ä¸ªç¾¤ä¸­çš„å•ä½å…ƒå”¯ä¸€è®¾æœ‰ä¸¤ä¸ªå•ä½å…ƒ$e_1,e_2$ é‚£ä¹ˆ$e_1=e_1e_2=e_2$ï¼Œå…¶å®æ˜¯ä¸€ä¸ª$233$ $Proposition2~~~~$ç¾¤ä¸­å…ƒç´ çš„é€†å…ƒå”¯ä¸€ä»¥ä¹˜æ³•ç¾¤ä¸ºä¾‹ï¼Œå‡è®¾$a$æœ‰ä¸¤ä¸ªé€†å…ƒ$b,c$ï¼Œé‚£ä¹ˆä¸€å®šä¼šæœ‰$$b = b \cdot(a \cdot c) = (b \cdot a) \cdot c = c$$ æ˜¾ç„¶ä¹Ÿæ˜¯åŒä¸€ä¸ªã€‚ é‚£ä¹ˆæ­¤æ—¶æˆ‘æ‰“ç®—æ•´ç†ä¸€ä¸ªç¾¤çš„å…±æ€§ç‰¹å¾ï¼š$$(ab)^{-1}=b^{-1}a^{-1}$$ å¾ˆæ˜¾ç„¶ï¼Œè¯æ˜å¦‚ä¸‹ï¼š$$ab(b^{-1}a^{-1})=b^{-1}a^{-1})ab=e$$ æè¿™ä¸ªçš„ç›®çš„å°±æ˜¯ï¼Œæˆ‘ä»¬å‘ç°åœ¨çŸ©é˜µçš„ç›¸å…³å†…å®¹é‡Œé¢ä¹Ÿæœ‰è¿™ä»¶äº‹å„¿~æ‰€ä»¥å°±å¾ˆå¼€å¿ƒ é‚£ä¹ˆä¹‹åæˆ‘ä»¬è®¨è®ºå‘¨æœŸ å¯¹äºä¸€ä¸ªå…ƒç´ $a \in G$è€Œè¨€ï¼Œæˆ‘ä»¬è®°$a$çš„å‘¨æœŸæ˜¯$o(a)$ $o(a)$è¡¨ç¤ºæœ€å°æ­£æ•´æ•°ï¼Œä½¿å¾—$a^{o(a)}=e$ $2~)~$å­ç¾¤åŠè¡ç”Ÿæœ¬èŠ‚æ‰€æŒ‡â€œç¾¤â€æ²¡æœ‰ç‰¹åˆ«è¯´æ˜ä¾¿å‡ä¸ºæœ‰é™ç¾¤ ä¸å¦¨å…ˆç»™å‡ºå­ç¾¤çš„æµ…æ˜¾ç‰ˆå®šä¹‰ï¼š å¦‚æœå¯¹äºä¸€ä¸ªç¾¤$(G, C)$ ï¼Œå…¶ä¸­$H\subseteq G$,ï¼Œä¸” $(H,C)$æ˜¯ç¾¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°åœ¨è¿ç®—$C$ä¸‹ï¼Œ$H$æ˜¯$G$çš„å­ç¾¤ï¼Œç”¨$H\leq G$è¡¨ç¤ºé‚£ä¹ˆä»è€Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ç”Ÿæˆå­ç¾¤è¿™ä¸ªä¸œè¥¿ï¼š ç”Ÿæˆå­ç¾¤ï¼šè‹¥$S \subseteq Gâ€‹$ï¼Œ å¹¶ä¸”å¯¹äºè¿ç®—$Câ€‹$è€Œè¨€ï¼Œ$(G,C)â€‹$ä¹Ÿæ˜¯ä¸€ä¸ªç¾¤ï¼Œé‚£ä¹ˆå°±ç§°$Gâ€‹$ä¸ºé›†åˆ$Sâ€‹$åœ¨è¿ç®—$Câ€‹$ä¸‹çš„ç”Ÿæˆå­ç¾¤ã€‚é›†åˆ$Sâ€‹$çš„ç”Ÿæˆå­ç¾¤ç”¨$&lt;â€‹$$Sâ€‹$$&gt;â€‹$è¡¨ç¤º è¿™ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å®šä¹‰é™ªé›†è¿™ä¸ªæ¦‚å¿µ é™ªé›†ä¸€èˆ¬ä¸ŠåŒ…å«å·¦é™ªé›†å’Œå³é™ªé›†ã€‚ å·¦é™ªé›†ï¼šå¦‚æœ$H \leq G$ï¼Œå¯¹äº$a \in G$ï¼Œå®šä¹‰é›†åˆ$H_a = {x\in G~|~ \exists h\in H, ah=x}$ä¸º$H$çš„ä¸å…ƒç´ $a$å·¦é™ªé›†ã€‚å³é™ªé›†ï¼š å¦‚æœ$H \leq G$ï¼Œå¯¹äº$a \in G$ï¼Œå®šä¹‰é›†åˆ$H_a = {x\in G~|~ \exists h\in H, ha=x}$ä¸º$H$çš„å³é™ªé›†ã€‚$233$ä¹Ÿå¯ä»¥å«åšå‚é›†æˆ–è€…æ—ç³»ä¹‹ç±»çš„~ é‚£ä¹ˆæˆ‘ä»¬è¿™ä¸ªåœ°æ–¹å…ˆåªç ”ç©¶å³é™ªé›†$233$ $Lemma1:$æˆ‘ä»¬é¦–å…ˆè¯æ˜ä¸€ç‚¹ï¼š$|H|=|H_a|$ï¼Œå…¶ä¸­é•¿å¾—åƒç»å¯¹å€¼ç¬¦å·çš„ç«–çº¿è¡¨ç¤ºçš„æ˜¯æœ‰é™ç¾¤çš„ç¾¤ä¸­å…ƒç´ æ•°é‡ã€‚ è¿™ä¸ªå…¶å®æ¯”è¾ƒæ˜¾ç„¶ï¼Œå› ä¸ºäº‹å®ä¸Šç¾¤éƒ½æ˜¯å®šä¹‰åœ¨éå¯é‡é›†ä¸Šé¢çš„ã€‚ è¾ƒä¸ºä¸¥è°¨çš„è¯æ˜å¦‚ä¸‹ï¼š $Proof.$ å¯¹äº$H \leq G$ï¼Œå¦‚æœ$h_1\neq h_2 \in H$ï¼Œé‚£ä¹ˆ$h_1a\neq h_2a$ åè¯ï¼šè‹¥$h_1a=h_2a$ï¼Œ$h_1aa^{-1}=h_2aa^{-1},~h_1=h_2$çŸ›ç›¾ å¯¹äºä¸åŒçš„$h$ï¼Œ$ha$äº’ä¸ç›¸åŒï¼Œå› æ­¤$|H_a|=|H|$ $Lemma2:$ä¹‹åæˆ‘ä»¬å†è¯æ˜ä¸€äº›å¥½ç©å„¿çš„ï¼š å‘½é¢˜ï¼š$H_a=H_b$å½“ä¸”ä»…å½“$ab^{-1}\in H$ çœ‹èµ·æ¥å¥½åƒä¸æ˜¯é‚£ä¹ˆå¥½ç©â€¦â€¦ $Proof.$ è‹¥$H_a=H_b$ï¼Œåˆ™$ea\in H_a$ï¼Œå³$a\in H_b$ï¼Œé‚£ä¹ˆ$\exists h\in H,~a=hb$,é‚£ä¹ˆ$ab^{-1}=h$ è‹¥$ab^{-1}\in H$ï¼Œé‚£ä¹ˆ$ha=ha(b^{-1}b)=(hab^{-1})b\in Hb$ï¼Œå› æ­¤$H_a\subseteq H_b$ $hb=hb(a^{-1}a)=h(ab^{-1})^{-1}a\in H_a$ï¼Œæ•…$H_b\subseteq H_a$ å› æ­¤$H_a=H_b$ é‚£ä¹ˆæˆ‘ä»¬è¿˜å¯ä»¥æœ‰ä¸€ä¸ªæ¨è®ºï¼š è‹¥$H_a\neq H_b$ï¼Œé‚£ä¹ˆ$H_a\cap H_b = \emptyset$ $Proof.$ å‡è®¾$x\in H_a\cap H_b$ï¼Œ åˆ™$\exists h_1,h_2\in H$ï¼Œ$h_1a=h_2b=x$ ï¼Œ é‚£ä¹ˆ$ab^{-1}=h_1^{-1}h_2\in H$ï¼Œé‚£ä¹ˆ$H_a=H_b$ï¼ŒçŸ›ç›¾ ä»è€Œè¿˜å¯ä»¥æœ‰ä¸ªå®šç†ï¼ˆ$Lagrange$å®šç†ï¼‰ï¼š ç”±äº$\forall g\in G$ï¼Œ $g\in Hg$ï¼Œæ‰€ä»¥$G$ä¸­æ¯ä¸ªå…ƒç´ éƒ½åœ¨æŸä¸ªå‚é›†ä¸­ã€‚ç”¨$[G:H]$è¡¨ç¤ºä¸åŒçš„å‚é›†æ•°ï¼Œé‚£ä¹ˆ $$|G|=|H|\cdot [G:H]$$ ä¹Ÿå°±æ˜¯è¯´$|H|$æ˜¯$|G|$çš„çº¦æ•°ã€‚ è¿™ä¸ªå…¶å®å¾ˆæ˜¾ç„¶ï¼Œå› ä¸ºä¸åŒå…ƒç´ çš„å‚é›†å¦‚æœä¸åŒå°±ä¸ä¼šæœ‰äº¤é›†ï¼Œå¦‚æœç›¸åŒå°±ä¸ä¼šè¢«è€ƒè™‘åˆ°$[G:H]$é‡Œé¢ã€‚æ‰€ä»¥ç»“è®ºå¹³å‡¡ã€‚ ä½†æ˜¯å…¶å®è¿™æ˜¯ä¸ªå¾ˆä¼Ÿå¤§çš„å®šç†$233$ å¥½çš„ï¼Œé‚£ä¹ˆä»è€Œå°±ä¼šæœ‰ä¸€äº›ç¥å¥‡çš„æ¨è®ºï¼š æ¨è®ºä¸€ ï¼š å¯¹äºä¸€ä¸ªå…ƒç´ $a \in G$ï¼Œ$G$æ˜¯ä¸€ä¸ªç¾¤ï¼Œé‚£ä¹ˆ$o(a) | |G|$ $Proof.$ å› ä¸º$o(a) = |$$&lt;$$a$$&gt;$$|$ï¼Œç”±æˆ‘ä»¬åˆšåˆšè¯æ˜çš„å®šç†å¯ä»¥å¾—å‡º$o(a) | |G|$ æ¨è®ºäºŒï¼šå¯¹ä»»æ„çš„$a \in G,a ^{|G|} = e$ $Proof.$ æ¯”è¾ƒæ˜¾ç„¶ï¼Œç”±æ¨è®ºä¸€å¯çŸ¥ã€‚ æ¨è®ºä¸‰ï¼šè‹¥$|G|$ä¸ºç´ æ•°ï¼Œåˆ™$G$æ˜¯å¾ªç¯ç¾¤ $Proof.$ è‹¥$a \neq e$ï¼Œé‚£ä¹ˆä¼šæœ‰$|$$&lt;$$a$$&gt;$$|$æ•´é™¤$|G|$ã€‚è€Œç”±äº$|G|$æ˜¯ä¸ªç´ æ•°ï¼Œæ‰€ä»¥åªæœ‰å¯èƒ½$|G| = |$$&lt;$$a$$&gt;$$|$ ï¼Œæ‰€ä»¥$G$æ˜¯ä¸ªå¾ªç¯ç¾¤ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬çœŸçš„è¦å»åšäº›å¥½ç©çš„äº†~ å®šç†$1$Â·$Fermat$å°å®šç†å¦‚æœ$p$ä¸ºç´ æ•°ï¼Œé‚£ä¹ˆå­˜åœ¨$a^{p-1} \equiv 1 (\mod p) $ $Proof. $è€ƒè™‘è´¨æ•°$p$ï¼Œè€ƒè™‘ç¾¤$G=${$1,2,\dots,p-1$}ï¼Œç¾¤çš„è¿ç®—å®šä¹‰ä¸ºå¯¹$p$å–æ¨¡çš„ä¹˜æ³•ï¼Œé‚£ä¹ˆç”±$Lagrange$å¯çŸ¥ï¼š $$\forall a\in G, a^{p-1}=1(\mod p)$$ å®šç†2Â·$Euler$å®šç†$a^{\phi(n)}=1 (\mod n)$ $Proof.$è€ƒè™‘$n\in N^{+}$ï¼Œè€ƒè™‘ç¾¤$G=$ {$1\leq x\leq n~|~gcd(x,n)=1$ },ç¾¤çš„è¿ç®—å®šä¹‰ä¸ºå¯¹$n$å–æ¨¡çš„ä¹˜æ³• é‚£ä¹ˆä¼šæœ‰$|G|=\phi(n)$ï¼Œä»è€Œæœ‰ï¼š $$\forall a\in G, a^{\phi(n)}=1 (\mod n)$$ æ²¡é”™ï¼Œè¯æ˜ååˆ†çš„ç®€æ´ç¾è§‚ã€‚ ä½œè€…è¢«è¿™ç§ç¥å¥‡çš„è¯æ˜ç»™æŠ˜æœäº†$stO$.]]></content>
      <tags>
        <tag>æŠ½è±¡ä»£æ•°-ç¾¤è®º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BSGS-JuniorÂ·BSGSç®—æ³•åˆæ¢]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F06%2FBSGS-junior%2F</url>
    <content type="text"><![CDATA[$\rm{0x01}$ $\mathcal{Preface}$$\rm{BSGS}(Baby~Step~Giant~Step)$, å¤§æ­¥å°æ­¥æ³•ã€‚å½“ç„¶ä¹Ÿä¼šè¢«å«åšæ‹”å±±ç›–ä¸–ã€åŒ—ä¸Šå¹¿æ·±ç®—æ³•â€¦â€¦å’³ï¼Œè¿™å¹¶ä¸é‡è¦ã€‚å½¢å¼åŒ–åœ°è®²ï¼Œ $\rm{BSGS}$ç®—æ³•ä¸»è¦ç”¨æ¥è§£å†³ä»¥ä¸‹é—®é¢˜ : ç»™å®šè´¨æ•°$p$, æ•´æ•°$a, b$, $(a, p)=1$.æ±‚æœ€å°çš„éè´Ÿæ•´æ•°$x$, ä½¿å¾—$a^xâ‰¡ b~(\mod p)$ è€Œé¦–å…ˆæˆ‘ä»¬çŸ¥é“çš„ï¼Œæ˜¯ç”±æ¬§æ‹‰å®šç†$a ^{\varphi(p)} â‰¡ 1 ~(\mod p)â€‹$ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜çŸ¥é“$a^0=1â‰¡1 ~(\mod p)â€‹$ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªæ–­è¨€ï¼š å¦‚æœæ–¹ç¨‹$a^xâ‰¡ b~(\mod p)â€‹$æœ‰æœ€å°éè´Ÿæ•´æ•°è§£ï¼Œé‚£ä¹ˆæœ€å°éè´Ÿæ•´æ•°è§£ä¸€å®šåœ¨$[0, \varphi(p))â€‹$ä¸­ $\qquad \qquad(1) â€‹$ æ­¤å¤„è‚‰çœ¼å¯ä»¥çœ‹å‡ºå…¶å¾ªç¯èŠ‚ä¸º$\varphi(p)$ï¼Œä¸å†è¯æ˜ã€‚ ä¹‹åæˆ‘ä»¬å°†ä»¥æ­¤ä¸ºåŸºç¡€è¿›è¡Œç±»ä¼¼åˆ†å—çš„æ“ä½œâ€”â€” $\rm{0x02~~Baby~Step~Giant~Step}$é¦–å…ˆæˆ‘ä»¬è®°$n=\sqrt {\varphi(p)}$ï¼Œé‚£ä¹ˆ$\forall x \in [0, \varphi(p))$, $x = i\times m+j$, $i \leq \lfloor \frac{pâˆ’1-m}{m} \rfloor,~~ 0â‰¤j &lt;m$ ã€‚é‚£ä¹ˆå¯¹äºåŸæ–¹ç¨‹æˆ‘ä»¬å¯ä»¥æŠŠå…¶æ”¹ä¸ºï¼š$$a^{i\cdot n+j}â‰¡ b~(\mod p)$$ç§»ä¸€ä¸‹é¡¹å°±å¯ä»¥å˜æˆ$$a^j â‰¡b \cdot a^{-i\cdot n} (\mod p)$$é‚£ä¹ˆç°åœ¨æˆ‘ä»¬çš„ç­–ç•¥æ˜¯ç®—å‡ºæ‰€æœ‰$a^j$æ¥ï¼Œåœ¨$\mod p$ æ„ä¹‰ä¸‹è§‚å¯Ÿæ˜¯å¦æœ‰ä¸€ä¸ª$i$ä½¿å¾—$a^j â‰¡b \cdot a^{-i\cdot n} (\mod p)$ã€‚æˆ‘ä»¬ç§°å·¦è¾¹æšä¸¾$a^j$å«åšå°æ­¥$(\rm{Baby~Step})$ï¼Œ ç§°å³è¾¹æšä¸¾$b \cdot a^{-i\cdot n}$å«åšå¤§æ­¥$~(\rm{Giant~Step})$ã€‚ é‚£ä¹ˆå…¶å®ç®—æ³•æµç¨‹å¾ˆæ˜æ™°äº†ï¼Œæˆ‘ä»¬åªéœ€è¦å¾ªç¯ä¸¤æ¬¡ã€ç¬¬ä¸€æ¬¡è®°å½•çš„$a^j$ç”¨å“ˆå¸Œè¡¨ï¼ˆ$STL$è‡ªå¸¦$unordered$_ $map$ï¼‰è®°å½•ä¸€ä¸‹å³å¯ã€‚ 123456789101112131415161718inline LL expow(LL a, LL b, LL p)&#123; LL res = 1 ; while (b)&#123; if (b &amp; 1) (res *= a) %= p ; (a *= a) %= p, b &gt;&gt;= 1 ; &#125; return res % p ;&#125;inline void bsgs(LL x, LL y, LL p)&#123; P = ceil(sqrt(p)), Hash.clear(), Q = expow(x, -P + 2 *(p - 1), p) ; //a ^ (p-1) = 1 (mod p) =&gt; Q = a^(-P) = a ^(-P + p -1) ; for (LL i = 1, j = 0 ; j &lt; P ; ++ j, (i *= x) %= p) if (!Hash.count(i)) Hash[i] = j ; // Push them into hash_table for (LL i = y, j = 0 ; j &lt;= P ; ++ j, (i *= Q) %= p) if (Hash.count(i))&#123; cout &lt;&lt; Hash[i] + j * P &lt;&lt; endl ; return ; &#125; cout &lt;&lt; "-1" &lt;&lt; endl ;&#125; å…¶ä¸­ç»†èŠ‚è¿˜æ˜¯æœ‰çš„ï¼š è®¡ç®—sqrtæ—¶è¦ä¸Šå–æ•´ã€‚ æˆ‘ä»¬åœ¨æ±‚$a^{-i\cdot n}â€‹$æ—¶ç”¨çš„åº•å˜é‡éœ€è¦ç”±è´¹é©¬å°å®šç†æ±‚å¿«é€Ÿå¹‚å¾—å‡ºã€‚ä½†æ˜¯æ­¤æ—¶æŒ‡æ•°ä¸Šå¯èƒ½ä¸ºè´Ÿæ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©åŠ ä¸Šä¸€ä¸ªæ¨¡æ•°ï¼Œä¸å½±å“ç»“æœã€‚ ä¸¤æ¬¡å¾ªç¯æšä¸¾çš„è¾¹ç•Œè¦æ³¨æ„æœ‰çš„æ˜¯$\leq$æœ‰çš„æ˜¯$&lt;$ ç®—æ³•è¿˜æ²¡å¼€å§‹æ—¶ï¼Œè¦åˆ¤æ–­æœ¬èº«$a$æ˜¯å¦å¯ä»¥è¢«$P$æ•´é™¤ã€‚å¦‚æœä¸ç‰¹åˆ¤è¿™ç§æƒ…å†µçš„è¯ï¼Œæˆ‘ä»¬ä¸Šé¢ä»£ç ä¸­çš„Qå°±ä¼š=0ï¼Œä»è€Œåœ¨ä¸‹é¢çš„ç¬¬äºŒä¸ªå¾ªç¯å¤„å‡ºé”™â€”â€”æˆ‘ä»¬çš„hash[i]å’Œjä¸èƒ½åŒæ—¶ä¸º$0$ï¼Œä»è€Œè¾“å‡ºé”™è¯¯çš„ç­”æ¡ˆã€‚ $\rm{0x03}$ ä¾‹é¢˜$T1~$$LuoguP4028$ è£¸é¢˜ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šå‘â€¦â€¦æˆ–è€…è¯´ä¸Šé¢åˆ—ä¸¾çš„ç»†èŠ‚éƒ½æ¶µç›–äº†qaq 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;cmath&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#include&lt;tr1/unordered_map&gt;#define LL long longusing namespace std ; using namespace tr1 ; int T ;LL A, B, M, P, Q ; unordered_map &lt;LL, LL&gt; Hash ;inline LL expow(LL a, LL b, LL p)&#123; LL res = 1 ; while (b)&#123; if (b &amp; 1) (res *= a) %= p ; (a *= a) %= p, b &gt;&gt;= 1 ; &#125; return res % p ;&#125;inline void bsgs(LL x, LL y, LL p)&#123; P = ceil(sqrt(p)), Hash.clear(), Q = expow(x, -P + 2 *(p - 1), p) ; //a ^ (p-1) = 1 (mod p) =&gt; Q = a^(-P) = a ^(-P + p -1) ; for (LL i = 1, j = 0 ; j &lt; P ; ++ j, (i *= x) %= p) if (!Hash.count(i)) Hash[i] = j ; // Push them into hash_table for (LL i = y, j = 0 ; j &lt;= P ; ++ j, (i *= Q) %= p) if (Hash.count(i))&#123; cout &lt;&lt; Hash[i] + j * P &lt;&lt; endl ; return ; &#125; cout &lt;&lt; "Couldn't Produce!" &lt;&lt; endl ;&#125;inline LL qr()&#123; LL res = 0 ; char c = getchar() ; while (!isdigit(c)) c = getchar() ; while (isdigit(c)) res = (res &lt;&lt; 1) + (res &lt;&lt; 3) + c - 48, c = getchar() ; return res ;&#125;int main()&#123; cin &gt;&gt; T ; while (T --)&#123; M = qr(), A = qr(), B = qr() ; if ((!(A % M == 0 &amp;&amp; B))) bsgs(A, B, M) ; else cout &lt;&lt; "Couldn't Produce!" &lt;&lt; endl ; &#125; return 0 ;&#125; $T2~$ $TJOI2007~Cute~Primeâ€‹$ æœ€è£¸æœ€è£¸çš„ã€æ— ç‰¹åˆ¤çš„é¢˜â€¦â€¦å¯ä»¥æ°´ä¸€ä¸‹åŒå€ç»éªŒã€‚ $\mathfrak{writter: pks}$]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>BSGS/exBSGS</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LCT's Junior Intro]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F04%2FLCT-s-Junior-Intro%2F</url>
    <content type="text"><![CDATA[$\rm{0x01}$ é—²è¯ Â· $LCT$çš„ç”¨é€”ä»¥åŠå…·ä½“æ€è·¯å’³ï¼Œå…¶å®åœ¨æˆ‘æœ€è¿‘åªæ˜¯æµ…æµ…åœ°å­¦äº†ä¸€éƒ¨åˆ†çš„åŸºç¡€ä¸Šï¼Œçªè§‰å¾—$LCT$å…¶å®å°±æ˜¯ä¸€ä¸ªç”¨æ¥ç»´æŠ¤æ£®æ—è¿é€šæ€§çš„ã€‚ å—¯â€¦â€¦å› ä¸ºå…¶ç‹¬ç‰¹çš„æ€§è´¨æ‰€ä»¥ä¹Ÿå¯ä»¥é¡ºä¾¿ç»´æŠ¤å¥½å¤šä¸œè¥¿ï¼Œä»€ä¹ˆé“¾ä¸Šçš„æœ€å¤§å€¼å•Šï¼Œé“¾ä¸Šçš„æƒå€¼å’Œå•Šâ€¦â€¦éƒ½å¯ä»¥ç»´æŠ¤â€”â€”æˆ–è€…è¯´ï¼ŒLCTæ˜¯æ›´åŠ å…¨èƒ½çš„æ ‘å‰–ã€‚ ä½†å…¶å®å§â€¦â€¦$LCT$æ‰“æ¿å­æ˜¯å¾ˆç®€å•çš„ï¼Œä½†æ˜¯çœŸæ­£ç†è§£å´ä¸€ç‚¹å„¿ä¹Ÿä¸ç®€å•ã€‚å› ä¸ºæœ¬èº«$splay$å°±å¾ˆéº»çƒ¦äº†ï¼Œå†µä¸”$splay$ä¹‹å‰ä¸€ç›´ç”¨äºç»´æŠ¤æ•°åˆ—ã€‚è¦çŸ¥é“ï¼Œæ­¤å¤„çš„$splay$å¯æ˜¯ä½œä¸ºè¾…åŠ©æ ‘ï¼Œç»´æŠ¤ä¸€æ•´ä¸ªæ£®æ—ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒåºåˆ—ä¸­å‡ ä¹å…¨éƒ¨æ“ä½œâ€”â€”è¿™å°±å¤§å¤§å¢é«˜äº†ç†è§£éš¾åº¦ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ æ›¾ç»è®¤ä¸ºå·²ç»éš¾ä»¥ç†è§£ã€æˆ–è€…è¯´ä¸å¯ä»¥åšçš„ã€æ¯”è¾ƒå¤æ‚çš„åŒºé—´ç¿»è½¬$Luogu3391$ï¼Œåœ¨$LCT$é‡Œé¢æœ‰ååˆ†å…¨é¢çš„æ¶‰åŠï¼Œä½†æ˜¯è¢«ç²¾ç®€åˆ°äº†åªæœ‰ä¸¤è¡Œæ˜¯ç”¨æ¥æè¿°è¿™ä¸ªå†…å®¹çš„ã€‚æ˜¾è€Œæ˜“è§çš„æ˜¯ï¼Œ$LCT$è™½ç„¶å¸¸æ•°ååˆ†çš„å¤§ï¼Œä½†ä»£ç ååˆ†çš„çŸ­ï¼Œæ¯”ä¸€æ£µå®Œæ•´çš„å¹³è¡¡æ ‘çŸ­äº†ä¸å°‘ï¼ˆå®æµ‹50+è¡Œï¼‰ï¼Œä¸$FFT$ä¸€æ ·å…·æœ‰ç€åä¸½çš„å¯è§‚èµæ€§ï¼Œä½†æ˜¯éšè—åœ¨ä¹‹åçš„æ€ç»´éš¾åº¦åŒæ ·ä¸å¯å°è§‘ã€‚ ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ˜¯ä¸æ˜¯å­¦çš„å¤ªè‰ç‡ã€å¤ªæµ®èºäº†å‘¢ï¼Ÿå¿«é¤å¼åœ°å­¦å®Œ$LCT$ï¼Œç½‘ä¸Šçš„æ¯ä¸€ç¯‡åšå®¢éƒ½åŒ…æ•™åŒ…ä¼šã€‚ä½†æ˜¯æˆ‘ä»Šå¤©è¦æ•´ç†çš„ï¼Œæ˜¯å¯¹äº$LCT$çœŸæ­£çš„ç†è§£ã€‚å¸Œæœ›å„ä½çœ‹åˆ°è¿™ç¯‡æ‹™ä½œçš„äººå¯ä»¥è·å¾—ä¸€äº›ä»€ä¹ˆã€‚ $\rm{0x02}$ é—²è¯ Â· å…³äº$\rm{splay}$é“ç†æˆ‘éƒ½æ‡‚ï¼Œè¦æƒ³åŠ¨æ€æ‹†åˆ ä¸€äº›ä¸œè¥¿ï¼Œè¾…åŠ©æ ‘çš„å½¢æ€å¯ä»¥æ”¹å˜æ˜¯å…ˆå†³æ¡ä»¶ã€‚çœ‹ä¸Šå»å¹³è¡¡æ ‘å¥½åƒæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯ï¼Œé€‰å“ªä¸ªä½œä¸ºè¾…åŠ©æ ‘å‘¢ï¼Ÿåå®«ä½³ä¸½ä¸‰åƒæˆ‘è¯¥ç¿»è°çš„ç‰Œå­å‘¢ å†å²çš„é‡ä»»æœ€åè½åˆ°äº†$\rm{splay}â€‹$çš„èº«ä¸Šã€‚ç„¶å$\rm{splay}â€‹$ä»–å±…ç„¶ï¼š ä»–ç”šè‡³è¿˜ï¼š â€¦â€¦ å¥½å§ï¼Œç”±äºæŸäº›rqyä¹Ÿä¸çŸ¥é“çš„åŸå› ï¼Œå¦‚æœä¸ç”¨$\rm{splay}$çš„è¯ï¼Œå¤æ‚åº¦æ˜¯å‡æ‘Š$\Theta(\rm{nlog^2n})$, è€Œç”¨$\rm{splay}$å°±å¯ä»¥åšåˆ°å‡æ‘Š$\Theta(\rm{nlogn})$ â€¦â€¦ä½†äº‹å®ä¸Šï¼Œsplayç¡®å®æœ‰ä»–ç‹¬ç‰¹çš„æ€§è´¨ï¼Œæ¯”å¦‚æ—‹è½¬åˆ°æ ¹å•Šä¹‹ç±»çš„ï¼Œæ¯”èµ·å…¶ä»–ç§ç±»çš„å¹³è¡¡æ ‘è€Œè¨€ï¼Œæ›´åŠ é€‚åˆ$LCT$ $\rm{0x03}$ $LCT$çš„æ€è·¯å’ŒåŸºç¡€æ“ä½œä¸€ ä¸»è¦æ€è·¯ä¸»è¦æ€è·¯å˜›â€¦â€¦å¤§æ¦‚æ˜¯åŸºäºå®é“¾å‰–åˆ†çš„æ“ä½œã€‚ æœ´ç´ çš„æ ‘å‰–æ˜¯é‡é“¾å‰–åˆ†ï¼Œå¤§ä½“ä¸Šå°±æ˜¯å°†æ•´æ£µæ ‘çš„é“¾åˆ’åˆ†ä¸ºè½»è¾¹å’Œé‡é“¾ï¼Œè¿ç”¨å·§å¦™çš„æ€§è´¨åšåˆ°$log$çº§åˆ«ã€‚è€Œé—æ†¾çš„æ˜¯$LCT$ç»´æŠ¤çš„æ˜¯æ£®æ—çš„è¿é€šæ€§ï¼Œæ‰€ä»¥åªèƒ½é‡‡ç”¨å®é“¾å‰–åˆ†ã€‚ è€Œå®é“¾å‰–åˆ†å¤§ä½“ä¸Šå°±æ˜¯æŠŠè¾¹åˆ†ä¸ºè™šè¾¹å’Œå®è¾¹ã€‚å…¶ä¸­å®è¾¹ä¸²è”èµ·ä¸€ä¸ªè”é€šå—ï¼ŒåŒä¸€ç»„å®è¾¹å­˜åœ¨ã€ä¸”ä»…å­˜åœ¨äºä¸€æ£µ$\rm{splay}$ä¸­ã€‚$\rm{splay}$å’Œ$\rm{splay}$ä¹‹é—´ç”±è™šè¾¹ç›¸è¿ã€‚ å®é“¾å‰–åˆ†çš„å¥½å¤„å‘¢ï¼Ÿåœ¨äºå®é“¾å‰–åˆ†æ˜¯ä¸€ç§åŠ¨æ€å‰–åˆ†ï¼Œä»–å¯ä»¥éšæ„æ”¹å˜è¾¹çš„è™šå®å±æ€§ã€‚è€Œæ˜¾ç„¶ï¼Œé‡é“¾å‰–åˆ†ç”±äºæœ‰ç€è¶³å¤Ÿçš„ç†è®ºä¾æ®å’Œé€»è¾‘æ¨æ¼”ï¼Œæ‰€ä»¥è½»é‡é“¾æ˜¯éš¾ä»¥æ›´æ”¹ï¼Œæˆ–è€…è¯´ï¼Œä¸å¯æ›´æ”¹çš„ã€‚Soï¼Œå®é“¾å‰–åˆ†ä¸ºåŠ¨æ€æ ‘çš„åŠ¨æ€æ‰“ä¸‹äº†åŸºç¡€ã€‚ é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ª$LCTâ€‹$æ˜¯å¦‚ä½•å®šä¹‰çš„: é¦–å…ˆï¼Œä¸€æ£µ$LCTâ€‹$ç®¡æ§çš„æ˜¯ä¸€å¯¹åˆ†æ•£çš„ç‚¹ï¼Œç‚¹ä»¥å‡ æ£µåˆ†æ•£çš„$splayâ€‹$çš„å½¢å¼èšé›†ã€‚èµ·åˆæ•´æ£µ$LCTâ€‹$æ˜¯æ²¡æœ‰ä»»ä½•è”ç³»çš„ï¼Œå„è‡ªä¸ºæˆ˜ï¼Œå„è‡ªä¸ºæ ¹ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥ä¼šçœ‹åˆ°çš„$accessâ€‹$ã€$makerootâ€‹$ç­‰æ“ä½œï¼Œéƒ½æ˜¯åœ¨è‡ªå·±çš„è”é€šå—å„¿å†…éƒ¨è¿›è¡Œçš„æ“ä½œã€‚æ¢å¥è¯è®²ï¼Œ$LCTâ€‹$ç»´æŠ¤çš„æ˜¯æœ‰æ ¹æ£®æ—ï¼Œå³ç»„æˆæ£®æ—çš„æ¯ä¸ªè”é€šå—éƒ½æœ‰å…¶å”¯ä¸€çš„æ ¹ã€‚ å®è¾¹ä¸²è”èµ·ä¸€ä¸ªè”é€šå—ï¼ŒåŒä¸€ç»„å®è¾¹å­˜åœ¨ã€ä¸”ä»…å­˜åœ¨äºä¸€æ£µ$\rm{splay}$ä¸­ã€‚$\rm{splay}$å’Œ$\rm{splay}$ä¹‹é—´ç”±è™šè¾¹ç›¸è¿ã€‚åªæœ‰å®è¾¹æ˜¯æœ‰æ•ˆçš„ï¼Œè™šè¾¹å¯ä»¥è¢«è®¤ä¸ºä¸å­˜åœ¨ã€‚ä½†æ˜¯ä¸¤ç§è¾¹éƒ½æ²¡æœ‰ç”¨åˆ°æ˜¾å¼å­˜å‚¨ï¼Œéƒ½æ˜¯é€šè¿‡splayä¸­çš„$Son$æ•°ç»„å’Œ$Fa$æ•°ç»„è®¿é—®çš„ã€‚ä½†è™šè¾¹å’Œå®è¾¹çš„å­˜å‚¨æœ‰åŒºåˆ«ï¼š è™šè¾¹æ˜¯è®¤çˆ¶ä¸è®¤å­ï¼Œå³å¦‚æœ$Fa[x]==y$ï¼Œé‚£ä¹ˆ$y$ä¸å­˜$x$è¿™ä¸ªå„¿å­ï¼Œä½†æ˜¯$x$å­˜$y$è¿™ä¸ªçˆ¶äº²ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†å¯ä»¥$Access$â€”â€”å› ä¸ºå…¶å®åœ¨$Access$çš„å­å‡½æ•°$splay$é‡Œï¼Œå‘æŒ¥ä½œç”¨çš„å®é™…ä¸Šæ˜¯$Fa$æŒ‡é’ˆã€‚ å®è¾¹æ˜¯å®Œæ•´çš„åŒå‘å­˜å‚¨ã€‚ $\rm{splay}$ä¸­ç»´æŠ¤çš„æ˜¯ä¸€æ¡ä»å­˜å‚¨ä¸Šåˆ°ä¸‹æŒ‰åœ¨åŸæ ‘ä¸­æ·±åº¦ä¸¥æ ¼é€’å¢çš„è·¯å¾„ï¼Œä¸”ä¸­åºéå†$\rm{splay}$å¾—åˆ°çš„æ¯ä¸ªç‚¹çš„æ·±åº¦åºåˆ—ä¸¥æ ¼é€’å¢ã€‚æ¢å¥è¯è®²ï¼Œä¸€ä¸ª$\rm{splay}$é‡Œé¢ä¸ä¼šå‡ºç°åœ¨åŸè”é€šå—å„¿ï¼ˆæ ‘ï¼‰ä¸­æ·±åº¦ç›¸åŒçš„ä¸¤ä¸ªç‚¹ã€‚åœ¨ä¸€æ£µ$\rm{splay}$ä¸­ï¼Œé”®å€¼å°±æ˜¯åŸæ ‘ä¸­çš„æ·±åº¦ã€‚ å¦‚æœ$x$æ˜¯å®ƒæ‰€åœ¨$splay$çš„æœ€å·¦è¾¹çš„ç‚¹ï¼Œé‚£ä¹ˆå®ƒåœ¨åŸæ£®æ—é‡Œçš„çˆ¶äº²æ˜¯$x$æ‰€åœ¨$splay$çš„æ ¹çš„$fa$, å¦åˆ™å°±æ˜¯$x$åœ¨$splay$ä¸Šçš„å‰é©±. äºŒ åŸºç¡€æ“ä½œ$emm$æ‰€è°“åŸºç¡€æ“ä½œå¤§æ¦‚å°±æ˜¯æ¯ä¸ªç”¨åˆ°$LCT$çš„é¢˜å‡ ä¹éƒ½è¦ç”¨åˆ°çš„æ“ä½œï¼Œæˆ‘ä»¬è¿™ä¸ªåœ°æ–¹å…ˆæŠŠç‚¹$n$æ‰€åœ¨è”é€šå—å„¿å†…çš„æ ‘çš„æ ¹è®°ä½œ$root(n) $ï¼ŒæŠŠä¸$n$ä»¥å®è¾¹ç›¸è¿çš„å„¿å­è®°ä½œå®å„¿å­ã€‚ $\rm{1}$ $Access$ è¿™ä¸ªæ“ä½œæœ‰ç€å¾ˆè¿·çš„æ€§è´¨ï¼Œå…¶æ—¶é—´å¤æ‚åº¦æ˜¯å‡æ‘Š$\log n$çš„ã€‚è€Œè¿™ä¸ªæ“ä½œçš„ç›®çš„æ˜¯$Access(n)$è¡¨ç¤ºä»$root(n)$å‘$n$æ‰“é€šä¸€æ¡å®é“¾ï¼Œå¹¶ä»¥$n$ç‚¹ä¸ºæœ€æ·±åº¦æœ€å¤§çš„ç‚¹ã€$root(n)$ä¸ºæ·±åº¦æœ€å°çš„ç‚¹å½¢æˆä¸€æ£µ$\rm{splay}$ã€‚ ä¸éš¾çœ‹å‡ºï¼Œè¿™ä¸ªæ“ä½œå…¶å®è·Ÿæ˜¯ä¸€ç§é€»è¾‘å±‚é¢çš„è‡ªæˆ‘è°ƒæ§ï¼Œæ²¡æœ‰æ”¹å˜åŸæ ‘çš„ç»“æ„ã€‚ æˆ‘ä»¬æ€è€ƒï¼Œå¦‚æœæ­¤æ—¶æˆ‘ä»¬$Accessâ€‹$å®Œç‚¹$nâ€‹$ä¹‹åï¼Œç†è®ºä¸Šæ¥è®²ï¼Œ$nâ€‹$ç‚¹åº”è¯¥ä¸å†æœ‰å®å„¿å­äº†â€”â€”æ˜¾ç„¶ï¼Œå¦‚æœæœ‰å®å„¿å­çš„è¯ï¼Œ$splayâ€‹$ä¸­æ˜¯åº”è¯¥åŒ…å«è¿™ä¸ªå®å„¿å­çš„â€”â€”è€Œè¿™å°±ä¸ç¬¦åˆ$nâ€‹$æ˜¯$\rm{splay}â€‹$ä¸­æ·±åº¦æœ€å¤§çš„ç‚¹çš„æ€§è´¨äº†ã€‚è€Œå› ä¸ºåœ¨splayä¸­ï¼Œç‚¹æ˜¯ä»¥æ·±åº¦ä¸ºé”®å€¼çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ¯æ¬¡ç æ‰$\rm{splay}â€‹$ä¸­çš„å³å„¿å­â€”â€”å³ç æ‰åŸæ¥çš„å®å„¿å­ï¼Œå¹¶æŠŠåˆšåˆšè¯ç”Ÿçš„$\rm{splay}â€‹$è¿ä¸Šã€‚ 1234inline void Access(int x) &#123; for (int qwq = 0 ; x ; x = T[qwq = x].F) splay(x), rc = qwq, update(x) ; &#125; ç„¶åè¿™å°±æ˜¯$Accessâ€‹$äº†ã€‚ $2 ~~Make~ Root~$ $make_rootâ€‹$å…ˆä»åŸæ¥çš„æ ¹å‘$nâ€‹$æ‰“é€šä¸€æ¡è·¯å¾„ï¼Œç„¶å$splayâ€‹$ä¸Šå»ï¼Œæœ€å$reverseâ€‹$ä¸€ä¸‹ã€‚æ­¤å¤„ç”±äºä¸€å¼€å§‹$nâ€‹$çš„æ·±åº¦æœ€å¤§ï¼Œ$splayâ€‹$ä¹‹åæ·±åº¦ä¾æ—§æœ€å¤§ï¼Œä½†æ­¤æ—¶$nâ€‹$æ˜¯$splayâ€‹$çš„æ ¹ï¼Œæ‰€ä»¥$reverse(n)â€‹$å°±ç›¸å½“äºç¿»è½¬äº†æ•´æ¡æ ‘ä¸Šçš„é“¾ï¼Œé‚£ä¹ˆç¿»è½¬ä¹‹åï¼Œ$nâ€‹$çš„æ·±åº¦å°±å˜æˆäº†æœ€å°ï¼Œäºæ˜¯å°±æ˜¯è¿™ä¸ªè”é€šå—å„¿çš„æ ¹èŠ‚ç‚¹äº†ã€‚ 1234567891011121314151617181920#define lc T[x].Son[0]#define rc T[x].Son[1]struct LCT&#123;int F, Son[2], R, S ;&#125;T[MAXN] ; inline void splay(int x) ;inline void reverse(int x) &#123; lc ^= rc ^= lc ^= rc, T[x].R ^= 1 ;&#125;inline void push_down(int x) &#123; if (!T[x].R) return ; T[x].R = 0 ; if (lc) reverse(lc) ; if (rc) reverse(rc) ; &#125;inline void Rooten(int x) &#123; Access(x), splay(x), reverse(x) ; &#125;inline void splay(int x)&#123;int qwq = x ; stk.push(qwq) ;while(check(qwq)) qwq = T[qwq].F, stk.push(qwq) ;while(!stk.empty()) push_down(stk.top()), stk.pop() ;while(check(x))&#123;int fa = T[x].F, g_fa = T[fa].F ;if (check(fa)) rotate((T[g_fa].Son[1] == fa) == (T[fa].Son[1] == x) ? fa : x) ; rotate(x) ;&#125;&#125; æ­¤å¤„$splay$ä¸­ç”±äºè¦ä¸‹æ”¾æ ‡è®°ï¼Œä¿è¯æ ‘çš„å½¢æ€æ˜¯æ­£ç¡®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ä¸€ä¸ª$stack$å­˜ä¸€ä¸‹ï¼Œé¡ºåºä¸‹æ”¾æ ‡è®°ã€‚ $3 ~Merge~$ æ­¤å¤„çš„$Merge(x, y)$çš„æ„ä¹‰æ˜¯ï¼Œæ‹‰èµ·$x,y$ä¸­é—´çš„é“¾ï¼Œå½¢æˆä¸€ä¸ª$splay$ã€‚è¿™é‡Œå°±ç›´æ¥$Mkroot$ä¸€éï¼Œç„¶å$Access$å³å¯ã€‚è®©å“ªä¸ªç‚¹å½“æ ¹åº”è¯¥éƒ½å¯ä»¥ï¼Œåªä¸è¿‡å¤š$splay$å‡ æ¬¡å¯ä»¥ä¿è¯ä¼˜ï¼ˆæ¯’ï¼‰ç§€ï¼ˆç˜¤ï¼‰çš„å¤ï¼ˆå¤§ï¼‰æ‚ï¼ˆå¸¸ï¼‰åº¦ï¼ˆæ•°ï¼‰ã€‚ 1inline void Merge(int x, int y) &#123; Rooten(x), Access(y), splay(y) ; &#125; $4~~Link~\&amp;~Cut$ å¦‚æœä¿è¯$Link$å’Œ$Cut$éƒ½æ˜¯åˆæ³•çš„æ“ä½œçš„è¯ï¼Œ$Link$ç›´æ¥è¿ï¼Œ$Cut$ç›´æ¥åˆ å³å¯ã€‚ 12inline void Link(int x, int y)&#123; Rooten(x) ; T[x].F = y ;&#125;inline void Cut(int x, int y)&#123; Merge(x, y) ; T[x].F = T[y].Son[0] = 0 ;&#125; æ­¤å¤„$Link$å¿…é¡»å…ˆ$Mkroot$ä¸€ä¸‹ï¼Œå¦åˆ™æ ‘é“¾å°±æ–­äº†ã€‚è¿çš„æ˜¯è™šè¾¹ï¼ˆå› ä¸ºè¿å®è¾¹å°±ä¼šæ”¹å˜åŸæ¥$splay$çš„å‰²æ®ï¼‰ï¼›$Cut$å¿…é¡»å…ˆ$split$ä¸€ä¸‹ï¼Œä¿è¯ä¸¤ä¸ªç‚¹ä¹‹é—´åœ¨åŒä¸€æ£µ$splay$ä¸­ï¼ŒåŠ ä¹‹æˆ‘ä»¬çš„$Merge$æ“ä½œä¸­ï¼Œä¸€å¼€å§‹æŠŠ$x$ç»™$mkroot$äº†ï¼Œå†æŠŠ$y$ç‚¹$splay$ä¸Šå»ï¼Œç›´æ¥å¯¼è‡´äº†ç°åœ¨$x$åº”è¯¥æ˜¯$y$çš„å­©å­â€”â€”äºæ˜¯å°±å¾ˆå¼€å¿ƒçš„ï¼Œå¯ä»¥ç›´æ¥$cut$äº†ã€‚ ä½†äº‹å®ä¸Šï¼Œå¤©ä¸é‚äººæ„â€¦â€¦æœ‰æ—¶å€™è¿™æ¡è¾¹å¹¶ä¸å­˜åœ¨ï¼Œç›²ç›®åˆ é™¤çš„è¯ä¼šå¯¼è‡´$GG$ï¼Œç›²ç›®è¿è¾¹çš„è¯ä¹Ÿä¼šå¯¼è‡´æ ‘çš„å½¢æ€çˆ†ç‚¸ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è¿›è¡Œä¸€æ³¢æ“ä½œâ€¦â€¦ $New-Link$ 12inline void Link(int x, int y)&#123; Rooten(x) ; if(Find(y) != x) T[x].F = y ;&#125;inline int Find(int x)&#123; Access(x), splay(x) ; while(lc) push_down(x), x = lc ; splay(x) ; return x ;&#125; æ­¤å¤„çš„æ„ä¹‰åœ¨äºï¼Œå¦‚æœæˆ‘ä»¬å‘ç°ä¸¤ä¸ªç‚¹åœ¨ä¸€ä¸ªå­æ ‘é‡Œé¢ï¼Œè¿æ¥å®ƒä»¬å°±ç ´åäº†æ ‘çš„æ€§è´¨ã€‚$Find$å°±æ˜¯æ— æ¯”æ™®é€šçš„$Find$ã€‚ã€‚ã€‚ã€‚233 ä½†è¦æ³¨æ„å•Šï¼Œ$Find$æ‰¾çš„æ˜¯åŸæ ‘ä¸­çš„æ ¹ï¼Œä¸æ˜¯$splay$ã€‚ç”±äºåŸæ ‘ä¸­æ ¹çš„æ·±åº¦ä¸€å®šæœ€å°ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯$splay$ä¸­æœ€é å·¦çš„ç‚¹â€¦â€¦æ‰€ä»¥ä¸æ–­æ‰¾å·¦å„¿å­ã€‚ å¤š$BB$ä¸€å¥ï¼Œè¿™ä¸ªåœ°æ–¹ä¸€å®šæ³¨æ„å•Šï¼$Find$åªæ”¹å˜äº†$splay$çš„å½¢æ€ï¼Œ$mkroot$æ”¹å˜çš„æ˜¯åŸæ ‘ä¸­çš„æ ¹ $New-Cut$ 12345inline void Cut(int x, int y)&#123; Rooten(x) ; if (Find(y) != x || T[y].Son[0] || T[y].F != x) return ; T[y].F = T[x].Son[1] = 0, update(x) ; &#125; æ­¤å¤„é¦–å…ˆæˆ‘ä»¬è¦åˆ¤ä¸€ä¸‹è¿™ä¸¤ä¸ªç‚¹æ˜¯ä¸æ˜¯ç›´æ¥ç›¸è¿ã€‚æ˜¯å¦ç›´æ¥ç›¸è¿â€¦â€¦åœ¨ä¸€æ£µ$splay$ä¸­çš„ä½“ç°ï¼Œè¦å…‹æœä¸¤ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€æ˜¯è¦åˆ¤æ–­æ˜¯å¦è¿é€šï¼Œè¿˜æ˜¯$Find$æ“ä½œã€‚ ä¹‹åæˆ‘ä»¬éœ€è¦åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ°å¥½ç›¸éš”ä¸€æ¡è¾¹â€”â€”æ³¨æ„ï¼Œé¦–å…ˆå› ä¸ºä»£ç ä¸­çš„$x$æ¯”$y$åœ¨åŸæ ‘ä½ç½®é ä¸Šï¼ˆ$Rooten$äº†$x$ï¼‰ï¼Œåœ¨$splay$ä¸­é å·¦ï¼Œé‚£ä¹ˆå¦‚æœ$y$æœ‰å·¦å„¿å­çš„è¯ï¼Œè¯´æ˜ä¸€å®šæœ‰$Depth(x) &lt; Depth(y\text{çš„å·¦å„¿å­ä»¬}) &lt; Depth(y)$ï¼Œå…¶ä¸­$Depth$è¡¨ç¤ºåŸæ ‘æ·±åº¦ã€‚é‚£ä¹ˆæ­¤æ—¶åŸæ ‘ä¸­$x$å’Œ$y$ä¹‹é—´ï¼Œä¸€å®šéš”ç€ä¸€äº›èŠ‚ç‚¹ã€‚è€ƒè™‘æ ‘çš„æ€§è´¨ï¼Œä¸¤ç‚¹ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€æ¡ç®€å•è·¯å¾„â€”â€”æ‰€ä»¥å½“$T[y].Son[0]$ä¸æŒ‡å‘$Null$æ—¶ï¼Œ$x$å’Œ$y$ä¹‹é—´æ²¡æœ‰ä¸€æ¡è¾¹ï¼Œä¸èƒ½ç›´æ¥$Cut$ã€‚ å‰©ä¸‹çš„å°±å¾ˆç®€å•äº†ï¼Œ$T[y].F$åº”è¯¥æ˜¯$x$ï¼Œå¦åˆ™ä¹Ÿä¸æ˜¯ç›´æ¥ç›¸è¿ã€‚ 5 $~Rotate$ä¸­çš„å‘ç‚¹ å‘ƒâ€¦â€¦å…¶å®å°±ä¸€å¤„è€Œå·²ã€‚å°±æ˜¯ï¼š 123456inline bool check(int x)&#123; return T[T[x].F].Son[0] == x || T[T[x].F].Son[1] == x ; &#125;inline void rotate(int x) &#123; int fa = T[x].F, g_fa = T[fa].F, W = x == T[fa].Son[1] ; if (check(fa)) T[g_fa].Son[T[g_fa].Son[1] == fa] = x ; T[x].F = g_fa ; T[fa].Son[W] = T[x].Son[W ^ 1], T[T[x].Son[W ^ 1]].F = fa, T[fa].F = x, T[x].Son[W ^ 1] = fa, update(fa), update(x) ;&#125; è¿™ä¸ªåœ°æ–¹$splay$åŒæ—‹åˆ¤æ–­ç¥–çˆ¶çš„æ—¶å€™ï¼Œä¸å†ç”¨$\rm{if(g_fa)}$ï¼Œè€Œæ˜¯ç”¨$\rm{if(check(fa))}$ã€‚åŸå› å¾ˆç®€å•ï¼Œæˆ‘ä»¬çš„è™šè¾¹ä¹Ÿæ˜¯æœ‰æŒ‡å‘çˆ¶äº²çš„æŒ‡é’ˆçš„ï¼Œä½†æ˜¯è¿æ¥ä¸¤ä¸ªä¸åŒçš„$splay$ å‰©ä¸‹çš„â€¦â€¦å¤§æ¦‚å°±æ²¡äº†å§â€¦â€¦ äºæ˜¯â€”â€” $\color{red}{C}\color{cyan}{o}\color{gold}{d}\color{green}{e}$1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;stack&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#define MAXN 300233#define lc T[x].Son[0]#define rc T[x].Son[1]#define rep(a, b, c) for(a = b ; a &lt;= c ; ++ a)using namespace std ;struct LCT&#123;int F, Son[2], R, S ;&#125;T[MAXN] ; stack &lt;int&gt; stk ;int base[MAXN], N, M, A, B, C, i ;inline int Find(int x) ;inline void splay(int x) ;inline void push_down(int x) ;inline void update(int x) &#123; T[x].S = T[lc].S ^ T[rc].S ^ base[x] ;&#125;inline void reverse(int x) &#123; lc ^= rc ^= lc ^= rc, T[x].R ^= 1 ;&#125;inline bool check(int x)&#123; return T[T[x].F].Son[0] == x || T[T[x].F].Son[1] == x ; &#125;inline void Access(int x) &#123; for (int qwq = 0 ; x ; x = T[qwq = x].F) splay(x), rc = qwq, update(x) ; &#125;inline void rotate(int x) &#123;int fa = T[x].F, g_fa = T[fa].F, W = x == T[fa].Son[1] ; if (check(fa)) T[g_fa].Son[T[g_fa].Son[1] == fa] = x ; T[x].F = g_fa ; T[fa].Son[W] = T[x].Son[W ^ 1], T[T[x].Son[W ^ 1]].F = fa, T[fa].F = x, T[x].Son[W ^ 1] = fa, update(fa), update(x) ;&#125;inline void splay(int x)&#123; int qwq = x ; stk.push(qwq) ; while(check(qwq)) qwq = T[qwq].F, stk.push(qwq) ; while(!stk.empty()) push_down(stk.top()), stk.pop() ; while(check(x))&#123; int fa = T[x].F, g_fa = T[fa].F ; if (check(fa)) &#123; rotate((T[g_fa].Son[1] == fa) == (T[fa].Son[1] == x) ? fa : x) ; rotate(x) ; &#125;&#125;inline void Rooten(int x) &#123; Access(x), splay(x), reverse(x) ; &#125;inline void split(int x, int y) &#123; Rooten(x), Access(y), splay(y) ; &#125;inline void Link(int x, int y)&#123; Rooten(x) ; if(Find(y) != x) T[x].F = y ;&#125;inline int Find(int x)&#123; Access(x), splay(x) ; while(lc) push_down(x), x = lc ; splay(x) ; return x ;&#125;inline void push_down(int x) &#123; if (!T[x].R) return ; T[x].R = 0 ; if (lc) reverse(lc) ; if (rc) reverse(rc) ; &#125;inline void Cut(int x, int y)&#123; Rooten(x) ; if (Find(y) != x || T[y].Son[0] || T[y].F != x) return ; T[y].F = T[x].Son[1] = 0, update(x) ; &#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M ; rep(i, 1, N) scanf("%lld", &amp;base[i]) ; rep(i, 1, M)&#123; scanf("%d%d%d", &amp;A, &amp;B, &amp;C) ; if (A == 0) split(B, C), printf("%d\n", T[C].S) ; else if (A == 1) Link(B, C) ; else if (A == 2) Cut(B, C) ; else splay(B), base[B] = C ; &#125; return 0 ;&#125; $\rm{0x00}$ åè®°å’Œå‚è€ƒå¯å†™å®Œäº†â€¦â€¦å—â€¦â€¦æ‰“ä¸ªè‚¥å®…å—çŠ’åŠ³çŠ’åŠ³è‡ªå·± æ€ä¹ˆè¯´å‘¢ï¼Œè‡ªä»æˆ‘å¼€å§‹å­¦$LCT$åˆ°æˆ‘å†™å®Œè¿™ç¯‡$blog$ä¸ºæ­¢ï¼Œæ˜¯æˆ‘ååˆ†éš¾ç†¬çš„æ—¶é—´ï¼Œæ€»æ—¶é•¿æ¥è¿‘ä¸€å‘¨ã€‚ä¸€å¼€å§‹çœ‹åˆ«äººå†™çš„$LCT$ï¼Œæƒ³å½“ç„¶åœ°ã€è‰ç‡åœ°ç†è§£äº†ç†è§£ï¼Œå°±å¼€å§‹æ‰“æ¿å­ï¼Œå¯¹$LCT$ä¸€ç›´æ˜¯æä¸ºè‚¤æµ…çš„è®¤è¯†ã€‚ç›´åˆ°å¼€å§‹å†™ï¼Œæ‰å‘ç°è‡ªå·±å“ªä¸ªåœ°æ–¹éƒ½ä¸ä¼šï¼Œç†è§£çš„åŠç”Ÿä¸ç†Ÿï¼Œæ€»ä¹‹å¾ˆæƒ¨â€¦â€¦ å†™åšå®¢çœŸæ˜¯ä¸€ä¸ªé™¶å†¶æƒ…æ“çš„è¿‡ç¨‹å•Šâ€¦â€¦åŒ…æ‹¬åšè¡¨æƒ…åŒ… åŠ æ²¹å§ï¼Œ$pks$ï¼ $\rm{Reference}$ $[1]$ :$Flash_Hu$çš„$blog$ $^{^{[\nearrow ]}}$ $[2]$ :æŸç¯‡è®ºæ–‡ï¼Œç»“åˆé£Ÿç”¨æ•ˆæœæ˜¾è‘— $^{^{[\nearrow]}}$ $\mathfrak{writter:pks}$]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>LCT-Link Cut Tree</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Intro]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F02%2F04%2FIntro-1%2F</url>
    <content type="text"><![CDATA[Hello, here is Orchidany, a high-school student from S.D., China. Algorithms, astrophysics, technology, thatâ€™s what I love. Perhaps sometimes Iâ€˜m fond of painting, music and modern art appreciation. Anyhow, recently my first mission is Olympiad in Informaticsï¼Œshorthanded for OI. And this blog is mainly gonna to record my Learning Steps. Although Iâ€™m a bit weak in OI by now, but I shall catch the glimmer and keep getting stronger! During daliy lives, I shall also write some about my own emotion, music &amp; artâ€¦it seems like Iâ€™m a chairwamrer in OI hhhhhâ€¦ See you soon in my articles ! Somthing Special Errrâ€¦About this ID _Orchidany_, there is a theory about that: My Chinese Id is çšæœˆåŠæ´’èŠ±ï¼Œ which is from the poem (Writter is myself) : é¹ƒä½è½è‹±æ»¡ï¼ŒæŸ³æ‹‚æºªç•”æ²™ã€‚å—åŸç•¥ç‚ŠçƒŸï¼Œæµ£å¥³å¾å½’å®¶ã€‚æ•…äººä»Šå®‰å¦ï¼Œæ¬²æ­Œå£åå“‘ã€‚ç¬”å¯’ä¸‹æ¢…å»ï¼ŒçšæœˆåŠæ´’èŠ±ã€‚ Soâ€¦â€¦Iâ€™ m glad to encounter you!]]></content>
      <categories>
        <category>æ‚è®°</category>
      </categories>
      <tags>
        <tag>ç¬”å°–ç”ŸèŠ±</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯å¹¶å †Â·å·¦åæ ‘ï¼ˆ1ï¼‰]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F01%2F27%2F%E5%B7%A6%E5%81%8F%E6%A0%91%2F</url>
    <content type="text"><![CDATA[å—¯â€¦å°±å½“ä½œæ˜¯å¤ä¹ äº†233â€¦æ—¶éš”å¥½å‡ ä¸ªæœˆï¼ˆå…¶å®å°±ä¸¤ä¸ªæœˆï¼‰æ‰æƒ³èµ·æ¥è¦æ•´ç†ã€‚ $\rm{0x01}$ å…³äºå·¦åæ ‘é¦–å…ˆæ˜¯æ•´ç†è‡ªå·±æƒ³å‡ºæ¥çš„å‡ ä¸ªæ¢— $\mathcal{To~be~(left) ~or~not ~to~be~(left), this~is ~a~question}$ å·¦åè¿˜æ˜¯å³åï¼Œè¿™æ˜¯ä¸ªé—®é¢˜ã€‚ï¼ˆå“ˆå§†é›·ç‰¹æ¢—ï¼‰ $Hell~!~Where~is~my~Left~Leaning~Tree?$ è¯¥æ­»ï¼Œæˆ‘çš„å·¦åæ ‘å‘å³åäº†ã€‚ å·¦åæ ‘æ˜¯1ä¸ªlogï¼Œå³åæ ‘ä¹Ÿæ˜¯1ä¸ªlogï¼Œé‚£æˆ‘å·¦å³éƒ½åæ˜¯ä¸æ˜¯å°±ä¼šæ›´å¿«ï¼ï¼ˆæ­å–œä½ å»ºå‡ºäº†ä¸€æ£µæ»¡äºŒå‰æ ‘ï¼‰ è®²ä¸ªé¬¼æ•…äº‹ï¼šæ¯æ£µæ ‘éƒ½æ˜¯ä¸‹åæ ‘ã€‚ å…¶å®ï¼Œå·¦è€³ç¦»å¿ƒè„æ›´è¿‘ï¼Œæ‰€ä»¥ç”œè¨€èœœè¯­éº»çƒ¦åˆå¹¶åˆ°å·¦åæ ‘é‡Œå§ã€‚ï¼ˆã€Šå·¦è€³ã€‹æ¢—ï¼‰ å¥½å§æˆ‘æ‰¿è®¤ä¸æ˜¯å¾ˆå¥½ç¬‘ å‘ï¼Œä¸‹é¢è¿›å…¥æ­£é¢˜ã€‚å·¦åæ ‘ï¼Œä¸€ç§å¯ä»¥åˆå¹¶çš„å †çŠ¶ç»“æ„ï¼Œæ”¯æŒ$insert/remove/merge$ç­‰æ“ä½œã€‚ç¨³å®šçš„æ—¶é—´å¤æ‚åº¦åœ¨$\Theta(\log n)$çš„çº§åˆ«ã€‚å¯¹äºä¸€ä¸ªå·¦åæ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œéœ€è¦ç»´æŠ¤çš„å€¼æœ‰$dist$å’Œ$value$ã€‚å…¶ä¸­$value$ä¸å¿…å¤šè¯´ï¼Œ$dist$è®°å½•è¿™ä¸ªèŠ‚ç‚¹åˆ°å®ƒå­æ ‘é‡Œé¢æœ€è¿‘çš„å¶å­èŠ‚ç‚¹çš„è·ç¦»ï¼Œå¶å­èŠ‚ç‚¹è·ç¦»ä¸º$0$ã€‚ é¦–å…ˆï¼Œä»–æœ‰ä»¥ä¸‹å‡ ä¸ªå–œé—»ä¹è§çš„æ€§è´¨ï¼š ä¸€ä¸ªèŠ‚ç‚¹çš„$value$å¿…å®šï¼ˆæˆ–å°äºï¼‰å·¦ã€å³å„¿å­çš„$value$ ï¼ˆå †æ€§è´¨ï¼‰ ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å„¿å­çš„$dist$ä¸å°äºå³å„¿å­çš„$dist$ ï¼ˆå·¦åæ€§è´¨ï¼‰ ä¸€ä¸ªèŠ‚ç‚¹çš„è·ç¦»å§‹ç»ˆç­‰äºå³å„¿å­$+1$ é‚£ä¹ˆè¿™å°±å¯ä»¥æ¨å‡ºä»¥ä¸‹æ€§è´¨ï¼š æ¨è®ºï¼šä»»ä½•æ—¶å€™ï¼ŒèŠ‚ç‚¹æ•°ä¸º$n$çš„å·¦åæ ‘ï¼Œè·ç¦»æœ€å¤§ä¸º$\log (n+1)-1$ $$\mathcal{Proof.}$$å¯¹äºä¸€æ£µè·ç¦»ä¸ºå®šå€¼$k$çš„æ ‘ï¼Œç‚¹æ•°æœ€å°‘æ—¶ï¼Œä¸€å®šæ˜¯ä¸€æ£µæ»¡äºŒå‰æ ‘ã€‚è¿™æ˜¯æ˜¾ç„¶çš„ã€‚å› ä¸ºå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæƒ³è¦æœ‰æœ€å°‘çš„å„¿å­ï¼Œé‚£ä¹ˆèµ·ç è¦åšåˆ°å·¦å„¿å­çš„æ•°é‡ç­‰äºå³å„¿å­çš„æ•°é‡ã€‚é‚£ä¹ˆå¯¹äºä»–çš„é€†å‘½é¢˜ä¹Ÿæ˜¯æˆç«‹çš„â€”â€”â€œè‹¥ä¸€æ£µå·¦åæ ‘çš„è·ç¦»ä¸º$k$ï¼Œåˆ™è¿™æ£µå·¦åæ ‘è‡³å°‘æœ‰$2^{k+1}-1$ä¸ªèŠ‚ç‚¹ã€‚â€æ‰€ä»¥ä¼šæœ‰$$n \geq 2^{k+1}-1\\ \log_2{(n+1)} \geq k+1\\ \log_2{(n+1)}-1 \geq k$$$$\mathcal{Q.E.D}$$ $emmm$è¿™å¯æ˜¯ä¸€ä¸ªå¾ˆç¾å¦™çš„æ€§è´¨å•Šã€‚ $\rm{0x02}~~$åŸºæœ¬æ“ä½œ $Merge$ è¿™æ˜¯æ•´ä¸ªå·¦åæ ‘çš„é‡å¤´æˆï¼Œæ—¶é—´å¤æ‚åº¦ç¨³å®šåœ¨ä¸€ä¸ª$log$ï¼Œå…¶ä¸»è¦æ€æƒ³å°±æ˜¯ä¸æ–­æŠŠæ–°çš„å †åˆå¹¶åˆ°æ–°çš„æ ¹èŠ‚ç‚¹çš„å³å­æ ‘ä¸­â€”â€”å› ä¸ºæˆ‘ä»¬çš„å³å­æ ‘å†³å®šâ€œè·ç¦»â€è¿™ä¸ªå˜é‡ï¼Œè€Œè·ç¦»åˆä¸€å®šä¿è¯åœ¨$~\log~$çš„å¤æ‚åº¦å†…ï¼Œæ‰€ä»¥ä¸æ–­å‘å³å­æ ‘åˆå¹¶ã€‚ å¤§ä½“æ€è·¯ï¼ˆä»¥å°æ ¹å †ä¸ºä¾‹ï¼‰ï¼Œé¦–å…ˆæˆ‘ä»¬å‡è®¾ä¸¤ä¸ªèŠ‚ç‚¹$x$å’Œ$y$ï¼Œ$x$çš„æ ¹èŠ‚ç‚¹çš„æƒå€¼å°äºç­‰äº$y$çš„æ ¹èŠ‚ç‚¹ï¼ˆå¦åˆ™$swap(x,y)$ï¼‰ï¼ŒæŠŠ$x$çš„æ ¹èŠ‚ç‚¹ä½œä¸ºæ–°æ ‘$Z$çš„æ ¹èŠ‚ç‚¹ï¼Œå‰©ä¸‹çš„äº‹å°±æ˜¯åˆå¹¶$x$çš„å³å­æ ‘å’Œ$y$äº†ã€‚ åˆå¹¶äº†$x$çš„å³å­æ ‘å’Œ$y$ä¹‹åï¼Œ$x$å½“$x$çš„å³å­æ ‘çš„è·ç¦»å¤§äº$x$çš„å·¦å­æ ‘çš„è·ç¦»æ—¶ï¼Œä¸ºäº†ç»´æŠ¤æ€§è´¨äºŒï¼Œæˆ‘ä»¬è¦äº¤æ¢$x$çš„å³å­æ ‘å’Œå·¦å­æ ‘ã€‚é¡ºä¾¿ç»´æŠ¤æ€§è´¨ä¸‰ï¼Œæ‰€ä»¥ç›´æ¥$dist_x = dist_{rson(x)}+1$. 123456inline int Merge(int x, int y)&#123; if (!x || !y) return x + y ; if (S[x].val &gt; S[y].val || (S[x].val == S[y].val &amp;&amp; x &gt; y)) swap(x, y) ; rs = Merge(rs, y) ; if (S[ls].dis &lt; S[rs].dis) swap(ls, rs) ; S[ls].rt = S[rs].rt = S[x].rt = x, S[x].dis = S[rs].dis + 1 ; return x ;&#125; æˆ‘ä»¬è§‚å¯Ÿï¼Œæˆ‘ä»¬æ˜¯ä¸æ–­äº¤æ›¿æ‹†åˆ†å³å­æ ‘ï¼Œç”±æ¨è®ºå¯å¾—æˆ‘ä»¬çš„è·ç¦»ä¸ä¼šå¤§äº$\Theta(\log(n_x+1))+\Theta(\log(n_y+1))-2 =O(\log n_x+ \log n_y) $ è¿™ä¸ªåœ°æ–¹æ¯”è¾ƒå–œé—»ä¹è§çš„æ˜¯éœ€è¦å­˜$root$ï¼Œå³éœ€è¦è·¯å¾„å‹ç¼©ã€‚ä¸è·¯å¾„å‹ç¼©çš„è¯ï¼Œå¯»ä¸€æ¬¡$rt$å°±æ˜¯$\Theta(n)$çš„äº†ï¼Œå¤æ‚åº¦æ˜¯ä¸å¯¹çš„ä½†ä¼¼ä¹Luoguçš„æ¨¡æ¿ï¼Œä¸è·¯å¾„å‹ç¼©ä¼šæ›´å¿« $Pop$ â€¦â€¦$pop$çš„è¯ï¼Œä¹±æå°±å¥½äº†$233$ 1inline void Pop(int x)&#123; S[x].val = -1, S[ls].rt = ls, S[rs].rt = rs, S[x].rt = Merge(ls, rs) ; &#125; ç„¶åå°±æ˜¯æ€»ä»£ç ï¼š 1234567891011121314151617181920212223242526272829struct Tree&#123; int dis, val, Son[2], rt ;&#125;S[MAXN] ; int N, T, A, B, C, i ;inline int Merge(int x, int y) ; int my_swap(int &amp;x, int &amp;y)&#123; x ^= y ^= x ^= y ;&#125;inline int Get(int x)&#123; return S[x].rt == x ? x : S[x].rt = Get(S[x].rt) ; &#125;inline void Pop(int x)&#123; S[x].val = -1, S[ls].rt = ls, S[rs].rt = rs, S[x].rt = Merge(ls, rs) ; &#125;inline int Merge(int x, int y)&#123; if (!x || !y) return x + y ; if (S[x].val &gt; S[y].val || (S[x].val == S[y].val &amp;&amp; x &gt; y)) swap(x, y) ; rs = Merge(rs, y) ; if (S[ls].dis &lt; S[rs].dis) swap(ls, rs) ; S[ls].rt = S[rs].rt = S[x].rt = x, S[x].dis = S[rs].dis + 1 ; return x ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; T ; S[0].dis = -1 ; for (i = 1 ; i &lt;= N ; ++ i) S[i].rt = i, scanf("%d", &amp;S[i].val) ; for (i = 1 ; i &lt;= T ; ++ i)&#123; scanf("%d%d", &amp;A, &amp;B) ; if (A == 1)&#123; scanf("%d", &amp;C) ; if (S[B].val == -1 || S[C].val == -1) continue ; int f1 = Get(B), f2 = Get(C) ; if (f1 != f2) S[f1].rt = S[f2].rt = Merge(f1, f2) ; &#125; else &#123; if(S[B].val == -1) printf("-1\n") ; else printf("%d\n", S[Get(B)].val), Pop(Get(B)) ; &#125; &#125;&#125; $\rm{0x03}$ ä¸€ç‚¹é—®é¢˜é—®é¢˜å¤§æ¦‚å°±æ˜¯è·¯å¾„å‹ç¼©â€¦â€¦ $LuoguP3377$å¾ˆä¸è´Ÿè´£ä»»åœ°å¤„äº†æ•°æ®ï¼Œå¯¼è‡´ä»¥ä¸‹è¿™ä»½ä»£ç å¯ä»¥è¿‡ï¼š 12345678910111213141516171819202122232425262728293031using namespace std ;struct Tree&#123; int dis, val, F, Son[2] ;&#125;S[MAXN] ;int N, T, A, B, C, i ;inline int Merge(int x, int y) ; int my_swap(int &amp;x, int &amp;y)&#123; x ^= y ^= x ^= y ;&#125;int Get(int x)&#123; while(S[x].F) x = S[x].F ; return x ; &#125;inline void Pop(int x)&#123; S[x].val = -1, S[ls].F = S[rs].F = 0, Merge(ls, rs) ; &#125;inline int Merge(int x, int y)&#123; if (!x || !y) return x + y ; if (S[x].val &gt; S[y].val || (S[x].val == S[y].val &amp;&amp; x &gt; y)) swap(x, y) ; rs = Merge(rs, y), S[rs].F = x ; if (S[ls].dis &lt; S[rs].dis) swap(ls, rs) ; S[x].dis = S[rs].dis + 1 ; return x ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; T ; S[0].dis = -1 ; for (i = 1 ; i &lt;= N ; ++ i) scanf("%d", &amp;S[i].val) ; for (i = 1 ; i &lt;= T ; ++ i)&#123; scanf("%d%d", &amp;A, &amp;B) ; if (A == 1)&#123; scanf("%d", &amp;C) ; if (S[B].val == -1 || S[C].val == -1 || B == C) continue ; int f1 = Get(B), f2 = Get(C) ; Merge(f1, f2) ; &#125; else &#123; if(S[B].val == -1) printf("-1\n") ; else printf("%d\n", S[Get(B)].val), Pop(Get(B)) ; &#125; &#125; return 0 ;&#125; ä¸€åˆ‡éƒ½å¾ˆæ­£å¸¸ï¼Œä½†é—®é¢˜åœ¨äºä»–å¤æ‚åº¦ä¸å¯¹ï¼š 1int Get(int x)&#123; while(S[x].F) x = S[x].F ; return x ; &#125; è¿™æ˜¾ç„¶æ˜¯ä¸ªä¸Šç•Œä¸º$O(n)$çš„å‡½æ•°â€¦â€¦ä¸å¯’è€Œæ —â€¦â€¦ æ‰€ä»¥ä»–æ˜¯ä¸å¯¹çš„ï¼Œè¿™ç»„æ•°æ®å¯ä»¥å¾ˆå¥½çš„å¡æ‰ï¼ˆç”±å·¨ä½¬å°ç²‰å…”åˆ¶ä½œï¼‰ã€‚ æ‰€ä»¥åº”è¯¥ç”¨ä¸€ä¸ªå¹¶æŸ¥é›†ç»´æŠ¤ã€‚è€Œæˆ‘ä»¬åœ¨è·¯å¾„å‹ç¼©ä¹‹åï¼Œå¿…é¡»è¦åœ¨$pop$åï¼Œç»™$pop$æ‰çš„ç‚¹ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æ–°çš„æ ¹ï¼Œæ‰€ä»¥ï¼š 123inline int Get(int x)&#123; return S[x].rt == x ? x : S[x].rt = Get(S[x].rt) ; &#125;inline void Pop(int x)&#123; S[x].val = -1, S[ls].rt = ls, S[rs].rt = rs, S[x].rt = Merge(ls, rs) ; &#125; äºæ˜¯æœ€åçš„ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;cstdio&gt;#include &lt;iostream&gt;#define MAXN 150010#define swap my_swap#define ls S[x].Son[0]#define rs S[x].Son[1]using namespace std ;struct Tree&#123; int dis, val, Son[2], rt ;&#125;S[MAXN] ; int N, T, A, B, C, i ;inline int Merge(int x, int y) ; int my_swap(int &amp;x, int &amp;y)&#123; x ^= y ^= x ^= y ;&#125;inline int Get(int x)&#123; return S[x].rt == x ? x : S[x].rt = Get(S[x].rt) ; &#125;inline void Pop(int x)&#123; S[x].val = -1, S[ls].rt = ls, S[rs].rt = rs, S[x].rt = Merge(ls, rs) ; &#125;inline int Merge(int x, int y)&#123; if (!x || !y) return x + y ; if (S[x].val &gt; S[y].val || (S[x].val == S[y].val &amp;&amp; x &gt; y)) swap(x, y) ; rs = Merge(rs, y) ; if (S[ls].dis &lt; S[rs].dis) swap(ls, rs) ; S[ls].rt = S[rs].rt = S[x].rt = x, S[x].dis = S[rs].dis + 1 ; return x ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; T ; S[0].dis = -1 ; for (i = 1 ; i &lt;= N ; ++ i) S[i].rt = i, scanf("%d", &amp;S[i].val) ; for (i = 1 ; i &lt;= T ; ++ i)&#123; scanf("%d%d", &amp;A, &amp;B) ; if (A == 1)&#123; scanf("%d", &amp;C) ; if (S[B].val == -1 || S[C].val == -1) continue ; int f1 = Get(B), f2 = Get(C) ; if (f1 != f2) S[f1].rt = S[f2].rt = Merge(f1, f2) ; &#125; else &#123; if(S[B].val == -1) printf("-1\n") ; else printf("%d\n", S[Get(B)].val), Pop(Get(B)) ; &#125; &#125; return 0 ;&#125; $\rm{0x04}$ ä¸€é“æ°´é¢˜æ— è®ºæ€ä¹ˆè¯´ï¼Œå•ç‹¬ç”¨ä¸€ç¯‡åšå®¢æ¥æ•´ç†æ¿å­é¢˜å®åœ¨æ˜¯å¤ª$Low$äº†ï¼ˆå°¤å…¶æ˜¯æ˜¾å¾—ç¬”è€…å¾ˆæ²¡å“ä½ï¼‰ï¼Œäºæ˜¯å°±ç›´æ¥æ‹¼åˆ°ä¸€èµ·å§qwq [LuoguP1456]Monkey King é“¾æ¥ è¿™ç©æ„å„¿çœŸtmæ°´çˆ†å•Šâ€¦ç›´æ¥å­˜ä¸ªä»£ç è¯æ˜æˆ‘åšè¿‡è¿™é“é¢˜å§qaqï¼š ç­‰ä¼šå„¿ï¼Œçªç„¶æƒ³èµ·æ¥è¿™é“é¢˜çš„å‘ç‚¹æ¥ã€‚å°±æ˜¯åŸæ¥çš„æ¿å­é¢˜ï¼Œéƒ½æ˜¯ç»´æŠ¤åºåˆ—é‚£ç§æ„Ÿè§‰ï¼Œä¸€ä¸ªå…ƒç´ popæ‰ä¹‹ååˆå°±ä¸ç”¨ç®¡å®ƒäº†ã€‚ä½†æ˜¯è¿™é“é¢˜æ˜¯ä¸€é“åº”ç”¨é¢˜ï¼Œæ‰€ä»¥ä¸åº”è¯¥åˆ å®Œä¸ç®¡ï¼Œåº”è¯¥æ¸…ç©ºqwqã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#define MAXN 200010#define lc T[x].Son[0]#define rc T[x].Son[1]#define rep(a, i, b) for(i = a ; i &lt;= b ; ++ i)using namespace std ;struct Heap&#123; int val, dis, Son[2], rt ;&#125;T[MAXN] ; int N, M, A, B, i ;inline int get(int x)&#123; if (x == T[x].rt) return x ; return T[x].rt = get(T[x].rt) ;&#125;inline int Merge(int x, int y)&#123; if (!x || !y) return x + y ; if (T[x].val &lt; T[y].val) x ^= y ^= x ^= y ; rc = Merge(rc, y) ; if (T[lc].dis &lt; T[rc].dis) lc ^= rc ^= lc ^= rc ; T[lc].rt = T[rc].rt = T[x].rt = x, T[x].dis = T[rc].dis + 1 ; return x ; &#125;int main()&#123; while (~scanf("%d", &amp;N))&#123; memset(T, 0, sizeof(T)) ; rep(1, i, N) T[i].rt = i, scanf("%d", &amp;T[i].val) ; cin &gt;&gt; M ; rep(1, i, M)&#123; scanf("%d%d", &amp;A, &amp;B) ; int rt1, rt2 ; int f1 = get(A), f2 = get(B) ; int ff1, ff2 ; if (f1 == f2) &#123; puts("-1") ; continue ; &#125; T[f1].val &gt;&gt;= 1, T[f2].val &gt;&gt;= 1 ; rt1 = Merge(T[f1].Son[0], T[f1].Son[1]) ; T[f1].Son[0] = T[f1].Son[1] = T[f1].dis = 0 ; rt2 = Merge(T[f2].Son[0], T[f2].Son[1]) ; T[f2].Son[0] = T[f2].Son[1] = T[f2].dis = 0 ; ff1 = Merge(f1, rt1), ff2 = Merge(f2, rt2) ; T[ff2].rt = T[ff1].rt = Merge(ff1, ff2), printf("%d\n", T[get(T[ff1].rt)].val) ; &#125; &#125; return 0 ;&#125; $\rm{writter:Flower_pks}$]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å¯å¹¶å †/å·¦åæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œæµ2Â·HLPP+ä¸§å¿ƒç—…ç‹‚çš„ä¼˜åŒ–]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F01%2F11%2FHLPP%2F</url>
    <content type="text"><![CDATA[#define $u$çš„ä¼´ç‚¹é›†åˆ ä¸$u$ç›¸éš”ä¸€æ¡è¾¹çš„ä¸”$u$èƒ½è¾¾åˆ°çš„ç‚¹çš„é›†åˆ $0x00~ {}~Preface$ $HLPP(Highest~Label~Preflow~Push)â€‹$æœ€é«˜æ ‡ç­¾é¢„æµæ¨è¿›ç®—æ³•æ˜¯å¤„ç†ç½‘ç»œæœ€å¤§æµé‡Œä¸¤ç§å¸¸ç”¨æ–¹æ³•â€”â€”å¢å¹¿è·¯&amp;é¢„æµæ¨è¿›ä¸­ï¼Œé¢„æµæ¨è¿›ç®—æ³•çš„ä¸€ç§ã€‚æ®ä¼ ç”±$tarjanâ€‹$å‘æ˜æ€ä¹ˆåˆæ˜¯ä»– ï¼Œå¹¶è¢«å…¶ä»–ç§‘å­¦å®¶è¯æ˜äº†å…¶å¤æ‚åº¦æ˜¯ç´§å´çš„$O(n^2\sqrt m)â€‹$ã€‚åœ¨éšæœºæ•°æ®ä¸­ä¸é€Šè‰²äºæ™®é€šçš„å¢å¹¿è·¯ç®—æ³•ï¼Œè€Œåœ¨ç²¾å¿ƒæ„é€ çš„æ•°æ®ä¸­æ— æ³•è¢«å¡ï¼Œæ‰€ä»¥æ˜¯ä¸€ç§å¯ä»¥æ›¿ä»£$Dinicâ€‹$çš„æ–¹æ³•ï¼ˆéšæˆ‘æ€ä¹ˆè¯´ï¼Œä»£ç åˆé•¿åˆéš¾è°ƒï¼Œæ‰€ä»¥è¿˜æ˜¯$Dinicâ€‹$å¥½å•Š$\rm{TAT}â€‹$ï¼‰ ä½†æ— è®ºæ€æ ·ï¼Œ$wiki$é‡Œé¢å·²ç»æ‰¿è®¤$HLPP$æ˜¯ç°åœ¨æœ€ä¼˜ç§€çš„ç½‘ç»œæµç®—æ³•äº†ã€‚ é‚£ä¹ˆé¢„æµæ¨è¿›è¿™ä¸ªå¤§é—¨ç±»é‡Œé¢ï¼Œæ€æƒ³éƒ½å·®ä¸å¤šã€‚å¤§æŠµä¸Šå°±æ˜¯æˆ‘ä»¬å¯¹æ¯ä¸ªç‚¹è®°å½•è¶…é¢æµ($Extra~Flow$) ï¼Œå³å…è®¸æµåœ¨éæºç‚¹æš‚æ—¶å­˜å‚¨ï¼Œå¹¶ä¼ºæœºå°†è¶…é¢æµæ¨é€å‡ºå»ã€‚ä¸å¯æ¨é€çš„ï¼Œå°±ä¼šæµå›æºç‚¹ã€‚é‚£ä¹ˆæœ€ç»ˆç­”æ¡ˆæ˜¾ç„¶å­˜å‚¨åœ¨$Extra[T]$é‡Œé¢ã€‚ ä½†åŒæ—¶è¿™ä¹Ÿæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¼šå‡ºç°ä¸¤ä¸ªç‚¹ç›¸äº’æ¨é€ä¸åœçš„æƒ…å†µã€‚ä¸ºäº†é˜²æ­¢è¿™æ ·ï¼Œæˆ‘ä»¬é‡‡ç”¨æœ€é«˜æ ‡å·çš„ç­–ç•¥ï¼Œç»™æ¯ä¸ªç‚¹ä¸€ä¸ªé«˜åº¦ï¼Œå¯¹äºä¸€ä¸ªç‚¹$uâ€‹$ä»¥åŠå®ƒçš„ä¼´ç‚¹é›†åˆ${v}â€‹$ï¼Œå½“ä¸”ä»…å½“$h_u = h_v + 1â€‹$ æ—¶æ‰å¯ä»¥æ¨é€æµã€‚å¹¶ä¸”æˆ‘ä»¬å¯¹äºæºç‚¹$Sâ€‹$ï¼Œè®¾ç½®$h_S = Nâ€‹$ï¼Œå¹¶å¯¹äº$Sâ€‹$å®è¡Œæ— é™åˆ¶æ¨é€ã€‚é‚£ä¹ˆæœ€åçš„ç­”æ¡ˆå°±ä¿å­˜åœ¨$Extra[T]â€‹$é‡Œé¢ ã€‚ ä½†æœ‰æ—¶ï¼Œæˆ‘ä»¬å‘ç°æœ‰ä¸ªç‚¹æ˜¯â€è°·â€œï¼Œå³å‘¨å›´ç‚¹çš„é«˜åº¦éƒ½æ¯”å®ƒé«˜ï¼Œä½†æ˜¯å®ƒæœ‰è¶…é¢æµã€‚é‚£ä¹ˆæˆ‘ä»¬æ­¤æ—¶è€ƒè™‘æ‹”é«˜å®ƒçš„é«˜åº¦ï¼Œå³é‡è´´æ ‡ç­¾($relabelâ€‹$)æ“ä½œã€‚ $0x01\quad$ åˆæ­¥çš„ç®—æ³•æµç¨‹ä»¥ä¸‹æˆ‘ä»¬ç”¨$Extra_u$è¡¨ç¤º$u$çš„è¶…é¢æµï¼Œ$h_u$è¡¨ç¤º$u$çš„é«˜åº¦ï¼Œç”¨$f_k$è¡¨ç¤ºè¾¹$k$çš„å®¹é‡ã€‚ é¦–å…ˆæŠŠæ‰€æœ‰çš„$h_i$éƒ½ç½®ä¸ºé›¶ï¼Œå¹¶æŠŠ$h_s$ç½®ä¸º$N$ï¼ˆç‚¹æ•°ï¼‰ã€‚ å°†$S$çš„æµæ¨é€åˆ°æ¯ä¸ªä¸$S$ç›¸é‚»çš„ç‚¹ï¼ŒåŒæ—¶æŠŠä»–ä»¬åŠ å…¥ä¸€ä¸ªä»¥é«˜åº¦ä¸ºé”®å€¼å¾—å¤§æ ¹å †ï¼Œæ‰€ä»¥æ¯æ¬¡å–å‡ºçš„åº”è¯¥æ˜¯é«˜åº¦æœ€é«˜çš„ã€ä¸”è¶…é¢æµä¸ä¸ºé›¶çš„ç‚¹ï¼Œå¹¶æ‰§è¡Œæ¨é€æ“ä½œã€‚ å¯¹äºç‚¹$u$æ¨é€è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ$Extra_u$å‡åˆ°äº†$0$ï¼Œå°±ç«‹å³é€€å‡ºï¼ˆä¼˜åŒ–ä¸€ï¼‰ å¯¹äºæ¯æ¡å‡ºè¾¹$k$ï¼Œæ¨é€çš„æµé‡$F = min(f_k,Extra_u)$å¹¶æ‰§è¡Œä¸¤ä¸ªç‚¹ï¼ˆ$u,v$ï¼‰çš„è¶…é¢æµå¢å‡ã€‚å¦‚æœ$v$ä¸åœ¨å †é‡Œé¢ï¼Œè¦æŠŠ$v$æ”¾åˆ°å †é‡Œé¢ã€‚ å¦‚æœæ¨é€å®Œæ¯•$Extra[u]$ä¸ä¸ºé›¶ï¼Œé‚£ä¹ˆä»ä»–çš„ä¼´ç‚¹é›†åˆé€‰å–ä¸€ä¸ªé«˜åº¦æœ€å°çš„ç‚¹å¹¶è®°å½•å®ƒçš„é«˜åº¦$h_{min}$ï¼Œåˆ™æ–°çš„$h_u = h_{min}+1$ï¼Œå¹¶æŠŠ$uâ€‹$å…¥å †ã€‚ å¥½çš„ï¼Œç„¶åå°±å¯ä»¥æ’’èŠ±äº†â€¦â€¦å¯æ˜¯ç­‰ç­‰ï¼Œä»–æ€ä¹ˆè¿™ä¹ˆæ…¢$qaq$ æ¥ä¸‹æ¥æˆ‘ä»¬å‘ç°ï¼Œé‡è´´æ ‡ç­¾çš„è¿‡ç¨‹ä¼¼ä¹ä¸$ISAP$æœ‰ç‚¹ç‚¹åƒâ€¦â€¦æ‰€ä»¥æˆ‘ä»¬ä¸å¦¨é€šè¿‡ä¸€ä¸ª$Gap$æ•°ç»„æ¥è®°å½•â€æ–­å±‚æƒ…å†µâ€œï¼šå³å¦‚æœå¯¹äºä¸€ä¸ªç‚¹$u$æ¥è¯´ï¼Œä»–çš„ä¼´ç‚¹é›†${v}$å·²ç»ä¸å­˜åœ¨$h_u = h_v + 1$çš„ç‚¹äº†ï¼Œå¹¶ä¸”ä¹Ÿä¸å­˜åœ¨ä¸€ä¸ªç‚¹$j$ä½¿å¾—$h_j = h_u$é‚£ä¹ˆè¿™ä¸ªåœ°æ–¹å°±æ˜¯ä¸€ä¸ªæ–­å±‚$(Gap)$ ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ‰€æœ‰$h_i&gt; h_u$çš„ç‚¹æ¥è¯´ï¼Œå®ƒä»¬æŠŠæµæ¨é€åˆ°$h_u$çš„é«˜åº¦å°±ä¸èƒ½ç»§ç»­æ¨é€äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥$h_i = N + 1$ï¼Œè®©ä»–ä»¬å›æµåˆ°æºç‚¹ã€‚ï¼ˆä¼˜åŒ–äºŒï¼‰ æ¥ä¸‹æ¥è¿™ä¸ªä¼˜åŒ–ï¼Œäº²æµ‹å¯ä»¥æé€Ÿ$4000msâ€‹$ï¼Œå¹³å‡æ¯ä¸ªæµ‹è¯•ç‚¹æé€Ÿ$700â€‹$ ~ $800msâ€‹$ï¼Œå»æ‰æ•°æ®æœ€å°çš„ç‚¹ï¼Œæ¯ä¸ªç‚¹å¹³å‡æé€Ÿ$1000msâ€‹$ã€‚è¿™å°±æ˜¯â€”â€”$BFSâ€‹$! æˆ‘ä»¬ä¸å¦¨ä¸€å¼€å§‹å°±å€’ç€$BFS$ä¸€éï¼Œæœå‡ºæ¯ä¸ªç‚¹ç¦»æ±‡ç‚¹çš„æœ€çŸ­è·ç¦»ä½œä¸ºåˆå§‹é«˜åº¦è€Œä¸æ˜¯æŠŠé›¶ä½œä¸ºåˆå§‹é«˜åº¦ï¼ˆæºç‚¹é«˜åº¦è¿˜æ˜¯$N$ã€‚å—¯ï¼Œ$Mr_Spade$å¤§ä½¬å®åœ¨å¤ªå¼ºäº†$qwq$ å¯¹äº†ï¼Œä»£ç å®ç°æ–¹é¢ï¼Œéœ€è¦å¥½å¤šåˆ¤æ–­ä¸æ˜¯æºç‚¹å’Œæ±‡ç‚¹çš„å°ç»†èŠ‚â€¦â€¦æ— è·¯èµ›æ— è·¯èµ›æ— è·¯èµ›$&gt;_&lt;$ï¼ $\color{red}{C}\color{cyan}{o}\color{gold}{d}\color{green}{e}Â·1$1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;bits/stdc++.h&gt;//çœç•¥æŸäº›éƒ¨åˆ†#define Inf, MAXN, MAXM, to(k)struct state&#123; int num, h ; bool operator &lt;(const state &amp; now) const&#123; return h &lt; now.h ; &#125;&#125; ; priority_queue &lt;state&gt; heap ; BFS init ;int N, M, S, T, cnt = -1, A, B, C, D, t, min_h ;int head[MAXN], Extra[MAXN], H[MAXN], Gap[MAXN], node ;inline void Preflow_Push()&#123; register int i, k ; for (i = 1 ; i &lt;= N ; ++ i) if(H[i] &lt; Inf) ++ Gap[H[i]] ; for(k = head[S]; k != -1 ; k = E[k].next) if((t = E[k].f))&#123; E[k].f -= t, E[k ^ 1].f += t, Extra[S] -= t, Extra[to(k)] += t ; if(to(k) != T &amp;&amp; !vis[to(k)]) heap.push((state)&#123;to(k), H[to(k)]&#125;), vis[to(k)] = 1 ; &#125; while(!heap.empty())&#123; vis[node = heap.top().num] = 0, min_h = Inf, heap.pop() ; for(k = head[node] ; k != -1 ; k = E[k].next)&#123; if(E[k].f &amp;&amp; H[node] == H[to(k)] + 1)&#123; t = min(Extra[node], E[k].f) ; E[k].f -= t, E[k ^ 1].f += t, Extra[node] -= t, Extra[to(k)] += t ; if(!vis[to(k)] &amp;&amp; to(k) != S &amp;&amp; to(k) != T) heap.push((state)&#123;to(k), H[to(k)]&#125;), vis[to(k)] = 1 ; &#125; if (E[k].f) min_h = min(min_h, H[to(k)]) ; if (!Extra[node]) break ; &#125; if(Extra[node]) &#123; if (!--Gap[H[node]]) for(i = 1; i &lt;= N ; ++ i) if(i != S &amp;&amp; i != T &amp;&amp; H[i] &gt; H[node] &amp;&amp; H[i] &lt; N + 1) H[i] = N + 1 ; H[node] = Inf; H[node] = min_h + 1 ; heap.push((state)&#123;node, H[node]&#125;), vis[node] = 1, ++ Gap[H[node]] ; &#125; &#125;&#125;inline int read() &#123;fast;&#125;int main()&#123; Input() ; for (i = 1 ; i &lt;= N ; ++ i) head[i] = -1, H[i] = Inf ; while(M --)&#123;Add; &#125; q.push(T), H[T] = 0 ; while(!q.empty())&#123; int now = q.front() ; q.pop() ; for(k = head[now] ; k != -1 ; k = E[k].next) if (H[to(k)] &gt; H[now] + 1) H[E[k].to] = H[now] + 1, q.push(E[k].to) ; &#125; if (H[S] == 0) &#123;cout &lt;&lt; 0 &lt;&lt; endl ; return 0 ;&#125; H[S] = N, Preflow_Push() ; cout &lt;&lt; Extra[T] &lt;&lt; endl ;&#125; çœ‹èµ·æ¥æˆ‘ä»¬åŠ ä¸Šä¸‹é¢è¿™ä¸€å¥è¯çš„æ¯’ç˜¤å¡å¸¸å°±å¯ä»¥æœ‰$4000ms$å·¦å³çš„å¥½æˆç»©ï¼Œä½†äº‹å®ä¸Šï¼Œè¿™ä¸ªé€Ÿåº¦ä¾æ—§æ…¢çš„è¦æ­»ã€‚ æ³¨æ„ï¼è¿™ä¸ªå†™æ³•æ˜¯ç»å…¸å†™æ³•ï¼Œå…¶æ—¶é—´å¤æ‚åº¦æ˜¯ç´§å´çš„$\boldsymbol{\rm{\Theta(n^2mlogn)}}$çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨$\boldsymbol{n=1200}$æ—¶ä¼šå¸¦ä¸€ä¸ª$\boldsymbol{10}$å€çš„å¸¸æ•° æ€ä¹ˆä¼˜åŒ–å‘¢â€”â€” $\boldsymbol{0x02~~Optimization}$å„ä½ï¼Œä½ ä»¬å°†ä¼šè§åˆ°è¿„ä»Šä¸ºæ­¢OIç•Œæœ€ä¸§å¿ƒç—…ç‹‚çš„ä¼˜åŒ–ï¼ˆä¹‹ä¸€ï¼‰â€¦â€¦ æ¥ï¼Œæˆ‘ä»¬é¦–å…ˆæ€è€ƒæ€è€ƒæ™®é€šçš„HLPPåˆ°åº•ä¼šæ…¢åœ¨å“ªé‡Œï¼š $STL$æ”¯æŒçš„$heap$ï¼ˆæ¯”å¦‚ä¼˜å…ˆé˜Ÿåˆ—ï¼‰å®åœ¨æ˜¯å¤ªå¤ªå¤ªâ€¦å¤ªæ…¢äº†ï¼ æ¯æ¬¡$Gap$ä¼˜åŒ–ï¼Œæˆ‘ä»¬çš„æ—¶é—´å¤æ‚åº¦æ˜¯ç´§ç¡®çš„$\Theta(n)$ã€‚çš„è¿™æ˜¾ç„¶ä¸åˆç®—ï¼Œå› ä¸ºå‡è®¾æˆ‘å½“å‰çš„$\boldsymbol{gap}$ï¼ˆæ–­å±‚ï¼‰æ­£å¥½ä½äºå€’æ•°ç¬¬ä¸€é«˜çš„ç‚¹å’Œå€’æ•°ç¬¬äºŒé«˜çš„ç‚¹ï¼Œé‚£ä¹ˆä¹Ÿå°±ç›¸å½“äºæˆ‘å•æ¬¡ä¼šæµªè´¹$\boldsymbol{\Theta(n)}$çš„æ—¶é—´ã€‚ äº‹å®ä¸Šâ€¦æ™®é€šçš„$HLPP$ä»£ç å¹¶ä¸é•¿ï¼Œä¸»è¦é—®é¢˜å°±æ˜¯è¿™ä¸¤ä¸ªã€‚ æˆ‘ä»¬è€ƒè™‘ï¼Œå¦‚æœä¸ç”¨å †çš„è¯æ€ä¹ˆåšå‘¢ï¼Ÿ å‘ƒâ€¦ä¸ç”¨å †çš„æ„æ€å¹¶ä¸æ˜¯æˆ‘ä»¬ä¸ä»é«˜åº¦æœ€å¤§çš„ç‚¹å¼€å§‹æ¨é€ã€‚è¿™ä¸ªåœ°æ–¹éœ€è¦ä¸€ä¸ª$idea$â€”â€”åœ¨$HLPP$ä¸­ï¼Œé«˜åº¦å‡½æ•°$\boldsymbol{H(x)}$å’Œç‚¹æ•°é›†å¤§å°$\boldsymbol{N(x)}$æ˜¯å¹¿ä¹‰åŒé˜¶çš„ã€‚ æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä»é«˜åº¦å…¥æ‰‹ã€‚ æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬åŸæ¥æ˜¯é€šè¿‡èŠ‚ç‚¹ç¼–å·è®¿é—®èŠ‚ç‚¹ä»¥åŠå…¶é«˜åº¦ï¼Œç°åœ¨æˆ‘ä»¬å¦‚æœä»é«˜åº¦å…¥æ‰‹ï¼Œå†å»è®¿é—®èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥åšåˆ°$\boldsymbol{O(n)}$è€Œä¸æ˜¯$\boldsymbol{\rm{O(nlogn)}}$ ã€‚ é‚£ä¹ˆç”±äºåŒä¸€é«˜åº¦çš„èŠ‚ç‚¹æˆ–è®¸æœ‰å¾ˆå¤šï¼Œç›´æ¥å¼€ä¸€ä¸ª$vector$ã€‚åœ¨è¿™ä¸ªåœ°æ–¹æˆ‘ä»¬ç”¨$vector$è€Œä¸ç”¨äºŒç»´æ•°ç»„å»ºç«‹äºŒç»´å…³ç³»çš„åŸå› ï¼Œä¸»è¦æ˜¯æˆ‘ä»¬åˆå§‹åŒ–éº»çƒ¦å¾—å¾ˆï¼Œå¦‚æœå¥—ç”¨$memset$æˆ–è€…$fill$çš„è¯ï¼Œå¸¸æ•°ä¹‹å¤§å¯æƒ³è€ŒçŸ¥ã€‚ é‚£ä¹ˆè¿™ä¸¤ä¸ªé—®é¢˜å°±é¡ºç†æˆç« åœ°è§£å†³äº†ã€‚ä½†è¿™ä¸ªåœ°æ–¹è¿˜æœ‰ä¸€ä¸ªä¼˜åŒ–ï¼Œå°±æ˜¯è™½ç„¶$vector$å’Œ$list$éƒ½æ˜¯çº¿æ€§å®¹å™¨ï¼Œä½†æ˜¯$list$çš„æœ¬è´¨æ˜¯åŒå‘é“¾è¡¨ï¼Œé¢‘ç¹å¤„ç†æ’å…¥åˆ é™¤æ“ä½œæ—¶ä¼šå…·æœ‰æ›´ä¼˜ç§€çš„è¡¨ç°ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸæ¥çš„$Gap$æ•°ç»„æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨$list$åšï¼Œä»¥å›¾æ›´å°çš„å¸¸æ•°ã€‚é‚£ä¹ˆè¿™æ—¶å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è™½ç„¶æœ¬è´¨ä¸Šåˆ é™¤æ˜¯å®¹æ˜“çš„ï¼Œä½†æ˜¯ä½ æ€ä¹ˆçŸ¥é“è¦åˆ åŒä¸€é«˜åº¦ä¸‹çš„å“ªä¸ªå…ƒç´ (=@__@=)ï¼Ÿå°±ç®—ä½ çŸ¥é“ï¼Œ$list$ä¹Ÿä¸çŸ¥é“å•Š2333 hhhä¸çš®äº†ï¼Œå…¶å®æˆ‘ä»¬è®°å½•ä¸€ä¸‹ä½ç½®å°±å¥½ï¼Œå³è®°å½•ä¸€ä¸‹æ¯ä¸ªèŠ‚ç‚¹åœ¨$list$ä¸­çš„ä½ç½®ï¼Œå•ç‹¬å¼€ä¸€ä¸ª$Iterator$ç±»å‹çš„$vector$è®°å½•å³å¯ã€‚ å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬è·å¾—äº†$10$å€$+$çš„å¸¸æ•°ä¼˜åŠ¿qwqï¼Œæ’’èŠ±èŠ±â€¦ å“¦å¯¹ï¼Œè¿˜æœ‰å‡ ç‚¹æˆ‘debugçš„æ—¶å€™è¢«å‘æ­»çš„ç‚¹ï¼š é‚£ä¸ª$Iterator$ç±»å‹çš„$vector$å¯¹è±¡æ˜¯ç‚¹çš„ç¼–å·ä¸æ˜¯é«˜åº¦ï¼ æ³¨æ„ä½ çš„ä¸‹æ ‡ï¼ä¸‹æ ‡ï¼å†è¯´ä¸€éï¼Œä¸‹æ ‡ï¼å› ä¸ºSTLè‡ªå¸¦å·¦é—­å³å¼€çš„æ€§è´¨wrnmï¼Œæ‰€ä»¥ä¸€å®šè¦æ³¨æ„ï¼Œå¦‚æœä½ æ˜¯$[1,n]$é€‰æ‰‹ï¼Œæ³¨æ„ä½ çš„$assign$å‡½æ•°ï¼ $\color{red}{C}\color{cyan}{o}\color{gold}{d}\color{green}{e}Â·2$ (æˆ‘è§‰å¾—å†™çš„å¾ˆéš¾çœ‹ä½†æ˜¯æœ‰æ³¨é‡Šqaq)ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778//writter:Orchidany(pks)#include &lt;bits/stdc++.h&gt;#pragma GCC target("avx")#pragma GCC optimize(3)#pragma GCC optimize("Ofast")//sbæ¯’ç˜¤ä¼˜åŒ–#define MAXN 10030#define min my_min#define BG begin()#define gc getchar#define rr register #define Iter iterator#define INF 2147483647#define rep(i, a, x) for(i = a ; i &lt;= x ; ++ i)using namespace std ;typedef list&lt;int&gt; List ; int step;struct Edge&#123; int to, f, next ; Edge(int to,int f,int next):to(to),f(f),next(next)&#123;&#125;//æ²¡æœ‰äººå‘ç°æ­£ä¸‹æ–¹è¿™å¥æ³¨é‡Šå‰åŠå¥å’ŒååŠå¥éƒ½æ˜¯ä¸‰ä¸ªéŸ³èŠ‚çš„å—qaq&#125; ; vector &lt;int&gt; q, H, Extra, Set[MAXN], cnt ; List Gap[MAXN] ;//listï¼Œå°±æ˜¯å¿«ï¼ˆ//q:é˜Ÿåˆ—ï¼ŒH:é«˜åº¦ï¼ŒExtraï¼šæ¯ä¸ªç‚¹çš„è¶…é¢æµï¼ŒSet:â€¦å°±æ˜¯é‚£ä¸ªç»å…¸ç‰ˆHLPPé‡Œçš„å †ï¼Œé«˜åº¦åšç¬¬ä¸€ç»´int Ans, N, M, S, T, max_H, now_H ; vector &lt;Edge&gt; E[MAXN] ; /*vectorå­˜è¾¹ï¼ˆæ®è¯´ä¼šå¿«ï¼‰*/vector&lt;List::iterator&gt; Era_pos ; //è¾…åŠ©å®šä½+åˆ é™¤inline void eggs() &#123; ;&#125;//for free~inline int my_min(int a, int b)&#123;return a &amp; ((a - b) &gt;&gt; 31) | b &amp; ( ~ (a - b) &gt;&gt; 31) ;&#125;//é»‘ç§‘æŠ€inline void Add(int f, int v, int u)&#123; E[u].push_back(Edge(v, f, E[v].size())), E[v].push_back(Edge(u, 0, E[u].size() - 1)) ; &#125;inline int qr()&#123; rr int k = 0 ; char c = gc() ; while (!isdigit(c)) c = gc() ;while (isdigit(c)) k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = gc() ; return k ; &#125;inline void Init_label()&#123;//ç­‰ä»·äºä¸€å¼€å§‹çš„é‚£ä¸ªBFSï¼Œåªæ‰§è¡Œä¸€æ¬¡ rr int i, h = 0, t = 0 ;q.clear(), q.resize(N) ; H.assign(N + 1, N + 1) ; H[T] = 0 ; q[t ++] = T ;//ä»Tï¼ˆé«˜åº¦å°çš„ï¼‰å‘å‰æ ‡å· while (h &lt; t)&#123;//é˜Ÿåˆ—â€¦â€¦BFSâ€¦â€¦çœŸç†Ÿæ‚‰å•Šâ€¦â€¦å—â€¦â€¦ rr int now = q[h] ; ++ h ; for (vector &lt;Edge&gt; :: Iter k = E[now].begin() ; k != E[now].end() ; ++ k) if (H[k-&gt;to] == N + 1 &amp;&amp; E[k-&gt;to][k-&gt;next].f) H[k-&gt;to] = H[now] + 1, ++ cnt[H[k-&gt;to]], q[t ++] = k-&gt;to ; &#125; rep(i, 0, N + 1) Set[i].clear(), Gap[i].clear() ;//è¿˜æ˜¯æ¸…ç©ºä¸€ä¸‹æ¯”è¾ƒå¥½å§ rep(i, 0, N) if (H[i] &lt;N + 1) Era_pos[i] = Gap[H[i]].insert(Gap[H[i]].BG, i), //ç–‘ä¼¼insertå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæŒ‡é’ˆqaq (Extra[i]&gt;0) ? Set[H[i]].push_back(i) : eggs() ;//è¿™ä¸ªå½©è›‹ï¼ˆeggsï¼‰æ˜¯å› ä¸ºï¼Œä¸‰ç›®è¿ç®—ç¬¦":"ä¸¤è¾¹ç±»å‹éœ€è¦å½¢åŒâ€¦ max_H = now_H = H[q[-- t]] ; //æ›´æ–°ï¼ŒBFSçš„æ€§è´¨ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¸€å®šé«˜åº¦æœ€å¤§ï¼ˆé™¤äº†æºç‚¹ï¼‰&#125;inline void Push(int x, Edge &amp;e)&#123;//å•ç‹¬å†™å‡ºæ¥çš„pushå‡½æ•°ï¼Œå¥½åƒå¾ˆæ–¹ä¾¿ï¼Ÿ rr int now_flow = min(Extra[x], e.f) ; Extra[x] -= now_flow, e.f -= now_flow, Extra[e.to] += now_flow, E[e.to][e.next].f += now_flow ; if (Extra[e.to] &gt; 0 &amp;&amp; Extra[e.to] &lt;= now_flow) Set[H[e.to]].push_back(e.to) ; // push it into "heap"&#125;inline void _Push(int x)&#123; rr int i, x_h = N, t = H[x] ; for (vector &lt;Edge&gt; :: Iter k = E[x].BG ; k != E[x].end() ; ++ k) if (k-&gt;f &gt; 0)//å¦‚æœå¯ä»¥æµ if (H[k-&gt;to] == H[x] - 1) &#123; Push(x, *k) ; if (!Extra[x]) return ;&#125; else x_h = min(x_h, H[k-&gt;to] + 1) ; if (cnt[H[x]] &lt;= 1)&#123;//å¦‚æœå‡ºç°æ–­å±‚äº† for(i = t ; i &lt;= max_H ; Gap[i].clear(), ++ i)//è¿™ä¸ªgapçš„forè‚¯å®šæ¯”O(n)ä¼˜ç§€ for(List::Iter k = Gap[i].BG ; k != Gap[i].end() ; ++ k) cnt[H[*k]] --, H[*k] = N ; max_H = t - 1 ; /*æ–­å±‚ä»¥ä¸Šçš„é«˜åº¦éƒ½æ²¡ç”¨äº†*/return ; &#125; -- cnt[t], Era_pos[x] = Gap[t].erase(Era_pos[x]) ; H[x] = x_h ; if (x_h == N) return ; //é‡è´´æ ‡ç­¾æ“ä½œï¼Œä¸ºå½“å‰ç‚¹åˆ é™¤åŸæ¥çš„é«˜åº¦ ++ cnt[x_h], Era_pos[x] = Gap[x_h].insert(Gap[x_h].begin(), x), max_H = max(now_H = x_h, max_H), Set[x_h].push_back(x) ;//å¢æ·»æ–°çš„é«˜åº¦&#125;inline int HLPP()&#123; rr int i, now ; H.assign(N, 0) ; H[S] = N ; Era_pos.resize(N) ; rep(i, 0, N - 1) if (i != S) Era_pos[i] = Gap[H[i]].insert(Gap[H[i]].BG, i) ; cnt.assign(N, 0), cnt[0] = N - 1 ; Extra.assign(N, 0), Extra[S] = INF, Extra[T] =- INF ; rep(i, 0, E[S].size() - 1) Push(S, E[S][i]) ; //ä¸‹é¢æºç‚¹è¦å•ç‹¬æ‹¿å‡ºæ¥æ¨é€ï¼Œå› ä¸ºæºç‚¹æ¨é€æ—¶é«˜åº¦å·®ä¸éœ€è¦=1. Init_label() ; //åˆå§‹åŒ–ï¼ˆBFSï¼‰ while (now_H &gt;= 0) //æ­£å¼å¼€å§‹HLPPï¼ˆæ³ªç›®ï¼‰ if (Set[now_H].empty()) now_H -- ; //é«˜åº¦é€’å‡ï¼Œå®ç°ä¸€ä¸ªå †çš„æ•ˆæœ else now = Set[now_H].back(), Set[now_H].pop_back(), _Push(now) ; return Extra[T] + INF ;&#125;int main()&#123; N = qr(),; rr int i ;//ä¸‹é¢çš„++Næ˜¯ä¸ºäº†æ—¥åå¥½æ“ä½œqaq rep(i, 1, M) Add(qr(), qr(), qr()) ; ++ N, Ans = HLPP() ; cout &lt;&lt; Ans &lt;&lt; endl ; return 0 ; &#125; ä¸‹é¢æ˜¯ä¸ª$fread$å¡å¸¸ç‰ˆæœ¬$qaq$ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#include &lt;bits/stdc++.h&gt;#pragma GCC target("avx")#pragma GCC optimize(3)#pragma GCC optimize("Ofast")#define MAXN 1202#define min my_min#define BG begin()#define rr register#define swap my_swap #define Iter iterator#define INF 2147483647#define rep(i, a, x) for(i = a ; i &lt;= x ; ++ i)using namespace std ;typedef list&lt;int&gt; List ; int step;const int ch_top=4e7+3;char ch[ch_top],*now_r=ch-1,*now_w=ch-1;inline int read()&#123; while(*++now_r&lt;'0'); register int x=*now_r-'0'; while(*++now_r&gt;='0')x=x*10+*now_r-'0'; return x;&#125;inline void write(int x)&#123; static char st[20];static int top; while(st[++top]='0'+x%10,x/=10); while(*++now_w=st[top],--top); *++now_w='\n';&#125;struct Edge&#123; int to, f, next ; Edge(int to,int f,int next):to(to),f(f),next(next)&#123;&#125;&#125; ; vector &lt;int&gt; q, H, Extra, Set[MAXN], cnt ; List Gap[MAXN] ;int Ans, N, M, S, T, max_H, now_H ; vector &lt;Edge&gt; E[MAXN] ; vector&lt;List::iterator&gt; Era_pos ; inline void eggs() &#123; ;&#125;//for free~inline int my_min(int a, int b)&#123;return a &amp; ((a - b) &gt;&gt; 31) | b &amp; ( ~ (a - b) &gt;&gt; 31) ;&#125;inline void Add(int f, int v, int u)&#123; E[u].push_back(Edge(v, f, E[v].size())), E[v].push_back(Edge(u, 0, E[u].size() - 1)) ; &#125;inline void Init_label()&#123; rr int i, h = 0, t = 0 ;q.clear(), q.resize(N) ; rr int qaq = N + 1 ; H.assign(qaq, qaq) ; H[T] = 0 ; q[t ++] = T ; while (h &lt; t)&#123; rr int now = q[h], qwq = H[now] + 1 ; ++ h ; for (vector &lt;Edge&gt; :: Iter k = E[now].begin() ; k != E[now].end() ; ++ k) if (H[k-&gt;to] == qaq &amp;&amp; E[k-&gt;to][k-&gt;next].f) H[k-&gt;to] = qwq, ++ cnt[H[k-&gt;to]], q[t ++] = k-&gt;to ; &#125; rep(i, 0, N - 1) Set[i].clear(), Gap[i].clear() ; rep(i, 0, N - 1) if (H[i] &lt; N) Era_pos[i] = Gap[H[i]].insert(Gap[H[i]].BG, i), (Extra[i] &gt; 0) ? Set[H[i]].push_back(i) : eggs() ; max_H = now_H = H[q[-- t]] ; &#125;inline void Push(int x, Edge &amp;e)&#123; rr int now_flow = min(Extra[x], e.f) ; Extra[x] -= now_flow, e.f -= now_flow, Extra[e.to] += now_flow, E[e.to][e.next].f += now_flow ; if (Extra[e.to] &gt; 0 &amp;&amp; Extra[e.to] &lt;= now_flow) Set[H[e.to]].push_back(e.to) ; // push it into heap&#125;inline void _Push(int x)&#123; rr int i, x_h = N, t = H[x] ; for (vector &lt;Edge&gt; :: Iter k = E[x].BG ; k != E[x].end() ; ++ k) if (k-&gt;f &gt; 0) if (H[k-&gt;to] == H[x] - 1) &#123; Push(x, *k) ; if (!Extra[x]) return ;&#125; else x_h = min(x_h, H[k-&gt;to] + 1) ; if (cnt[H[x]] &lt;= 1)&#123; for(i = t ; i &lt;= max_H ; Gap[i].clear(), ++ i) for(List::Iter k = Gap[i].BG ; k != Gap[i].end() ; ++ k) cnt[H[*k]] --, H[*k] = N ; max_H = t - 1 ; return ; &#125; -- cnt[t], Era_pos[x] = Gap[t].erase(Era_pos[x]) ; H[x] = x_h ; if (x_h == N) return ; ++ cnt[x_h], Era_pos[x] = Gap[x_h].insert(Gap[x_h].begin(), x), max_H = max(now_H = x_h, max_H), Set[x_h].push_back(x) ;&#125;int HLPP()&#123; rr int i, now ; H.assign(N, 0) ; H[S] = N ; cnt.assign(N, 0) ; Era_pos.resize(N) ; rep(i, 0, N - 1) if (i != S) Era_pos[i] = Gap[H[i]].insert(Gap[H[i]].BG, i) ; cnt[0] = N - 1 ; Extra.assign(N, 0), Extra[S] = INF, Extra[T] = -INF ; rep(i, 0, E[S].size() - 1) Push(S, E[S][i]) ; Init_label() ; while (now_H &gt;= 0) if (Set[now_H].empty()) now_H -- ; else now = Set[now_H].back(), Set[now_H].pop_back(), _Push(now) ;return Extra[T] + INF ;&#125;int main()&#123; fread(ch,1,ch_top,stdin); N = read(), M = read(), S = read(), T = read() ; rr int i ; rep(i, 1, M) Add(read(), read(), read()) ; ++ N, Ans = HLPP() ; write(Ans) ; fwrite(ch,1,now_w-ch,stdout) ;&#125; æ’’fa~ $0x03~~$åè®° è¿™é“é¢˜çš„ç»å…¸ç‰ˆæœ¬å¥½å‡ ä¸ªæœˆä¹‹å‰æˆ‘å†™äº†ä¸€å¤©â€¦â€¦ç„¶åä»Šå¤©åˆç¿»å‡ºæ¥ï¼Œå‘ç°äº†å·¨ä½¬KevinYuæŠ›äº†ä¸€ä¸ªç‰ï¼Œæˆ‘å°±æ‰“ç®—ä¼˜åŒ–ä¸€æ³¢â€¦â€¦æ¯’ç˜¤å•Šï¼Œä»€ä¹ˆ$vector$å­˜è¾¹ã€$list$æˆ‘éƒ½æ˜¯ç¬¬ä¸€æ¬¡ç”¨å‘œå‘œâ€¦â€¦ ä¸å¾—ä¸è¯´â€¦æŸäº›å¤§ä½¬çš„ç é£çœŸæ˜¯ä¸å¯çœ‹å•Šâ€¦éƒ½å†™é¢˜è§£äº†æ€ä¹ˆè¿˜è¿™ä¹ˆâ€¦è¿™ä¹ˆâ€¦ï¼ˆè™½ç„¶è‡ªå·±çš„ä¹Ÿä¸å’‹åœ°qaqï¼‰ æœ€åï¼Œäººè‰°ä¸æ‹†ï¼Œäººè‰°ä¸æ‹†â€¦ $\boldsymbol{\mathfrak{writter:Orchidany(pks)}}$]]></content>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>ç½‘ç»œæµ-æœ€å¤§æµ</tag>
        <tag>ç›®æµ‹ç”¨ä¸åˆ°çš„ç®—æ³•ä¹‹HLPP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšæƒ³å››Â·æ•…äººä»Šå®‰å¦ï¼Ÿ]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2019%2F01%2F01%2F%E9%9A%8F%E6%83%B3%E5%9B%9B%C2%B7%E6%95%85%E4%BA%BA%2F</url>
    <content type="text"><![CDATA[â€œéšæƒ³â€ç³»åˆ—ç´¢å¼•ï¼šæˆ³æˆ‘ æœ€è¿‘åˆä¸‰çš„å°æœ‹å‹ä»¬ç”Ÿé¾™æ´»è™åœ°æ¥äº†ï¼Œè™½ç„¶æ²¡æœ‰ä»€ä¹ˆæ·±å…¥çš„äº¤æµï¼Œä½†æ˜¯å…¶èº«ä¸Šæ´‹æº¢ç€çš„é’æ˜¥ï¼Œç¡®æ˜¯æˆ‘è¾ˆæ‰€æ¯”ä¸äº†çš„ã€‚ æ˜¯å•Šï¼Œä¸€å¹´äº†å•Šã€‚ å»å¹´è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯è¿™æ ·æ„æ°”é£å‘çš„å§ï¼Ÿå¬è¯´ä»Šå¹´çš„â€œå°ç­â€ï¼ˆåˆä¸‰æ¥çš„å®éªŒç­ï¼‰ï¼Œä¿¡ç«æœ‰12ä¸ªäººï¼Œå’Œå»å¹´ä¸€æ ·ã€‚æ¢å¥è¯è¯´ï¼Œå’Œæˆ‘ä»¬ä¸€æ ·ï¼Œåªä¸è¿‡ä»–ä»¬è¿™ä¸€çº§å¥³ç”Ÿæœ‰å››ä¸ªï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªè€Œå·²ã€‚ çœŸåƒå•Šã€‚ $\rm{0x01}$ ç»“æŸæ¯”æˆ‘æƒ³è±¡çš„è¦æ—©ï¼Œæ—©å¥½å¤šï¼Œå¥½å¤šå¥½å¤šã€‚ æˆ‘é€€å½¹äº†ï¼Œè™½ç„¶æ˜¯æœ¬èµ›å­£é€€å½¹ã€‚ æˆ‘ä»¿ä½›ä»æ¥æ²¡æœ‰è€ƒè™‘è¿‡è¿™ä»¶äº‹æƒ…ï¼Œ18å¹´çš„2æœˆã€3æœˆã€4æœˆâ€¦â€¦ç”šè‡³ä¸€ç›´åˆ°8æœˆï¼Œæˆ‘éƒ½ä¸€ç›´ä»¥æˆ‘ä»ç„¶åˆä¸‰ã€ä»ç„¶æœªå‡ä¸Šé«˜ä¸­è€Œè‡ªè±ªã€‚æˆ‘ä»¬æ˜¯æœ‰ç”ŸåŠ›é‡é‡Œé¢æœ€å¹´è½»çš„ä¸€ä»£ï¼Œæˆ‘ä»¬å¼€å£$Splay$ã€ç½‘ç»œæµã€$Tarjan$ï¼Œé—­å£è«é˜Ÿã€$A-star$ã€æ›¿ç½ªç¾Šï¼Œæˆ‘ä»¬ç ”ç©¶å„ç§å¥‡å¦™çš„ç®—æ³•ï¼Œæˆ‘ä»¬åˆ·å„ç§ä¸‰å€ç»éªŒï¼Œæˆ‘ä»¬é…’å…¥è±ªè‚ é…¿æˆä¸‰åˆ†æœˆå…‰ï¼Œæˆ‘ä»¬æ˜¥é£å¾—æ„é©¬è¹„ç–¾â€”â€” æˆ‘ä»¬å¹´è½»å•Šã€‚ æå¦‚éš”ä¸–ï¼Œè€ƒå®Œ$Noip$æˆ–è®¸æ‰çœŸæ­£çŸ¥é“è‡ªå·±å‡ æ–¤å‡ ä¸¤ã€‚ æˆ‘æ‚”æ¨ï¼Œæˆ‘æ‡Šæ¼ï¼Œæˆ‘ç—›è‹¦ï¼Œæˆ‘ä¸ç”˜ã€‚æˆ‘ç»ˆäºä¹Ÿå˜æˆäº†åªèƒ½å­¤æ³¨ä¸€æ·åœ¨é«˜äºŒå‡ºæˆç»©çš„è€å¹´äººã€‚æˆ‘æˆ–è®¸ä»€ä¹ˆéƒ½æ²¡å°‘ï¼Œåªä¸è¿‡å°‘äº†ä¸€æ¬¡è®¡åˆ’ï¼›ä½†æˆ‘æˆ–è®¸å·²ç»ä¸€æ— æ‰€æœ‰â€”â€”æˆ‘çš„æ—¶é—´æ²¡æœ‰äº†ã€‚ æˆ‘æ›¾ç»è®¤ä¸ºè€ƒçœä¸€åº”è¯¥ä¸ç®—å¤šéš¾ï¼Œç»“æœç°å®é‡é‡åœ°ç»™äº†æˆ‘ä¸€é—·æ£ï¼Œå‰å–é“ï¼šè¿™å°±æ˜¯ç°å®çš„åŠ›é‡ã€‚ æˆ–è®¸å‡ ä¸ªæœˆä¹‹å‰ï¼Œæˆ–è€…è¯´ï¼Œä»è€ƒå®ŒNoipåˆ°ç°åœ¨ï¼Œæˆ‘çš„æ‰€æœ‰è´Ÿé¢æƒ…ç»ªè¡¨ç°å‡ºæ¥çš„éƒ½æ˜¯æ¶ˆæã€æ²‰é»˜ã€é¢“åºŸï¼Œè€Œç›´åˆ°ä»Šå¤©ï¼Œæˆ‘çœ‹ç€çª—å¤–ç©ºæ—·çš„æ“åœºã€ä¸ç‡¥çš„å¾®é£ï¼Œæˆ‘çœ‹ç€å¤©è¾¹å¾˜å¾Šçš„æµäº‘â€”â€”æˆ‘åªæƒ³å“­ï¼Œå£°å˜¶åŠ›ç«­åœ°ã€æ­‡æ–¯åº•é‡Œåœ°å“­ã€‚ æˆ‘åªæƒ³å“­ã€‚ $\rm{0x02}$ æ•…äººæœ€è¿‘æ™šçœ å‰ï¼Œå¸¸ä¼šæƒ³èµ·åˆæ¥å®éªŒéƒ¨æ—¶çš„åŒåƒšä»¬ï¼š]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>éšæƒ³/ä¸‹ä¸‹ç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œæµ1Â·Dinic&è´¹ç”¨æµ]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2018%2F08%2F20%2Fnet-work-flow%E5%88%9D%E6%AD%A5%2F</url>
    <content type="text"><![CDATA[$0x00~ {}~Preface$$2333â€‹$è¿™æ˜¯å¥½ä¹…ä¹‹å‰å­¦çš„äº†ï¼Œä¸è¿‡ä¸€ç›´åœ¨å’•å’•å’•å’•ã€‚ ä¸€èˆ¬æ¥è®²ï¼Œæ­£å¸¸çš„ç½‘ç»œæµç¬”è®°ä¸€å¼€å§‹éƒ½æ˜¯è¦ç»™ç½‘ç»œæµå›¾ä¸‹å®šä¹‰çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸å¦¨ä¹Ÿæ¥å…ˆè¿›è¡Œä¸€æ³¢è¿™ç§æ“ä½œã€‚ é‚£ä¹ˆç½‘ç»œæµå›¾ï¼Œç±»ä¼¼äºæœ‰å‘å›¾ï¼Œè¾¹ä¸Šå¸¦æƒï¼Œä½†æ˜¯è¿™ä¸ªæƒå€¼å˜æˆäº†â€œå®¹é‡â€ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å®šä¹‰å®¹é‡ä¸º$c(u,v) \in E ? c(u,v) : 0â€‹$ã€‚åœ¨æ•´å¼ å›¾ä¸­æœ‰ä¸€ä¸ªæºç‚¹å’Œä¸€ä¸ªæ±‡ç‚¹ï¼Œä¸”å¯¹äºæ¯ä¸ªç‚¹æ¥è¯´æœ‰$$\sum F_{in} = \sum F_{out}â€‹$$å¹¶ä¸”æˆ‘ä»¬äººä¸ºçš„å°†$Sâ€‹$çš„$F_{in}â€‹$è®¾ç½®ä¸º$0â€‹$ï¼Œ$F_{out}â€‹$è®¾ç½®ä¸º$+\inftyâ€‹$ã€‚$Tâ€‹$æ­£å¥½ç›¸åã€‚å½“ç„¶ï¼Œå¦‚æœéè¯´ä¸åˆé€‚çš„è¯ï¼Œå¯ä»¥å°†æºç‚¹å’Œæ±‡ç‚¹çœ‹åšåŒä¸€ä¸ªç‚¹233. é€šè¿‡çº¿æ€§è§„åˆ’æˆ‘ä»¬å¯ä»¥è¯æ˜çš„æ˜¯æœ€å¤§æµç­‰ä»·äºæœ€å°å‰²ï¼Œè€Œåšä¸»ç°åœ¨å¯¹çº¿æ€§è§„åˆ’è¿˜åªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œç­‰ä»€ä¹ˆæ—¶å€™â€œè´¯é€šäº†â€å†æ•´ç†åšå®¢å§233 å¥½çš„ï¼Œçªè§‰å¾—å®šä¹‰ä»€ä¹ˆçš„å¯ä»¥ä¸è¯´äº†ï¼Œæˆ‘ä»¬ç›´æ¥ä¸Š$EK$ $0x01~$ ä¸çŸ¥é“å¯ä»¥ç”¨æ¥å¹²å•¥çš„$EK$å…¶å®ï¼Œ$EK$èº«ä¸ºå¤§å®¶çœ¼ä¸­çš„$basis$ç®—æ³•ï¼Œä»–å±…ç„¶æ˜¯æ¯”$Dinic$æ™šå‘è¡¨çš„â€¦â€¦$233$ å…¨ç¨‹æ˜¯$Edmond-Karp$ ,ç”±ä¸¤ä½ç§‘å­¦å®¶ä¸€èµ·å‘è¡¨çš„ï¼Œå¤æ‚åº¦ä¸Šç•Œå¤§çº¦åœ¨$\Theta(nm^2)$å·¦å³ï¼Œæ˜¯ä¸ªæ¯”è¾ƒæ²¡ç”¨çš„ç®—æ³• ä»–çš„åŸç†å°±æ˜¯ï¼Œæˆ‘ä»¬é€šè¿‡ä¸¤ä¸ªæ€å™¨æ¥å®ç°æœ€å¤§æµï¼š $Killer1:$å¢å¹¿è·¯ è¿™ä¸ªä¸œè¥¿å°±æ˜¯æˆ‘ä»¬ä¸æ–­å¯»æ‰¾ä»æºç‚¹åˆ°æ±‡ç‚¹çš„å¯è¡Œè·¯å¾„ï¼Œä¸æ–­æµç›´åˆ°ä¸èƒ½æµä¸ºæ­¢ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆæŠ€å·§å¯è¨€ï¼Œæ¯•ç«Ÿç½‘ç»œæµæ˜¯çº¿æ€§è§„åˆ’è€Œä¸æ˜¯åŠ¨æ€è§„åˆ’ï¼Œå›¾é›†ä¸è§£æ˜¯å•å°„çš„é€»è¾‘å…³ç³»è€Œä¸æ˜¯ä¸€å¯¹å¤šçš„éæ˜ å°„å…³ç³»ã€‚ $Killer2:$ åå‘è¾¹ è™½ç„¶å›¾é›†ä¸è§£æ˜¯å•å°„çš„é€»è¾‘å…³ç³»ï¼Œå³è™½ç„¶å¯¹äºåŒä¸€å¼ å›¾$G(U, V)$æ— è®ºæ€ä¹ˆèµ°ï¼Œæœ€ä¼˜è§£ï¼ˆæœ€å¤§æµï¼‰æ€»æ˜¯ä¸€ä¸ªå®šå€¼ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨æ‰§è¡Œç®—æ³•çš„æ—¶å€™å¯èƒ½ä¼šå› ä¸ºé€‰æ‹©äº†é”™è¯¯çš„å¢å¹¿è·¯ç»è€Œå¯¼è‡´ç®—æ³•çš„é”™è¯¯ã€‚æ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬è€ƒè™‘å»ºç«‹åå‘è¾¹ã€‚å…¶å®è¿™å°±æ˜¯ä¸€ä¸ªå°å°çš„åæ‚”æ“ä½œã€‚è¿™ä¸ªæ­£ç¡®æ€§åœ¨äºæˆ‘ä»¬å»ºç«‹äº†åå‘è¾¹ï¼Œå¯¹äºæ‰§è¡Œåæ‚”æ“ä½œå¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¯¹äºæ‰§è¡Œæ­£å¸¸çš„å¢å¹¿æ“ä½œä¹Ÿä¸ä¼šå½±å“ä»€ä¹ˆç»“æœï¼Œå› ä¸ºæ¯•ç«Ÿæ˜¯åå‘è¾¹â€”â€”æ˜¯ä»$T$è¿å‘$S$çš„ï¼Œç­‰åŒäºåŸæ¥æ²¡åå‘è¾¹æ—¶çš„æƒ…å†µã€‚ å—¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç¨‹åºå®ç°çš„æ—¶å€™ï¼Œå¤§æ¦‚å°±æ˜¯è¿™æ · 12345678910111213141516171819202122232425bool BFS()&#123; queue&lt;int&gt; q ; fill(_F, _F + N + 1, Inf) ; fill(dis, dis + N + 1, 0) ; q.push(S), dis[S] = 1, pre[T] = -1; while (!q.empty())&#123; now = q.front() ; q.pop() ; for (int k = head[now]; k != -1 ; k = e[k].next)&#123; if(e[k].v &amp;&amp; !dis[e[k].to])&#123; dis[e[k].to] = dis[now] + 1 ; _F[e[k].to] = min(e[k].v, _F[now]) ; pre[e[k].to] = now, Last[e[k].to] = k ; q.push(e[k].to) ; &#125; &#125; &#125; return dis[T] != 0 ;&#125;void _EK()&#123; while(BFS())&#123; now = T, MAX_F += _F[T] ; while(now != S) e[Last[now]].v -= _F[T], e[Last[now] ^ 1].v += _F[T], now = pre[now] ; &#125;&#125; å…¶ä¸­$Last$è®°å½•å‰é©±ï¼Œ$dis$å°±æ˜¯ä¸ª$mark$ï¼Œ$_F$æ•°ç»„è®°å½•å¢å¹¿è·¯ä¸Šæœ€å¤§çš„æµé‡ ã€‚ é‚£æˆ‘ä»¬æ¥ä¸‹æ¥åˆ†æå¤æ‚åº¦ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ$EK$ç”±äºé‡‡ç”¨$BFS$ï¼Œæ‰€ä»¥æ¯æ¬¡æ‰¾çš„ä¸€å®šæ˜¯æœ€çŸ­è·¯ã€‚è€Œåœ¨æœ€çŸ­è·¯ä¸å˜çš„ä¸€æ®µæ—¶é—´å†…ä¸€æ¡è¾¹å’Œå®ƒçš„åå‘è¾¹ä¸å¯èƒ½éƒ½è¢«å¢å¹¿ï¼ˆå¦‚æœå¢å¹¿åå‘è¾¹çš„è¯ï¼Œ$dis_{min}++$ï¼‰ï¼Œæ‰€ä»¥åœ¨æ¯æ¡è¾¹éƒ½ä½œä¸ºæ®‹é‡æœ€å°å€¼å¢å¹¿ä¸€æ¬¡ä¹‹åï¼ˆè‡³å¤š$m$æ¬¡ï¼‰æœ€çŸ­è·¯å°±ä¼šå¢åŠ ã€‚è€Œæœ€çŸ­è·¯æœ€å¤šä»$2$å¢åˆ°$n$ï¼Œæ‰€ä»¥æœ€å¤šå¢å¹¿$n \times m$æ¬¡ã€‚è€Œæ¯æ¬¡$bfs$è‡³å¤šæ˜¯$\Theta(m)$çš„ï¼Œæ‰€ä»¥æ€»å¤æ‚åº¦ä¸Šç•Œæ˜¯$\Theta(nm^2)$ ä½†äº‹å®ä¸Šï¼Œéšæœºçš„æ•°æ®å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯è¦è¿œè¿œå°äºè¿™ä¸ªå¤æ‚åº¦ä¸Šç•Œçš„ï¼Œæ‰€ä»¥$EK$å¯ä»¥è§£å†³æœ´ç´ çš„æœ€å¤§æµé—®é¢˜ã€‚ å…¨éƒ¨çš„ä»£ç å­˜æ¡£ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include &lt;queue&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#define MAX 100010#define Inf 1926081700using namespace std ;int N, M, S, T ;struct edges&#123; int to, next, v ;&#125;e[MAX &lt;&lt; 1] ;int MAX_F, i ;int head[MAX], cnt = -1, pre[MAX], now ;int A, B, C, Last[MAX], _F[MAX], dis[MAX] ;inline int qr()&#123; int k = 0 ; char c = getchar() ; while (c &lt; '0' || c &gt; '9') c = getchar() ; while (c &lt;= '9' &amp;&amp; c &gt;= '0') k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k ;&#125;inline void add(int u, int v, int w)&#123; e[++ cnt].to = v, e[cnt].v = w ; e[cnt].next = head[u], head[u] = cnt ; e[++ cnt].to = u, e[cnt].v = 0 ; e[cnt].next = head[v], head[v] = cnt ;&#125;bool BFS()&#123; queue&lt;int&gt; q ; fill(_F, _F + N + 1, Inf) ; fill(dis, dis + N + 1, 0) ; q.push(S), dis[S] = 1, pre[T] = -1; while (!q.empty())&#123; now = q.front() ; q.pop() ; for (int k = head[now]; k != -1 ; k = e[k].next)&#123; if(e[k].v &amp;&amp; !dis[e[k].to])&#123; dis[e[k].to] = dis[now] + 1 ; _F[e[k].to] = min(e[k].v, _F[now]) ; pre[e[k].to] = now, Last[e[k].to] = k ; q.push(e[k].to) ; &#125; &#125; &#125; return dis[T] != 0 ;&#125;void _EK()&#123; while(BFS())&#123; now = T, MAX_F += _F[T] ; while(now != S) e[Last[now]].v -= _F[T], e[Last[now] ^ 1].v += _F[T], now = pre[now] ; &#125;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; S &gt;&gt; T ; fill (head + 1, head + N + 1, -1) ; for (i = 1; i &lt;= M; ++ i) A = qr(), B = qr(), C = qr(), add(A, B, C) ; _EK() ; cout &lt;&lt; MAX_F &lt;&lt; endl ; return 0 ;&#125; $0x02$ æ®è¯´å¯ä»¥æ‹¯æ•‘ä¸–ç•Œçš„$Dinic$é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬è¯´$Dinic$ï¼Œè¿™ä¸ªç®—æ³•æ˜¯ç”±$Dinic$æ•™æˆåˆ›é€ çš„$qwq$ ç„¶å$Dinic$åœ¨$EK$çš„åŸºç¡€ä¸Šï¼Œé‡‡ç”¨äº†ä¸¤ä¸ªæ–°çš„ä¼˜åŒ–æ–¹æ¡ˆï¼š $Case1:$åˆ†å±‚å›¾ æ¯æ¬¡æˆ‘ä»¬é€‰æ‹©ç”¨$bfs + dfs$å»å¢å¹¿ä¸€å¼ â€œå¢å¹¿ç½‘â€ï¼Œå¤§ä½“ä¸Šå°±æ˜¯æˆ‘ä»¬è®°å½•æ·±åº¦ï¼ˆæˆ–è€…è¯´æ˜¯ç¦»æºç‚¹çš„æœ€å°è·ç¦»ï¼‰ï¼Œç„¶åæˆ‘ä»¬ç”¨$dfs$éå†è¿™å¼ å¢å¹¿ç½‘ã€‚ $Case2:$å½“å‰å¼§ æˆ‘ä»¬ä¾ä»—çš„æ˜¯è¿™ä¸€æ®µï¼ˆå¥ï¼‰ä»£ç ï¼š 1for(int &amp;i=cur[now];i!=-1;i=line[i].nxt) å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯å¼•ç”¨ç¬¦å·ï¼Œæ­¤å¤„å¼•ç”¨çš„ç›®çš„æ˜¯ä¸æ–­æ›´æ–°$cur$ï¼Œè¾¾åˆ°ä¸é‡å¤æšä¸¾çš„ç›®çš„ã€‚ é‚£ä¹ˆæ•´ä½“ä»£ç å°±æ˜¯ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;queue&gt; #include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#define MAX 100010using namespace std ;int N, M, S, T ;struct edges&#123; int to, next, v ; &#125;e[MAX &lt;&lt; 1] ; int A, B, C, i ;int head[MAX], cnt = -1, now, cur[MAX], dis[MAX] ;inline int qr()&#123; int k = 0 ; char c = getchar() ; while (c &lt; '0' || c &gt; '9') c = getchar() ; while (c &lt;= '9' &amp;&amp; c &gt;= '0') k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k ;&#125;inline void add(int u, int v, int w)&#123; e[++ cnt].to = v, e[cnt].v = w ; e[cnt].next = head[u], head[u] = cnt ; e[++ cnt].to = u, e[cnt].v = 0 ; e[cnt].next = head[v], head[v] = cnt ;&#125;bool bfs()&#123; queue&lt;int&gt; q ; fill(dis, dis + N + 23, 0) ; q.push(S), dis[S] = 1 ; while (!q.empty())&#123; now = q.front() ; q.pop() ; for (int k = head[now]; k != -1 ; k = e[k].next)&#123; if (!dis[e[k].to] &amp;&amp; e[k].v) dis[e[k].to] = dis[now] + 1, q.push(e[k].to) ; &#125; &#125; return dis[T] ? 1 : 0 ;&#125;int dfs(int St, int Aim, int Flow)&#123; if (St == Aim || !Flow) return Flow ; int Fl, res = 0 ; for (int &amp;k = cur[St] ; k != -1; k = e[k].next) if (dis[e[k].to] == dis[St] + 1 &amp;&amp; (Fl = dfs(e[k].to, Aim, min(Flow, e[k].v))))&#123; res += Fl, e[k].v -= Fl, e[k ^ 1].v+= Fl ; Flow -= Fl ; if (!Flow) break ; &#125; return res ;&#125;int Dinic()&#123; int res = 0 ; while(bfs())&#123; for(i = 1; i &lt;= N; ++ i) cur[i] = head[i] ; res += dfs(S, T, 0x7fffffff) ; &#125; return res ;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; S &gt;&gt; T ; fill (head + 1, head + N + 1, -1) ; for (i = 1; i &lt;= M; ++ i) A = qr(), B = qr(), C = qr(), add(A, B, C) ; cout &lt;&lt; Dinic() ; return 0 ;&#125; å—¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸éš¾çœ‹å‡º$cur$å…¶å®å°±æ˜¯ä¸ºäº†é˜²æ­¢æˆ‘ä»¬ä¸æ–­é‡å¤æšä¸¾è¾¹ã€‚å› ä¸ºå¯¹äºä¸€æ¬¡$dfs$ï¼Œåœ¨åŒä¸€å¼ åˆ†å¥½å±‚æ¬¡çš„å›¾ä¸Šæ‰§è¡Œï¼Œä¸ä¼šå‡ºç°é‡å¤ç”¨ä¸€æ¡è¾¹çš„æƒ…å†µâ€”â€”æˆ‘ä»¬è®¤ä¸ºæ¯æ¡è¾¹å·²ç»æµæ»¡ã€‚é‚£ä¹ˆå½“å‰å¼§å¯ä»¥ä¿è¯ä¸ä¼šé‡å¤èµ°ã€‚è€Œå¤æ‚åº¦æ²¡æœ‰å˜ï¼Œä½†æ˜¯ç¡®å®ä¼šæ›´å¿«ã€‚ é‚£ä¹ˆæ¥ä¸‹æ¥è¯æ˜ä¸€ä¸‹$Dinic$çš„æ—¶é—´å¤æ‚åº¦ã€‚ æ ¹æ®åˆ†å±‚å›¾è€Œè¨€ï¼Œ$t$çš„å±‚æ¬¡æ˜¯å•è°ƒå¢é•¿çš„â€”â€”å› ä¸ºæ¯æ¬¡å¢å¹¿å®Œæ¯•ä¹‹åå¯¹äºæ¯æ¡å¯è¡Œçš„å¢å¹¿è·¯ï¼Œéƒ½æ€»ä¼šæœ‰è‡³å°‘ä¸€æ¡è¾¹å®¹é‡ä¸ºé›¶ï¼Œæ‰€ä»¥æœ€å¤šä¼šæœ‰$n$æ¬¡é‡æ–°åˆ†å±‚ã€‚è€Œå¯¹äºæ¯æ¬¡åœ¨å¢å¹¿ç½‘ä¸Šçš„æ“ä½œï¼Œè‡³å¤šæœ‰$m$æ¡å¢å¹¿è·¯ï¼ˆæ¯æ¡è¾¹è‡³å¤šæœ‰ä¸€æ¬¡æœºä¼šç½®é›¶ï¼‰ï¼Œæ¯æ¡å¢å¹¿è·¯è¦å›æº¯+æœç´¢æ€»å…±$O(2n)$çš„æ“ä½œã€‚é‚£ä¹ˆæ¸è¿›æ„ä¹‰ä¸Šå¤æ‚åº¦å°±æ˜¯$\Theta(n^2m)$çš„ã€‚ å¾ˆæ˜¾ç„¶ï¼Œè¿™åœ¨éšæœºæ•°æ®çš„æƒ…å†µä¸‹ä¹Ÿæ˜¯è·‘ä¸æ»¡çš„ã€‚è€ŒåŠ äº†å½“å‰å¼§ä¼˜åŒ–ï¼Œå¤æ‚åº¦ç†è®ºä¸Šè¿˜æ˜¯ä¸å˜çš„ï¼Œæˆ–è€…è¯´ï¼Œåœ¨è·‘æ»¡çš„æƒ…å†µä¸‹ï¼Œå¤æ‚åº¦æ›´æ¥è¿‘ä¸Šé™å¤æ‚åº¦$\Theta(n^2m)$ ã€‚ æ®è¯´éšæœºå›¾ä¸Šè·‘ä¸ª$1 \cdot 1e4$~$5 \cdot 1e4$æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ã€‚ æœ€åæˆ‘ä»¬æ¥è¯´ä¸€ä¸‹è´¹ç”¨æµã€‚ $0x03$ è´¹ç”¨æµï¼ˆæœ€å°è´¹ç”¨æœ€å¤§æµï¼‰å…¶å®è´¹ç”¨æµâ€¦â€¦å¸¸è§çš„ï¼Œå°±æ˜¯åœ¨æœ€å¤§æµçš„å‰æä¸‹è´¹ç”¨æœ€å°ã€‚é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥æŠŠ$EK$çš„$bfs$æ¢æˆ$SPFA$å°±è¡Œäº†233 è‡³äºä¸ºä»€ä¹ˆä¸èƒ½$dinic$ï¼Œå¾ˆæ˜¾ç„¶æ˜¯å› ä¸ºæ²¡æ³•åˆ†å±‚å•Šâ€¦â€¦$hhh$ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566// luogu-judger-enable-o2#include &lt;queue&gt;#include &lt;cstdio&gt;#include &lt;cstring&gt;#include &lt;iostream&gt;#define MAX 100010#define Inf 1926081700using namespace std ;int N, M, S, T ;struct edges&#123; int to, next, v, c ;&#125;e[MAX &lt;&lt; 1] ;bool mark[MAX] ; int MAX_F, MAX_C, i ;int head[MAX], cnt = -1, pre[MAX], now ;int A, B, C, D, Last[MAX], _F[MAX], dis[MAX] ;inline int qr()&#123; int k = 0 ; char c = getchar() ; while (c &lt; '0' || c &gt; '9') c = getchar() ; while (c &lt;= '9' &amp;&amp; c &gt;= '0') k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k ;&#125;inline void add(int u, int v, int w, int c)&#123; e[++ cnt].to = v, e[cnt].v = w ; e[cnt].next = head[u], e[cnt].c = c, head[u] = cnt ; e[++ cnt].to = u, e[cnt].v = 0 ; e[cnt].next = head[v], e[cnt].c = -1 * c, head[v] = cnt ;&#125;bool SPFA()&#123; queue&lt;int&gt; q ; fill(_F, _F + N + 1, Inf) ; fill(dis, dis + N + 1, Inf) ; fill(mark, mark + N + 1, 0) ; q.push(S), dis[S] = 0, mark[S] = 1, pre[T] = -1; while (!q.empty())&#123; now = q.front() ; q.pop() ; mark[now] = 0 ; for (int k = head[now]; k != -1 ; k = e[k].next) if (dis[e[k].to] &gt; dis[now] + e[k].c &amp;&amp; e[k].v)&#123; dis[e[k].to] = dis[now] + e[k].c ; _F[e[k].to] = min(e[k].v, _F[now]) ; pre[e[k].to] = now, Last[e[k].to] = k ; if(!mark[e[k].to])&#123; q.push(e[k].to) ; mark[e[k].to] = 1 ; &#125; &#125; &#125; return dis[T] != Inf;&#125;void _EK()&#123; while(SPFA())&#123; now = T, MAX_F += _F[T], MAX_C += dis[T] * _F[T] ; while(now != S) e[Last[now]].v -= _F[T], e[Last[now] ^ 1].v += _F[T], now = pre[now] ; &#125;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; S &gt;&gt; T ; fill (head + 1, head + N + 1, -1) ; for (i = 1; i &lt;= M; ++ i) A = qr(), B = qr(), C = qr(), D = qr(), add(A, B, C, D) ; _EK() ; cout &lt;&lt; MAX_F &lt;&lt;" "&lt;&lt; MAX_C &lt;&lt; endl ; return 0 ;&#125; ä½†æ˜¯$SPFA$ä»–ï¼Œä»–ä»–ä»–ä»–ä»–å·²ç»æ­»åœ¨äº†$NOI2018$â€¦â€¦ é‚£ä¹ˆæˆ‘ä»¬è€ƒè™‘æ˜¯å¦èƒ½ç”¨$dijkstra$æ¥åšã€‚é‚£æˆ‘ä»¬è¦è€ƒè™‘çš„å°±æ˜¯è´Ÿæƒè¾¹ï¼Œå› ä¸ºæˆ‘ä»¬å»ºçš„åå‘è¾¹æ˜¯è¦æŠŠä»£ä»·ä¹Ÿè·‘å›å»çš„å•Šï¼Œæ‰€ä»¥æˆ‘ä»¬è‡´åŠ›äºè§£å†³è´Ÿæƒè¾¹é—®é¢˜ã€‚$rqy$å½“æ—¶æ˜¯è¿™ä¹ˆç»™æˆ‘ä»¬è®²çš„ï¼š è€ƒè™‘ç»™æ¯ä¸ªç‚¹åŠ ä¸€ä¸ªâ€œåŠ¿â€$h$ ã€‚ä¸€æ¡$u$ â†’ $v$ çš„è´¹ç”¨ä¸º $c$ çš„è¾¹å˜æˆä¸€æ¡$u$â†’$v$è´¹ç”¨æ˜¯$câˆ’h_v+h_u$ çš„è¾¹ã€‚ é‚£ä¹ˆæˆ‘ä»¬ä»ç‚¹$S$åˆ°ç‚¹$B$ç‚¹çš„è·ç¦»ä¾¿ä»$dis_B$å˜æˆäº†$dis_B + h_s- h_B$ï¼Œæˆ‘ä»¬æœ€ååªéœ€è¦æŠŠåŸæ¥çš„åŠ¿å‡½æ•°å‡å»å³å¯ã€‚ ä¸‹é¢æˆ‘ä»¬æ€è€ƒåˆ°åº•è¦é€‰å–ä»€ä¹ˆä½œä¸ºåŠ¿å‡½æ•°å‘¢ï¼Ÿ æˆ‘ä»¬è€ƒè™‘å°†ä¸Šæ¬¡æ±‚å‡ºçš„æœ€çŸ­è·¯ä½œä¸ºåŠ¿å‡½æ•°ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ$rqy$æ˜¯è¿™ä¹ˆè¯´çš„ï¼š è¿™ä¸ºä»€ä¹ˆæ˜¯å¯¹çš„å‘¢? è€ƒè™‘ä¸€æ¡è¾¹ $uâ†’v$ ï¼Œè´¹ç”¨ä¸º $c$ ã€‚ å¦‚æœå®ƒä¸Šä¸€æ¬¡å¢å¹¿æ—¶æ®‹é‡ä¸ä¸º $0$ ï¼Œé‚£ä¹ˆæ ¹æ®æœ€çŸ­è·¯çš„æ€§è´¨æœ‰$dis_u + c â‰¥ dis_v$ (ä¸ç„¶çš„è¯è¯´æ˜æœ€çŸ­è·¯æ±‚é”™äº†)ã€‚ å¦‚æœå®ƒä¸Šæ¬¡å¢å¹¿æ—¶æ®‹é‡ä¸º $0$ è€Œç°åœ¨ä¸ä¸º $0$ ï¼Œé‚£è¯´æ˜å®ƒçš„åå‘è¾¹è¢«å¢å¹¿äº†ã€‚è€Œå¢å¹¿çš„è·¯å¾„æ˜¯æœ€çŸ­è·¯å¾„ï¼Œåå‘è¾¹æ˜¯ $v â†’ u$ï¼Œè´¹ç”¨ $âˆ’c$ ã€‚æ‰€ä»¥$dis_v$ =$dis_u âˆ’c$ ï¼Œä¹Ÿå°±æ˜¯è¯´ $-c+dis_u âˆ’dis_v = 0$ ä¹Ÿæ˜¯éè´Ÿçš„ï¼Œé‚£ä¹ˆ$w+h_u âˆ’h_v$å°±æ˜¯éè´Ÿçš„ã€‚ äºæ˜¯æˆ‘ä»¬ç°åœ¨å¯ä»¥ç”¨ $Dijkstra$ å¢å¹¿ï¼Œå¾ˆå¿«è€Œä¸”æ›´éš¾å¡( è‡³äºä»£ç ï¼Œå¤§æ¦‚é•¿è¿™æ ·ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include &lt;queue&gt;#include &lt;cstdio&gt;#include &lt;iostream&gt;#include &lt;algorithm&gt;#define MAX 100010#define Inf 192608170using namespace std ;struct edge&#123; int to, next, c, f ;&#125;e[MAX &lt;&lt; 1] ; int H[MAX], S ;int dist[MAX], _F[MAX], Pre[MAX], i, k ;int N, M, A, B, C, D, cnt = -1, x1, x2, head[MAX] ;struct node&#123; int dist, num ; bool operator &lt;(const node &amp; now) const&#123;return dist &gt; now.dist ; &#125;&#125;; priority_queue&lt;node&gt; q ; bool vis[MAX] ; int Last[MAX], MAX_F, MAX_C, t, ww ;inline int qr()&#123; int k = 0 ; char c = getchar() ; while (c &lt; '0' || c &gt; '9') c = getchar() ; while (c &lt;= '9' &amp;&amp; c &gt;= '0') k = (k &lt;&lt; 1) + (k &lt;&lt; 3) + c - 48, c = getchar() ; return k ;&#125;inline void Add(int u, int v, int f, int c)&#123; e[++ cnt].to = v, e[cnt].f = f ; e[cnt].next = head[u], e[cnt].c = c, head[u] = cnt ; e[++ cnt].to = u, e[cnt].f = 0 ; e[cnt].next = head[v], e[cnt].c = -1 * c, head[v] = cnt ;&#125;bool dijkstra()&#123; for (i = 1 ; i &lt;= N; ++ i) dist[i] = _F[i] = Inf, vis[i] = 0 ; q.push((node)&#123;0, S&#125;) ; dist[S] = 0 ; while(!q.empty())&#123; node now = q.top() ; q.pop() ; while(vis[now.num]&amp;&amp;!q.empty()) now = q.top(), q.pop(); x1 = now.num, x2 = now.dist ; if(vis[x1]) continue ; vis[x1] = 1 ; for(k = head[x1] ; k != -1 ; k = e[k].next) if (e[k].f &gt; 0 &amp;&amp; !vis[e[k].to] &amp;&amp; dist[e[k].to] &gt; x2 + e[k].c + H[x1] - H[e[k].to])&#123; int T = e[k].to ; dist[T] = x2 + e[k].c + H[x1] - H[T] ; _F[T] = min(_F[x1], e[k].f), Pre[T] = x1, Last[T] = k, q.push((node)&#123;dist[T], T&#125;) ; &#125; &#125; return dist[t] &lt; Inf ;&#125;inline void _EK()&#123; while(dijkstra())&#123; ww = t, MAX_F += _F[t], MAX_C += (dist[t] - H[S] + H[t]) * _F[t] ; while(ww != S) e[Last[ww]].f -= _F[t], e[Last[ww] ^ 1].f += _F[t], ww = Pre[ww] ; for (i = 1 ; i &lt;= N ; ++ i) H[i] += dist[i] ; &#125;&#125;int main()&#123; cin &gt;&gt; N &gt;&gt; M &gt;&gt; S &gt;&gt; t ; for (i = 0 ; i &lt;= N ; ++ i) head[i] = -1 ; for (i = 1 ; i &lt;= M ; ++ i) A = qr(), B = qr(), C = qr(), D = qr(), Add(A, B, C, D) ; _EK() ; cout &lt;&lt; MAX_F &lt;&lt; " " &lt;&lt; MAX_C &lt;&lt; endl ; return 0 ;&#125;]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>ç½‘ç»œæµ-æœ€å¤§æµ</tag>
        <tag>ç½‘ç»œæµ-è´¹ç”¨æµ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšæƒ³äºŒÂ·ä¸˜å‰å°”]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2018%2F08%2F08%2F%E9%9A%8F%E6%83%B3%E4%BA%8C%2F</url>
    <content type="text"><![CDATA[â€œéšæƒ³â€ç³»åˆ—ç´¢å¼•ï¼šæˆ³æˆ‘ å•Šâ€¦â€¦è¿˜æœ‰å‡ åå¤©å°±$NOIp$äº†å•Šâ€¦â€¦ ç°åœ¨æ˜¯ä¸‹åˆå››ç‚¹ï¼Œæœºæˆ¿ã€‚ æ¯”æˆ‘å¼±çš„éƒ½åœ¨é¢“åºŸï¼Œæ¯”æˆ‘å¼ºçš„éƒ½åœ¨åšé¢˜ã€‚ å”¯ç‹¬æˆ‘åœ¨å†™åšå®¢ã€‚ æˆ‘åœ¨æƒ³äº›ä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘æ˜¯$pks$ï¼Œæ²¡é”™ï¼Œæˆ‘ä¸æ•¢ç§°è‡ªå·±ä¸º$Flower_pks$ï¼Œä¸æ•¢ç§°è‡ªå·±ä¸ºâ€œèŠ±â€ï¼Œå› ä¸ºè¿™è·Ÿæˆ‘å®åŠ›ä¸ç¬¦â€”â€”æˆ‘ä¸æ˜¯é‚£ä¸ªåœ¨$Luogu$è¿™ä¸ª$OJ$ä¸Šå°æœ‰åæ°”çš„å¤§ä½¬ï¼Œä¸æ˜¯é‚£ä¸ªé¢˜è§£å†™å¾—ååˆ†è¯¦ç»†çš„ä½œè€…ï¼Œæ›´ä¸æ˜¯$SD$é›†è®­é‡Œé¢æ’çš„ä¸Šå·çš„äººã€‚ æ²¡é”™ï¼Œæˆ‘ä¸é…å•Šã€‚ ä¸Šåˆ$rqy$å‡ºé¢˜ï¼Œå¤§æ¦‚æ˜¯è¢«å…¨æ–¹é¢ç¢¾å‹äº†å§ã€‚çœé˜ŸåŸ¹è®­æ—¶è™½ç„¶ä¹Ÿè€ƒä¸å¤šå¥½ï¼Œä½†æ˜¯åœ¨å­¦æ ¡é‡Œè¢«å¹³æ—¥é‡Œç©çš„å¾ˆå¥½çš„æœ‹å‹ç¢¾å‹å´æ˜¯æ›´åŠ ç—›è‹¦â€”â€”æˆ‘çœ‹ä¸è§è·¯ã€‚ æ—è¾¹çš„çª—å¸˜ç´§ç´§åœ°é—­ç€ã€è´´ç€çª—æˆ·ï¼Œå¤šäº‘çš„æ—¥å­é‡Œï¼ŒæŒ¤è¿›æ¥é˜³å…‰æ€»æ˜¯ç»™äººä¸€ç§å¼‚æ ·çš„æ„Ÿè§‰ï¼Œæ´’åœ¨æˆ‘çš„å³è‚©ä¸Šã€‚ æ’‡è¿‡å¤´æ¥çœ‹é”®ç›˜ä¸Šå‘ç€å…‰çš„$w$é”®ï¼Œçªç„¶æœ‰ç§æƒ³å“­çš„æ¬²æœ›ã€‚ æˆ‘æ˜¯çœŸå¼±å•Šã€‚ $NOIp$ç°åœ¨çœä¸€éƒ½ä¸ç¨³å§ï¼Œä¹Ÿå°±ä¼šå†™å‡ ä¸ªçœé€‰æ‰ä¼šè€ƒåˆ°çš„æ¿å­äº†ï¼›æ¿å­ä¹Ÿä¸æ€ä¹ˆå¯ä»¥æ‰“å‡ºæ¥å§ï¼Œæ¯•ç«Ÿæ²¡æœ‰å¾ˆå¼ºçš„è®°å¿†åŠ›â€”â€”å¤©ç”Ÿå°±æ˜¯ä¸ªå¼±è€…å•Šã€‚ æˆ‘æ€»æ˜¯ç‰¹åˆ«ç¾¡æ…•åˆ«äººæ•é”çš„ååº”èƒ½äº†ï¼Œç¾¡æ…•ç‹¬åˆ°çš„æ•°å­¦å¤©èµ‹ï¼Œç¾¡æ…•ç¨³é‡çš„ç­”é¢˜ä¹ æƒ¯ï¼Œç¾¡æ…•â€¦â€¦ ä½†æˆ‘ä»€ä¹ˆä¹Ÿæ²¡æœ‰ã€‚æˆ‘ä¹Ÿä¸æ˜¯ä¸ªå¯Œæœ‰æ¯…åŠ›çš„äººã€‚ æˆ‘ä¸€ç›´æå…¶å¯Œæœ‰è‡ªå°Šï¼Œååˆ†çš„è‡ªå°Šã€‚æ‰€ä»¥æˆ‘ä¼šæ‹¼äº†å‘½åœ°å­¦åˆ«äººä¸ä¼šçš„ç®—æ³•ï¼Œå¹¶ä¸”ååˆ†ä¸å–œæ¬¢åˆ«äººå–„æ„çš„å’Œæˆ‘å…±åŒè¿›æ­¥ï¼Œæ¯•ç«Ÿå› ä¸ºæˆ‘å¤ªå¼±å¤ªå¼±ã€‚ æˆ‘å‘ç°æˆ‘è¿™ä¸ªäººå¥½è¯¡å¼‚å•Šâ€¦â€¦å…¶ä½™èµ°$OI$è·¯çš„äººéƒ½æ²¡æœ‰è¿™ç§å¿ƒç†æ³¢åŠ¨ï¼Œåªæœ‰æˆ‘ä¼šæŠŠæ—¶é—´æ”¾åœ¨è¿™ä¸Šé¢å§ã€‚ ä¼°è®¡æ˜¯æˆ‘ä»€ä¹ˆéƒ½ä¸é€‚åˆå§ã€‚ å…¶å®æˆ‘ä¸æ˜¯ç‰¹åˆ«å–œæ¬¢å»æ¥è¿‘é‚£äº›å¾ˆå¼ºçš„äººï¼Œå› ä¸ºä»–ä»¬æ€»æ˜¯å‡­ç€è‡ªå·±çš„å®åŠ›ä¸é¡¾åˆ«äººçš„æ„Ÿå—ã€‚å¤§æ¦‚åœ¨è¿™æ ·çš„æ•™è‚²åˆ¶åº¦ä¸‹ï¼Œå­¦ä¹ å¥½ã€å¾—äº†é“¶ç‰Œæˆ–è€…æ€æ ·ï¼Œæ‰ä¼šæœ‰å‘è¨€æƒå§ã€‚ è¿™ç§äººå¼ºåˆ°è®©æˆ‘åŒæ¶ã€‚ä¹Ÿè®©æˆ‘æ‚²å“€ã€‚ å¥½å•¦å¥½å•¦ä½ å¼ºå¥½å•¦â€¦â€¦æˆ‘æ»šç²—å¥½äº†å§â€¦â€¦ æˆ‘å¹¶ä¸æ˜¯å¾ˆæœæ°”ï¼Œä½†æ˜¯ç°å®å´æ€»æ˜¯ä¸å°½äººæ„ã€‚ è¿‡å»æˆ‘ä¸€ç›´èƒ½ä¾é ç€çš„ã€å¯ä»¥åŒ…å®¹æˆ‘çš„äººå·²ç»ä¸æˆ‘ä¸€åˆ«ä¸¤å®½äº†ï¼Œ ä¼°è®¡ä»¥åä¹Ÿåªèƒ½é è‡ªå·±äº†å§ã€‚ æˆ‘å¹¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘è¦é€‰æ‹©æ‰¿å—è¿™ä¹ˆå¤šï¼Œå¤§æ¦‚æ˜¯å¤©æ€§ä½¿ç„¶å§ã€‚ æˆ‘æŠŠä¸˜å‰å°”çš„ä¸€å¥è¯å½“ä½œäººç”Ÿçš„ä¿¡æ¡â€”â€”å½“ç„¶ä¸æ˜¯å”¯ä¸€çš„ä¿¡æ¡ã€‚ äºŒæˆ˜ç»“æŸåçš„ä¸€å¤©ï¼Œå¹´è€çš„ä¸˜å‰å°”æ¥åˆ°è‹±å›½ä¸‹è®®é™¢ï¼Œååœ¨ä¸€ä¸ªå¹´è½»çš„è®®å‘˜æ—è¾¹ï¼Œçªç„¶é—®é“ï¼šâ€œå¹´è½»äººï¼Œä½ çŸ¥é“æ˜¯ä»€ä¹ˆä¸œè¥¿æ”¯æ’‘æˆ‘åœ¨å„æ–¹é¢éƒ½å–å¾—äº†å¦‚æ­¤å·¨å¤§çš„æˆå°±å—ï¼Ÿâ€è¿™ä¸ªå¹´è½»çš„ä¸€å‘˜ç”¨éå¸¸æ¸´æœ›çš„çœ¼ç¥ç­‰å¾…ç€è¿™ä½å¾·é«˜æœ›ä¼—çš„ä¼Ÿå¤§äººç‰©çš„æ•™è¯²ï¼Œä»–è¯´ï¼šâ€œæˆ‘éå¸¸æƒ³çŸ¥é“ã€‚â€â€œè™šè£å¿ƒï¼å¼ºçƒˆçš„è™šè£å¿ƒï¼â€ä¸˜å‰å°”å¤§å£°è¯´é“ï¼Œéšå³å“ˆå“ˆå¤§ç¬‘ï¼Œèµ·èº«è€Œå»ã€‚ è·¯åœ¨å“ªå‘¢â€¦â€¦]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>éšæƒ³/ä¸‹ä¸‹ç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšæƒ³ä¸€Â·æ¨æŸ³å²¸æ™“é£æ®‹æœˆ]]></title>
    <url>%2Fblog%2F%3Aif%20expand(%22%25%22)%20%3D%3D%20%22%22%7Cbrowse%20confirm%20w%7Celse%7Cconfirm%20w%7Cendif%2F2018%2F08%2F02%2F%E9%9A%8F%E6%83%B3%E4%B8%80%2F</url>
    <content type="text"><![CDATA[â€œéšæƒ³â€ç³»åˆ—ç´¢å¼•ï¼šæˆ³æˆ‘ æˆ‘æ˜¯èŠ±ï¼Œæ¥è‡ªå±±ä¸œï¼Œä»Šæ—¶ä»Šæ—¥å†™ä¸‹è¿™ä¸€ç¯‡ï¼Œåªæ˜¯ä¸ºäº†ç»™å¹¶è‚©çš„$Oiers$ä¸€ä¸ªä¸ç®—å¤šç¾çš„æ•…äº‹ï¼Œä¸ºäº†ç»™åæ¥çš„$Oiers$ä¸€ä¸ªå¯¹æœªæ¥æœ‰æ‰€æœŸæœ›çš„æ„¿æ™¯ã€‚ çœ‹ç€çœ¼å‰å‘é»„çš„ç”µè„‘å±å¹•ï¼Œä¸çŸ¥é“è¯¥è¯´äº›ä»€ä¹ˆã€‚ ç°åœ¨çš„æˆ‘å³å°†é«˜ä¸€ï¼Œæœ‰ç€æ¯”è¾ƒå‰å®³çš„å­¦é•¿ï¼Œå’Œä»€ä¹ˆéƒ½ä¸ä¼šçš„æ•™ç»ƒï¼Œæ¯å¤©æ¥æœºæˆ¿å°±æ˜¯åˆ·é¢˜-&gt;ä¸ä¼š-&gt;åˆ·é¢˜-&gt;ä¸ä¼šã€‚ å¤§æ¦‚æˆ‘é©¬ä¸Šå°±è¦ä¹ æƒ¯äº†å§ã€‚ é—·çƒ­çš„å…«æœˆè®©äººæœ‰ä¸€ç§è¯´ä¸å‡ºçš„æƒ†æ€…ï¼Œå¤§æ¦‚æ˜¯åˆä¸­æ¯•ä¸šæ—§äº‹æœªäº†ï¼Œæˆ–è€…æ˜¯å³å°†$NOIp$ä½†å´å¹¶æ²¡å¤ªå¤§ä¿¡å¿ƒï¼Œæˆ–è€…æ˜¯æ•™ç»ƒæ€»æ˜¯ç»™å‡ºä¸å°½äººæ„çš„å®‰æ’æ‰“ä¹±è®¡åˆ’ã€‚ æˆ‘æç€æ‰‹è¾¹æ–°æ¢ä¸Šçš„çœ¼é•œè…¿å„¿ï¼Œé»˜é»˜åœ°æƒ³åˆ°ã€‚ æˆ‘ä¾ç¨€è®°å¾—å‡ ä¸ªæœˆå‰çš„å¿«ä¹åœºæ™¯ï¼šæ¯å¤©éƒ½åœ¨å­¦æ–°ç®—æ³•ã€ä¸äº¦ä¹ä¹åœ°å­¦ã€åºŸå¯å¿˜é£Ÿåœ°å­¦ã€‚æœ€è®¨åŒåšæ¨¡æ‹Ÿé¢˜ã€ç›ä¸½é¢˜æˆ–è€…æœç´¢é¢˜ã€‚æœ€å–œæ¬¢å»å­¦ä¹ æ–°çš„ç®—æ³•ï¼Œæ‰€ä»¥å¯¼è‡´æˆ‘æ•´å¤©åˆ·æ¨¡æ¿é¢˜ï¼šçº¿æ®µæ ‘ã€$Splay$ã€$LCA$â€¦â€¦å¶å°”ä¼šå…´è‡´ç›ç„¶åœ°å‘å‡ ç¯‡é¢˜è§£ï¼Œä¹Ÿæ€»æ˜¯ä¼šç”¨æœ€ç”ŸåŠ¨çš„è¯­è¨€ï¼Œç›¯ç€$luogu$çš„$markdown$é‚£æ–¹å°å°çš„ç¼–è¾‘æ¡†ï¼Œä¸€ä¸ªå­—ä¸€ä¸ªå­—åœ°ç ç€ã€‚äºŒæœˆçš„åŸ¹è®­è®©æˆ‘è§‰å¾—æ˜¯æœ€æœ‰æ„ä¹‰çš„ä¸€æ¬¡åŸ¹è®­äº†ï¼Œå¤§å¤šæ•°ç²¾è‡´çš„$blog$éƒ½å‡ºè‡ªé‚£æ—¶ã€‚ä¸€èˆ¬éƒ½æ˜¯å›åˆ°å®¾é¦†åï¼Œå¼€å§‹è”æœºé¢“åºŸï¼Œç­‰åˆ°åŠå¤œå‡Œæ™¨å¼€å§‹å†™åšå®¢ï¼Œå†™åˆ°é±¼è‚šæ³›ç™½æˆ–è€…å›°æ„è¢­æ¥æ‰ç½¢ä¼‘ã€‚ å¯çœŸæ˜¯è®©äººé«˜å…´çš„å›å¿†å•Šâ€¦â€¦ å›æƒ³è¿™å‡ ä¸ªæœˆï¼Œå˜åŒ–æ˜¯æ—¥æ–°æœˆå¼‚çš„â€”â€”å°±å¦‚åŒæŠŠä¸€é¢—å°å°çš„çŸ³å­æ‰”è¿›ä¸€æ± é™æ°´ï¼Œèµ·åˆä¸è§å¤šå¤§å£°åŠ¿ï¼Œé™å€™æ‰å¯è§å…¶æ—©å·²æ¶¤è¡äº†åŠæ± â€”â€”æ˜¯æ³¢çº¹å±•å¼€äº†ã€‚ä¸€å¼€å§‹æ¥è¿™å„¿ï¼Œæ˜¯å®åŠ›æ‚¬æ®Šçš„â€”â€”åˆä¸­æœ‰äººåŠªåŠ›ã€ä¹Ÿæœ‰äººä¸åŠªåŠ›ï¼›åˆä¸­æ—¶éƒ½æŒºèªæ˜ï¼Œåœ¨ç­é‡Œéƒ½ååˆ—å‰èŒ…ï¼›åˆä¸­æ—¶ä¸Šå¥¥èµ›å‡ ä¹ç­‰äºé¢“åºŸï¼Œå› ä¸ºæ²¡å¤šå°‘äººçœŸæ­£åœ°åœ¨åšé¢˜â€¦â€¦ å¯æƒœæ—¶å…‰ä¸å®¹è®¸ä¿ç•™åŸæ¥çš„æ¨¡æ ·ã€‚ ä¸»ä»»ç›¯å¾—ç´§ï¼Œæ•™ç»ƒæ€‚ä¸»ä»»ä»è€Œä¹Ÿç›¯å¾—ç´§ï¼›å¤§å¤šæ•°äººéƒ½å› ä¸ºå¤–åŠ›çš„å› ç´ å¿…é¡»è¦åŠªåŠ›ï¼Œä½†ä¹Ÿæœ‰æ ¹æœ¬ä¸æƒ³åŠªåŠ›çš„äººï¼›ä»¥å‰å¯ä»¥éª„å‚²çš„èµ„æœ¬ã€è­¬å¦‚æ–‡åŒ–è¯¾ï¼Œç°åœ¨æ—©å°±å˜æˆäº†ä¸€çº¸ç©ºè°ˆâ€”â€”ä½œä¸ºæ‰€è°“â€œå¥¥èµ›è´Ÿè´£äººâ€çš„æˆ‘ï¼Œçœ‹åˆ°æ¥åˆ°å®éªŒéƒ¨ç¬¬ä¸€æ¬¡çš„æœˆè€ƒæˆç»©æ—¶ï¼Œçœ‹åˆ°çº§éƒ¨å‰äºŒåï¼ˆè¿™ä¸€çº§å®éªŒéƒ¨ä¸€å…±$116$ä¸ªäººï¼‰å……æ–¥ç€æ•°å­¦ç‰©ç†åŒ–å­¦ç”Ÿç‰©å¥¥èµ›çš„äººã€å´åˆè·Ÿä¿¡æ¯å­¦å¥¥èµ›æ²¡æœ‰ä»»ä½•å…³ç³»æ—¶ï¼Œæˆ‘ä¸çŸ¥é“è¯¥æ€ä¹ˆåšã€‚ äºæ˜¯æˆ‘ä¾¿å¼€å§‹åŠ å¤§å‹åŠ›ï¼šç»„ç»‡å­¦ç”Ÿå®šæœŸè®²è¯¾ã€å®šæœŸæ¯”èµ›ã€‚ç”¨è¿™ç§ç©ºæ³›çš„å‹æ¦¨æ—¶é—´çš„è¡Œä¸ºæ¥å‹æ¦¨æ•ˆç‡æ— ç–‘æ˜¯å¯ç¬‘çš„ï¼Œä½†æ˜¯ä¹Ÿèµ·äº†ä¸€éƒ¨åˆ†å¥½çš„æ•ˆæœï¼šå‡ ä¸ª$NOIp$å†…å®¹éƒ½æ²¡ä¼šç†Ÿç»ƒçš„å®¶ä¼™å¼€å§‹è·ƒè·ƒæ¬²è¯•åœ°å­¦ä¹ $Splay$ã€å­¦ä¹ ç½‘ç»œæµâ€¦â€¦æˆ‘ä¸çŸ¥é“è¿™æ ·åšæ˜¯å¦çœŸçš„å¥½ï¼Œå°±å¦‚åŒæˆ‘ä¸çŸ¥é“æˆ‘å­¦ä¹ æ–°ä¸œè¥¿æ˜¯å¦ä¼šåœ¨åæœˆã€ç”šè‡³åä¸€æœˆä¹‹å‰å‹å®æ‰€æœ‰äººçš„ç¥ç»â€”â€”å­¦å®Œæ–°ä¸œè¥¿ã€åè¿‡å¤´æ¥å‘ç°åŸºç¡€å´æ ¹æœ¬ä¸ç‰¢å›ºâ€”â€”å°±å¦‚åŒä¸ºäº†å­¦æ–°çŸ¥è¯†ï¼Œè€Œå»å­¦æ–°çŸ¥è¯†ã€‚è¿™ç§åŠŸåˆ©è®©æˆ‘ä¸çŸ¥é“ç°åœ¨åœ¨èµ°ç€ä¸€æ¡æ€æ ·çš„è·¯ã€‚ ç»ˆäºï¼Œå·®è·å‡ºæ¥äº†ã€‚ç»è¿‡å‡ ä¸ªæœˆè®­ç»ƒã€å®åŠ›å¼ºåŠ²çš„äººè‡ªç„¶æ¶Œäº†ä¸Šæ¥ï¼Œä¹Ÿæœ‰æ ¹æœ¬ä¸è¡Œçš„äººå…‰è¾‰é€æ¸é»¯æ·¡ã€‚äºŒæœˆæ—¶çš„èƒ½åŠ›å±€é¢ç°åœ¨æ—©å°±ä¼šç„•ç„¶ä¸€æ–°ï¼Œæœ‰äººé€‰æ‹©èµ°ï¼Œæœ‰äººé€‰æ‹©è‹Ÿæ´»ã€‚æˆ‘ä¸æ¸…æ¥šåŸæ¥é‚£äº›å……æ»¡éª„å‚²çš„ã€æƒ¬æ„çš„è„¸åºå¦‚ä»Šå»äº†å“ªé‡Œï¼Œæˆ‘åªçŸ¥é“æˆ‘ç»™ä»–ä»¬å®šçš„ç›®æ ‡æ˜¯ä»Šå¹´å…¨éƒ¨çœä¸€ã€æˆ‘åªçŸ¥é“æ¥åˆ°å®éªŒéƒ¨ä¹‹åï¼Œåªèƒ½é€‰æ‹©è´Ÿé‡å‰è¡Œã€‚ çœ‹ç€æœºæˆ¿é‡Œå…¶ä»–äººçš„å˜åŒ–ï¼Œå°±å®›å¦‚ç¿»å®Œäº†ä¸€éƒ¨å°è¯´ä¸€èˆ¬ï¼Œè·Œå®•è€Œç¬¦åˆé€»è¾‘ã€‚ å‘Šåˆ«äº†åˆä¸­ï¼Œç•™ä¸‹äº†ä»€ä¹ˆå‘¢ï¼Ÿæˆ–è®¸æ˜¯ç”±äºè‡ªèº«æ„æ°”ç”¨äº‹è€Œç ´åäº†åŸæœ¬çº¯æ´çš„å‹æƒ…ï¼Œä½†æ˜¯æˆ‘ä¸èƒ½â€”â€”çœŸçš„ä¸èƒ½ä»…ä»…æŠŠ$Ta$å½“ä½œä¸€ä¸ªä¸ä¸–å‡ºçš„å¥½æœ‹å‹ã€‚ä½†å½“æˆ‘è·¨è¶Šäº†è‡ªèº«çš„é‚£ä¸€æ­¥ä¹‹åæ‰å‘ç°åŸæ¥æ— äººç­‰å€™ï¼Œæ‰å‘ç°æˆ‘åªèƒ½æŠŠä¸€äº›äº‹æƒ…æŠ›æ’’åœ¨é£é‡Œï¼Œç„¶åå®‰æ…°è‡ªå·±â€œæ²¡äº‹â€ã€‚ æˆ‘å–œæ¬¢æå®—ç››ï¼Œå–œæ¬¢ä»–çš„æ­Œé‡Œé¢å”±å‡ºçš„äººé—´æ— å¥ˆã€‚è€Œæœ€å–œæ¬¢çš„æ˜¯ä»–çš„ã€Šå±±ä¸˜ã€‹: ç»™è‡ªå·±éšä¾¿æ‰¾äº†ä¸ªç†ç”±ï¼Œ å‘æƒ…çˆ±çš„æŒ‘é€—ï¼Œå‘½è¿çš„å·¦å³ã€‚ ä¸è‡ªé‡åŠ›åœ°è¿˜æ‰‹ï¼Œç›´è‡³æ­»æ–¹ä¼‘â€”â€” è¶Šè¿‡å±±ä¸˜â€”â€”è™½ç„¶å·²ç™½äº†å¤´ï¼› å–‹å–‹ä¸ä¼‘â€”â€”æ—¶ä¸æˆ‘äºˆçš„å“€æ„ï¼› è¿˜æœªå¦‚æ„¿è§ç€ä¸æœ½ å°±æŠŠè‡ªå·±å…ˆæä¸¢â€”â€” è¶Šè¿‡å±±ä¸˜â€”â€”æ‰å‘ç°æ— äººç­‰å€™ï¼› å–‹å–‹ä¸ä¼‘â€”â€”å†ä¹Ÿå”¤ä¸å›äº†æ¸©æŸ”ï¼› ä¸ºä½•è®°ä¸å¾—ä¸Šä¸€æ¬¡æ˜¯è°ç»™çš„æ‹¥æŠ± åœ¨ä»€ä¹ˆæ—¶å€™ã€‚ å¤§æ¦‚æ˜¯èƒ½å”±å‡ºæŸ³æ°¸â€œæ¨æŸ³å²¸æ™“é£æ®‹æœˆâ€å‡ åˆ†æ„å‘³çš„å§ã€‚ $2018/8/4â€‹$]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>éšæƒ³/ä¸‹ä¸‹ç¬”</tag>
      </tags>
  </entry>
</search>
